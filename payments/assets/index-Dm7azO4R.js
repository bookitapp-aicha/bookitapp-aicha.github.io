(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const m of d)if(m.type==="childList")for(const h of m.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&c(h)}).observe(document,{childList:!0,subtree:!0});function o(d){const m={};return d.integrity&&(m.integrity=d.integrity),d.referrerPolicy&&(m.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?m.credentials="include":d.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(d){if(d.ep)return;d.ep=!0;const m=o(d);fetch(d.href,m)}})();function Hy(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var kc={exports:{}},di={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var op;function tv(){if(op)return di;op=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.fragment");function o(c,d,m){var h=null;if(m!==void 0&&(h=""+m),d.key!==void 0&&(h=""+d.key),"key"in d){m={};for(var p in d)p!=="key"&&(m[p]=d[p])}else m=d;return d=m.ref,{$$typeof:a,type:c,key:h,ref:d!==void 0?d:null,props:m}}return di.Fragment=i,di.jsx=o,di.jsxs=o,di}var cp;function nv(){return cp||(cp=1,kc.exports=tv()),kc.exports}var l=nv(),zc={exports:{}},ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var up;function av(){if(up)return ne;up=1;var a=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),j=Symbol.iterator;function D(N){return N===null||typeof N!="object"?null:(N=j&&N[j]||N["@@iterator"],typeof N=="function"?N:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,H={};function B(N,U,q){this.props=N,this.context=U,this.refs=H,this.updater=q||k}B.prototype.isReactComponent={},B.prototype.setState=function(N,U){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,U,"setState")},B.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function G(){}G.prototype=B.prototype;function P(N,U,q){this.props=N,this.context=U,this.refs=H,this.updater=q||k}var $=P.prototype=new G;$.constructor=P,L($,B.prototype),$.isPureReactComponent=!0;var Y=Array.isArray;function ie(){}var W={H:null,A:null,T:null,S:null},ee=Object.prototype.hasOwnProperty;function we(N,U,q){var X=q.ref;return{$$typeof:a,type:N,key:U,ref:X!==void 0?X:null,props:q}}function Ie(N,U){return we(N.type,U,N.props)}function We(N){return typeof N=="object"&&N!==null&&N.$$typeof===a}function Je(N){var U={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(q){return U[q]})}var tn=/\/+/g;function Ct(N,U){return typeof N=="object"&&N!==null&&N.key!=null?Je(""+N.key):U.toString(36)}function dt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ie,ie):(N.status="pending",N.then(function(U){N.status==="pending"&&(N.status="fulfilled",N.value=U)},function(U){N.status==="pending"&&(N.status="rejected",N.reason=U)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function R(N,U,q,X,ae){var oe=typeof N;(oe==="undefined"||oe==="boolean")&&(N=null);var ve=!1;if(N===null)ve=!0;else switch(oe){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(N.$$typeof){case a:case i:ve=!0;break;case b:return ve=N._init,R(ve(N._payload),U,q,X,ae)}}if(ve)return ae=ae(N),ve=X===""?"."+Ct(N,0):X,Y(ae)?(q="",ve!=null&&(q=ve.replace(tn,"$&/")+"/"),R(ae,U,q,"",function(xs){return xs})):ae!=null&&(We(ae)&&(ae=Ie(ae,q+(ae.key==null||N&&N.key===ae.key?"":(""+ae.key).replace(tn,"$&/")+"/")+ve)),U.push(ae)),1;ve=0;var rt=X===""?".":X+":";if(Y(N))for(var Ve=0;Ve<N.length;Ve++)X=N[Ve],oe=rt+Ct(X,Ve),ve+=R(X,U,q,oe,ae);else if(Ve=D(N),typeof Ve=="function")for(N=Ve.call(N),Ve=0;!(X=N.next()).done;)X=X.value,oe=rt+Ct(X,Ve++),ve+=R(X,U,q,oe,ae);else if(oe==="object"){if(typeof N.then=="function")return R(dt(N),U,q,X,ae);throw U=String(N),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return ve}function V(N,U,q){if(N==null)return N;var X=[],ae=0;return R(N,X,"","",function(oe){return U.call(q,oe,ae++)}),X}function Q(N){if(N._status===-1){var U=N._result;U=U(),U.then(function(q){(N._status===0||N._status===-1)&&(N._status=1,N._result=q)},function(q){(N._status===0||N._status===-1)&&(N._status=2,N._result=q)}),N._status===-1&&(N._status=0,N._result=U)}if(N._status===1)return N._result.default;throw N._result}var de=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},pe={map:V,forEach:function(N,U,q){V(N,function(){U.apply(this,arguments)},q)},count:function(N){var U=0;return V(N,function(){U++}),U},toArray:function(N){return V(N,function(U){return U})||[]},only:function(N){if(!We(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return ne.Activity=v,ne.Children=pe,ne.Component=B,ne.Fragment=o,ne.Profiler=d,ne.PureComponent=P,ne.StrictMode=c,ne.Suspense=x,ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,ne.__COMPILER_RUNTIME={__proto__:null,c:function(N){return W.H.useMemoCache(N)}},ne.cache=function(N){return function(){return N.apply(null,arguments)}},ne.cacheSignal=function(){return null},ne.cloneElement=function(N,U,q){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var X=L({},N.props),ae=N.key;if(U!=null)for(oe in U.key!==void 0&&(ae=""+U.key),U)!ee.call(U,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&U.ref===void 0||(X[oe]=U[oe]);var oe=arguments.length-2;if(oe===1)X.children=q;else if(1<oe){for(var ve=Array(oe),rt=0;rt<oe;rt++)ve[rt]=arguments[rt+2];X.children=ve}return we(N.type,ae,X)},ne.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:m,_context:N},N},ne.createElement=function(N,U,q){var X,ae={},oe=null;if(U!=null)for(X in U.key!==void 0&&(oe=""+U.key),U)ee.call(U,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(ae[X]=U[X]);var ve=arguments.length-2;if(ve===1)ae.children=q;else if(1<ve){for(var rt=Array(ve),Ve=0;Ve<ve;Ve++)rt[Ve]=arguments[Ve+2];ae.children=rt}if(N&&N.defaultProps)for(X in ve=N.defaultProps,ve)ae[X]===void 0&&(ae[X]=ve[X]);return we(N,oe,ae)},ne.createRef=function(){return{current:null}},ne.forwardRef=function(N){return{$$typeof:p,render:N}},ne.isValidElement=We,ne.lazy=function(N){return{$$typeof:b,_payload:{_status:-1,_result:N},_init:Q}},ne.memo=function(N,U){return{$$typeof:y,type:N,compare:U===void 0?null:U}},ne.startTransition=function(N){var U=W.T,q={};W.T=q;try{var X=N(),ae=W.S;ae!==null&&ae(q,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(ie,de)}catch(oe){de(oe)}finally{U!==null&&q.types!==null&&(U.types=q.types),W.T=U}},ne.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},ne.use=function(N){return W.H.use(N)},ne.useActionState=function(N,U,q){return W.H.useActionState(N,U,q)},ne.useCallback=function(N,U){return W.H.useCallback(N,U)},ne.useContext=function(N){return W.H.useContext(N)},ne.useDebugValue=function(){},ne.useDeferredValue=function(N,U){return W.H.useDeferredValue(N,U)},ne.useEffect=function(N,U){return W.H.useEffect(N,U)},ne.useEffectEvent=function(N){return W.H.useEffectEvent(N)},ne.useId=function(){return W.H.useId()},ne.useImperativeHandle=function(N,U,q){return W.H.useImperativeHandle(N,U,q)},ne.useInsertionEffect=function(N,U){return W.H.useInsertionEffect(N,U)},ne.useLayoutEffect=function(N,U){return W.H.useLayoutEffect(N,U)},ne.useMemo=function(N,U){return W.H.useMemo(N,U)},ne.useOptimistic=function(N,U){return W.H.useOptimistic(N,U)},ne.useReducer=function(N,U,q){return W.H.useReducer(N,U,q)},ne.useRef=function(N){return W.H.useRef(N)},ne.useState=function(N){return W.H.useState(N)},ne.useSyncExternalStore=function(N,U,q){return W.H.useSyncExternalStore(N,U,q)},ne.useTransition=function(){return W.H.useTransition()},ne.version="19.2.4",ne}var dp;function _u(){return dp||(dp=1,zc.exports=av()),zc.exports}var F=_u();const sv=Hy(F);var Uc={exports:{}},fi={},Bc={exports:{}},Vc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fp;function iv(){return fp||(fp=1,(function(a){function i(R,V){var Q=R.length;R.push(V);e:for(;0<Q;){var de=Q-1>>>1,pe=R[de];if(0<d(pe,V))R[de]=V,R[Q]=pe,Q=de;else break e}}function o(R){return R.length===0?null:R[0]}function c(R){if(R.length===0)return null;var V=R[0],Q=R.pop();if(Q!==V){R[0]=Q;e:for(var de=0,pe=R.length,N=pe>>>1;de<N;){var U=2*(de+1)-1,q=R[U],X=U+1,ae=R[X];if(0>d(q,Q))X<pe&&0>d(ae,q)?(R[de]=ae,R[X]=Q,de=X):(R[de]=q,R[U]=Q,de=U);else if(X<pe&&0>d(ae,Q))R[de]=ae,R[X]=Q,de=X;else break e}}return V}function d(R,V){var Q=R.sortIndex-V.sortIndex;return Q!==0?Q:R.id-V.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;a.unstable_now=function(){return m.now()}}else{var h=Date,p=h.now();a.unstable_now=function(){return h.now()-p}}var x=[],y=[],b=1,v=null,j=3,D=!1,k=!1,L=!1,H=!1,B=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function $(R){for(var V=o(y);V!==null;){if(V.callback===null)c(y);else if(V.startTime<=R)c(y),V.sortIndex=V.expirationTime,i(x,V);else break;V=o(y)}}function Y(R){if(L=!1,$(R),!k)if(o(x)!==null)k=!0,ie||(ie=!0,Je());else{var V=o(y);V!==null&&dt(Y,V.startTime-R)}}var ie=!1,W=-1,ee=5,we=-1;function Ie(){return H?!0:!(a.unstable_now()-we<ee)}function We(){if(H=!1,ie){var R=a.unstable_now();we=R;var V=!0;try{e:{k=!1,L&&(L=!1,G(W),W=-1),D=!0;var Q=j;try{t:{for($(R),v=o(x);v!==null&&!(v.expirationTime>R&&Ie());){var de=v.callback;if(typeof de=="function"){v.callback=null,j=v.priorityLevel;var pe=de(v.expirationTime<=R);if(R=a.unstable_now(),typeof pe=="function"){v.callback=pe,$(R),V=!0;break t}v===o(x)&&c(x),$(R)}else c(x);v=o(x)}if(v!==null)V=!0;else{var N=o(y);N!==null&&dt(Y,N.startTime-R),V=!1}}break e}finally{v=null,j=Q,D=!1}V=void 0}}finally{V?Je():ie=!1}}}var Je;if(typeof P=="function")Je=function(){P(We)};else if(typeof MessageChannel<"u"){var tn=new MessageChannel,Ct=tn.port2;tn.port1.onmessage=We,Je=function(){Ct.postMessage(null)}}else Je=function(){B(We,0)};function dt(R,V){W=B(function(){R(a.unstable_now())},V)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(R){R.callback=null},a.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<R?Math.floor(1e3/R):5},a.unstable_getCurrentPriorityLevel=function(){return j},a.unstable_next=function(R){switch(j){case 1:case 2:case 3:var V=3;break;default:V=j}var Q=j;j=V;try{return R()}finally{j=Q}},a.unstable_requestPaint=function(){H=!0},a.unstable_runWithPriority=function(R,V){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Q=j;j=R;try{return V()}finally{j=Q}},a.unstable_scheduleCallback=function(R,V,Q){var de=a.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?de+Q:de):Q=de,R){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=Q+pe,R={id:b++,callback:V,priorityLevel:R,startTime:Q,expirationTime:pe,sortIndex:-1},Q>de?(R.sortIndex=Q,i(y,R),o(x)===null&&R===o(y)&&(L?(G(W),W=-1):L=!0,dt(Y,Q-de))):(R.sortIndex=pe,i(x,R),k||D||(k=!0,ie||(ie=!0,Je()))),R},a.unstable_shouldYield=Ie,a.unstable_wrapCallback=function(R){var V=j;return function(){var Q=j;j=V;try{return R.apply(this,arguments)}finally{j=Q}}}})(Vc)),Vc}var hp;function lv(){return hp||(hp=1,Bc.exports=iv()),Bc.exports}var Lc={exports:{}},it={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function rv(){if(mp)return it;mp=1;var a=_u();function i(x){var y="https://react.dev/errors/"+x;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+x+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var c={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},d=Symbol.for("react.portal");function m(x,y,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:v==null?null:""+v,children:x,containerInfo:y,implementation:b}}var h=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(x,y){if(x==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return it.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,it.createPortal=function(x,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(i(299));return m(x,y,null,b)},it.flushSync=function(x){var y=h.T,b=c.p;try{if(h.T=null,c.p=2,x)return x()}finally{h.T=y,c.p=b,c.d.f()}},it.preconnect=function(x,y){typeof x=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,c.d.C(x,y))},it.prefetchDNS=function(x){typeof x=="string"&&c.d.D(x)},it.preinit=function(x,y){if(typeof x=="string"&&y&&typeof y.as=="string"){var b=y.as,v=p(b,y.crossOrigin),j=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?c.d.S(x,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:v,integrity:j,fetchPriority:D}):b==="script"&&c.d.X(x,{crossOrigin:v,integrity:j,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},it.preinitModule=function(x,y){if(typeof x=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);c.d.M(x,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&c.d.M(x)},it.preload=function(x,y){if(typeof x=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,v=p(b,y.crossOrigin);c.d.L(x,b,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},it.preloadModule=function(x,y){if(typeof x=="string")if(y){var b=p(y.as,y.crossOrigin);c.d.m(x,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else c.d.m(x)},it.requestFormReset=function(x){c.d.r(x)},it.unstable_batchedUpdates=function(x,y){return x(y)},it.useFormState=function(x,y,b){return h.H.useFormState(x,y,b)},it.useFormStatus=function(){return h.H.useHostTransitionStatus()},it.version="19.2.4",it}var pp;function ov(){if(pp)return Lc.exports;pp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),Lc.exports=rv(),Lc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function cv(){if(yp)return fi;yp=1;var a=lv(),i=_u(),o=ov();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function x(e){if(m(e)!==e)throw Error(c(188))}function y(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(c(188));return t!==e?null:e}for(var n=e,s=t;;){var r=n.return;if(r===null)break;var u=r.alternate;if(u===null){if(s=r.return,s!==null){n=s;continue}break}if(r.child===u.child){for(u=r.child;u;){if(u===n)return x(r),e;if(u===s)return x(r),t;u=u.sibling}throw Error(c(188))}if(n.return!==s.return)n=r,s=u;else{for(var f=!1,g=r.child;g;){if(g===n){f=!0,n=r,s=u;break}if(g===s){f=!0,s=r,n=u;break}g=g.sibling}if(!f){for(g=u.child;g;){if(g===n){f=!0,n=u,s=r;break}if(g===s){f=!0,s=u,n=r;break}g=g.sibling}if(!f)throw Error(c(189))}}if(n.alternate!==s)throw Error(c(190))}if(n.tag!==3)throw Error(c(188));return n.stateNode.current===n?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,j=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),G=Symbol.for("react.consumer"),P=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),we=Symbol.for("react.activity"),Ie=Symbol.for("react.memo_cache_sentinel"),We=Symbol.iterator;function Je(e){return e===null||typeof e!="object"?null:(e=We&&e[We]||e["@@iterator"],typeof e=="function"?e:null)}var tn=Symbol.for("react.client.reference");function Ct(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===tn?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case L:return"Fragment";case B:return"Profiler";case H:return"StrictMode";case Y:return"Suspense";case ie:return"SuspenseList";case we:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case P:return e.displayName||"Context";case G:return(e._context.displayName||"Context")+".Consumer";case $:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return t=e.displayName||null,t!==null?t:Ct(e.type)||"Memo";case ee:t=e._payload,e=e._init;try{return Ct(e(t))}catch{}}return null}var dt=Array.isArray,R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},de=[],pe=-1;function N(e){return{current:e}}function U(e){0>pe||(e.current=de[pe],de[pe]=null,pe--)}function q(e,t){pe++,de[pe]=e.current,e.current=t}var X=N(null),ae=N(null),oe=N(null),ve=N(null);function rt(e,t){switch(q(oe,t),q(ae,e),q(X,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Mm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Mm(t),e=Rm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(X),q(X,e)}function Ve(){U(X),U(ae),U(oe)}function xs(e){e.memoizedState!==null&&q(ve,e);var t=X.current,n=Rm(t,e.type);t!==n&&(q(ae,e),q(X,n))}function wi(e){ae.current===e&&(U(X),U(ae)),ve.current===e&&(U(ve),ri._currentValue=Q)}var pr,ld;function $n(e){if(pr===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);pr=t&&t[1]||"",ld=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pr+e+ld}var yr=!1;function gr(e,t){if(!e||yr)return"";yr=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(C){var w=C}Reflect.construct(e,[],z)}else{try{z.call()}catch(C){w=C}e.call(z.prototype)}}else{try{throw Error()}catch(C){w=C}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(C){if(C&&w&&typeof C.stack=="string")return[C.stack,w.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),f=u[0],g=u[1];if(f&&g){var S=f.split(`
`),_=g.split(`
`);for(r=s=0;s<S.length&&!S[s].includes("DetermineComponentFrameRoot");)s++;for(;r<_.length&&!_[r].includes("DetermineComponentFrameRoot");)r++;if(s===S.length||r===_.length)for(s=S.length-1,r=_.length-1;1<=s&&0<=r&&S[s]!==_[r];)r--;for(;1<=s&&0<=r;s--,r--)if(S[s]!==_[r]){if(s!==1||r!==1)do if(s--,r--,0>r||S[s]!==_[r]){var M=`
`+S[s].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=s&&0<=r);break}}}finally{yr=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?$n(n):""}function Rg(e,t){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return e.child!==t&&t!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return gr(e.type,!1);case 11:return gr(e.type.render,!1);case 1:return gr(e.type,!0);case 31:return $n("Activity");default:return""}}function rd(e){try{var t="",n=null;do t+=Rg(e,n),n=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var xr=Object.prototype.hasOwnProperty,br=a.unstable_scheduleCallback,vr=a.unstable_cancelCallback,Og=a.unstable_shouldYield,kg=a.unstable_requestPaint,bt=a.unstable_now,zg=a.unstable_getCurrentPriorityLevel,od=a.unstable_ImmediatePriority,cd=a.unstable_UserBlockingPriority,Ci=a.unstable_NormalPriority,Ug=a.unstable_LowPriority,ud=a.unstable_IdlePriority,Bg=a.log,Vg=a.unstable_setDisableYieldValue,bs=null,vt=null;function jn(e){if(typeof Bg=="function"&&Vg(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(bs,e)}catch{}}var St=Math.clz32?Math.clz32:Hg,Lg=Math.log,Pg=Math.LN2;function Hg(e){return e>>>=0,e===0?32:31-(Lg(e)/Pg|0)|0}var Di=256,Mi=262144,Ri=4194304;function ea(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Oi(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var r=0,u=e.suspendedLanes,f=e.pingedLanes;e=e.warmLanes;var g=s&134217727;return g!==0?(s=g&~u,s!==0?r=ea(s):(f&=g,f!==0?r=ea(f):n||(n=g&~e,n!==0&&(r=ea(n))))):(g=s&~u,g!==0?r=ea(g):f!==0?r=ea(f):n||(n=s&~e,n!==0&&(r=ea(n)))),r===0?0:t!==0&&t!==r&&(t&u)===0&&(u=r&-r,n=t&-t,u>=n||u===32&&(n&4194048)!==0)?t:r}function vs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function qg(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dd(){var e=Ri;return Ri<<=1,(Ri&62914560)===0&&(Ri=4194304),e}function Sr(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ss(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gg(e,t,n,s,r,u){var f=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var g=e.entanglements,S=e.expirationTimes,_=e.hiddenUpdates;for(n=f&~n;0<n;){var M=31-St(n),z=1<<M;g[M]=0,S[M]=-1;var w=_[M];if(w!==null)for(_[M]=null,M=0;M<w.length;M++){var C=w[M];C!==null&&(C.lane&=-536870913)}n&=~z}s!==0&&fd(e,s,0),u!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=u&~(f&~t))}function fd(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-St(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&261930}function hd(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-St(n),r=1<<s;r&t|e[s]&t&&(e[s]|=t),n&=~r}}function md(e,t){var n=t&-t;return n=(n&42)!==0?1:jr(n),(n&(e.suspendedLanes|t))!==0?0:n}function jr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Tr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pd(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:tp(e.type))}function yd(e,t){var n=V.p;try{return V.p=e,t()}finally{V.p=n}}var Tn=Math.random().toString(36).slice(2),$e="__reactFiber$"+Tn,ft="__reactProps$"+Tn,Ta="__reactContainer$"+Tn,Nr="__reactEvents$"+Tn,Kg="__reactListeners$"+Tn,Yg="__reactHandles$"+Tn,gd="__reactResources$"+Tn,js="__reactMarker$"+Tn;function Ar(e){delete e[$e],delete e[ft],delete e[Nr],delete e[Kg],delete e[Yg]}function Na(e){var t=e[$e];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ta]||n[$e]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Lm(e);e!==null;){if(n=e[$e])return n;e=Lm(e)}return t}e=n,n=e.parentNode}return null}function Aa(e){if(e=e[$e]||e[Ta]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ts(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function Ea(e){var t=e[gd];return t||(t=e[gd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[js]=!0}var xd=new Set,bd={};function ta(e,t){_a(e,t),_a(e+"Capture",t)}function _a(e,t){for(bd[e]=t,e=0;e<t.length;e++)xd.add(t[e])}var Ig=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vd={},Sd={};function Xg(e){return xr.call(Sd,e)?!0:xr.call(vd,e)?!1:Ig.test(e)?Sd[e]=!0:(vd[e]=!0,!1)}function ki(e,t,n){if(Xg(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function zi(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function nn(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qg(e,t,n){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(f){n=""+f,u.call(this,f)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(f){n=""+f},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Er(e){if(!e._valueTracker){var t=jd(e)?"checked":"value";e._valueTracker=Qg(e,t,""+e[t])}}function Td(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=jd(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function Ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zg=/[\n"\\]/g;function Mt(e){return e.replace(Zg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function _r(e,t,n,s,r,u,f,g){e.name="",f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.type=f:e.removeAttribute("type"),t!=null?f==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Dt(t)):e.value!==""+Dt(t)&&(e.value=""+Dt(t)):f!=="submit"&&f!=="reset"||e.removeAttribute("value"),t!=null?wr(e,f,Dt(t)):n!=null?wr(e,f,Dt(n)):s!=null&&e.removeAttribute("value"),r==null&&u!=null&&(e.defaultChecked=!!u),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+Dt(g):e.removeAttribute("name")}function Nd(e,t,n,s,r,u,f,g){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||n!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Er(e);return}n=n!=null?""+Dt(n):"",t=t!=null?""+Dt(t):n,g||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=g?e.checked:!!s,e.defaultChecked=!!s,f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.name=f),Er(e)}function wr(e,t,n){t==="number"&&Ui(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function wa(e,t,n,s){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Dt(n),t=null,r=0;r<e.length;r++){if(e[r].value===n){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Ad(e,t,n){if(t!=null&&(t=""+Dt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+Dt(n):""}function Ed(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(c(92));if(dt(s)){if(1<s.length)throw Error(c(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=Dt(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s),Er(e)}function Ca(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Fg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _d(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||Fg.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function wd(e,t,n){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&n[r]!==s&&_d(e,r,s)}else for(var u in t)t.hasOwnProperty(u)&&_d(e,u,t[u])}function Cr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bi(e){return Jg.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function an(){}var Dr=null;function Mr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Da=null,Ma=null;function Cd(e){var t=Aa(e);if(t&&(e=t.stateNode)){var n=e[ft]||null;e:switch(e=t.stateNode,t.type){case"input":if(_r(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var r=s[ft]||null;if(!r)throw Error(c(90));_r(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&Td(s)}break e;case"textarea":Ad(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&wa(e,!!n.multiple,t,!1)}}}var Rr=!1;function Dd(e,t,n){if(Rr)return e(t,n);Rr=!0;try{var s=e(t);return s}finally{if(Rr=!1,(Da!==null||Ma!==null)&&(Nl(),Da&&(t=Da,e=Ma,Ma=Da=null,Cd(t),e)))for(t=0;t<e.length;t++)Cd(e[t])}}function Ns(e,t){var n=e.stateNode;if(n===null)return null;var s=n[ft]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(c(231,t,typeof n));return n}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=!1;if(sn)try{var As={};Object.defineProperty(As,"passive",{get:function(){Or=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{Or=!1}var Nn=null,kr=null,Vi=null;function Md(){if(Vi)return Vi;var e,t=kr,n=t.length,s,r="value"in Nn?Nn.value:Nn.textContent,u=r.length;for(e=0;e<n&&t[e]===r[e];e++);var f=n-e;for(s=1;s<=f&&t[n-s]===r[u-s];s++);return Vi=r.slice(e,1<s?1-s:void 0)}function Li(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Pi(){return!0}function Rd(){return!1}function ht(e){function t(n,s,r,u,f){this._reactName=n,this._targetInst=r,this.type=s,this.nativeEvent=u,this.target=f,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(n=e[g],this[g]=n?n(u):u[g]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Pi:Rd,this.isPropagationStopped=Rd,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pi)},persist:function(){},isPersistent:Pi}),t}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hi=ht(na),Es=v({},na,{view:0,detail:0}),$g=ht(Es),zr,Ur,_s,qi=v({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_s&&(_s&&e.type==="mousemove"?(zr=e.screenX-_s.screenX,Ur=e.screenY-_s.screenY):Ur=zr=0,_s=e),zr)},movementY:function(e){return"movementY"in e?e.movementY:Ur}}),Od=ht(qi),ex=v({},qi,{dataTransfer:0}),tx=ht(ex),nx=v({},Es,{relatedTarget:0}),Br=ht(nx),ax=v({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),sx=ht(ax),ix=v({},na,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lx=ht(ix),rx=v({},na,{data:0}),kd=ht(rx),ox={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ux={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ux[e])?!!t[e]:!1}function Vr(){return dx}var fx=v({},Es,{key:function(e){if(e.key){var t=ox[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(e){return e.type==="keypress"?Li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hx=ht(fx),mx=v({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zd=ht(mx),px=v({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),yx=ht(px),gx=v({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),xx=ht(gx),bx=v({},qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vx=ht(bx),Sx=v({},na,{newState:0,oldState:0}),jx=ht(Sx),Tx=[9,13,27,32],Lr=sn&&"CompositionEvent"in window,ws=null;sn&&"documentMode"in document&&(ws=document.documentMode);var Nx=sn&&"TextEvent"in window&&!ws,Ud=sn&&(!Lr||ws&&8<ws&&11>=ws),Bd=" ",Vd=!1;function Ld(e,t){switch(e){case"keyup":return Tx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function Ax(e,t){switch(e){case"compositionend":return Pd(t);case"keypress":return t.which!==32?null:(Vd=!0,Bd);case"textInput":return e=t.data,e===Bd&&Vd?null:e;default:return null}}function Ex(e,t){if(Ra)return e==="compositionend"||!Lr&&Ld(e,t)?(e=Md(),Vi=kr=Nn=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ud&&t.locale!=="ko"?null:t.data;default:return null}}var _x={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_x[e.type]:t==="textarea"}function qd(e,t,n,s){Da?Ma?Ma.push(s):Ma=[s]:Da=s,t=Ml(t,"onChange"),0<t.length&&(n=new Hi("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Cs=null,Ds=null;function wx(e){Am(e,0)}function Gi(e){var t=Ts(e);if(Td(t))return e}function Gd(e,t){if(e==="change")return t}var Kd=!1;if(sn){var Pr;if(sn){var Hr="oninput"in document;if(!Hr){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),Hr=typeof Yd.oninput=="function"}Pr=Hr}else Pr=!1;Kd=Pr&&(!document.documentMode||9<document.documentMode)}function Id(){Cs&&(Cs.detachEvent("onpropertychange",Xd),Ds=Cs=null)}function Xd(e){if(e.propertyName==="value"&&Gi(Ds)){var t=[];qd(t,Ds,e,Mr(e)),Dd(wx,t)}}function Cx(e,t,n){e==="focusin"?(Id(),Cs=t,Ds=n,Cs.attachEvent("onpropertychange",Xd)):e==="focusout"&&Id()}function Dx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gi(Ds)}function Mx(e,t){if(e==="click")return Gi(t)}function Rx(e,t){if(e==="input"||e==="change")return Gi(t)}function Ox(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:Ox;function Ms(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var r=n[s];if(!xr.call(t,r)||!jt(e[r],t[r]))return!1}return!0}function Qd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zd(e,t){var n=Qd(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Qd(n)}}function Fd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Wd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ui(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ui(e.document)}return t}function qr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var kx=sn&&"documentMode"in document&&11>=document.documentMode,Oa=null,Gr=null,Rs=null,Kr=!1;function Jd(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Kr||Oa==null||Oa!==Ui(s)||(s=Oa,"selectionStart"in s&&qr(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Rs&&Ms(Rs,s)||(Rs=s,s=Ml(Gr,"onSelect"),0<s.length&&(t=new Hi("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Oa)))}function aa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ka={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},Yr={},$d={};sn&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function sa(e){if(Yr[e])return Yr[e];if(!ka[e])return e;var t=ka[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $d)return Yr[e]=t[n];return e}var ef=sa("animationend"),tf=sa("animationiteration"),nf=sa("animationstart"),zx=sa("transitionrun"),Ux=sa("transitionstart"),Bx=sa("transitioncancel"),af=sa("transitionend"),sf=new Map,Ir="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ir.push("scrollEnd");function qt(e,t){sf.set(e,t),ta(t,[e])}var Ki=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Rt=[],za=0,Xr=0;function Yi(){for(var e=za,t=Xr=za=0;t<e;){var n=Rt[t];Rt[t++]=null;var s=Rt[t];Rt[t++]=null;var r=Rt[t];Rt[t++]=null;var u=Rt[t];if(Rt[t++]=null,s!==null&&r!==null){var f=s.pending;f===null?r.next=r:(r.next=f.next,f.next=r),s.pending=r}u!==0&&lf(n,r,u)}}function Ii(e,t,n,s){Rt[za++]=e,Rt[za++]=t,Rt[za++]=n,Rt[za++]=s,Xr|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Qr(e,t,n,s){return Ii(e,t,n,s),Xi(e)}function ia(e,t){return Ii(e,null,null,t),Xi(e)}function lf(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var r=!1,u=e.return;u!==null;)u.childLanes|=n,s=u.alternate,s!==null&&(s.childLanes|=n),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(r=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,r&&t!==null&&(r=31-St(n),e=u.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=n|536870912),u):null}function Xi(e){if(50<ei)throw ei=0,sc=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ua={};function Vx(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,s){return new Vx(e,t,n,s)}function Zr(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ln(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function rf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Qi(e,t,n,s,r,u){var f=0;if(s=e,typeof e=="function")Zr(e)&&(f=1);else if(typeof e=="string")f=Gb(e,n,X.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case we:return e=Tt(31,n,t,r),e.elementType=we,e.lanes=u,e;case L:return la(n.children,r,u,t);case H:f=8,r|=24;break;case B:return e=Tt(12,n,t,r|2),e.elementType=B,e.lanes=u,e;case Y:return e=Tt(13,n,t,r),e.elementType=Y,e.lanes=u,e;case ie:return e=Tt(19,n,t,r),e.elementType=ie,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:f=10;break e;case G:f=9;break e;case $:f=11;break e;case W:f=14;break e;case ee:f=16,s=null;break e}f=29,n=Error(c(130,e===null?"null":typeof e,"")),s=null}return t=Tt(f,n,t,r),t.elementType=e,t.type=s,t.lanes=u,t}function la(e,t,n,s){return e=Tt(7,e,s,t),e.lanes=n,e}function Fr(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function of(e){var t=Tt(18,null,null,0);return t.stateNode=e,t}function Wr(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var cf=new WeakMap;function Ot(e,t){if(typeof e=="object"&&e!==null){var n=cf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:rd(t)},cf.set(e,t),t)}return{value:e,source:t,stack:rd(t)}}var Ba=[],Va=0,Zi=null,Os=0,kt=[],zt=0,An=null,Qt=1,Zt="";function rn(e,t){Ba[Va++]=Os,Ba[Va++]=Zi,Zi=e,Os=t}function uf(e,t,n){kt[zt++]=Qt,kt[zt++]=Zt,kt[zt++]=An,An=e;var s=Qt;e=Zt;var r=32-St(s)-1;s&=~(1<<r),n+=1;var u=32-St(t)+r;if(30<u){var f=r-r%5;u=(s&(1<<f)-1).toString(32),s>>=f,r-=f,Qt=1<<32-St(t)+r|n<<r|s,Zt=u+e}else Qt=1<<u|n<<r|s,Zt=e}function Jr(e){e.return!==null&&(rn(e,1),uf(e,1,0))}function $r(e){for(;e===Zi;)Zi=Ba[--Va],Ba[Va]=null,Os=Ba[--Va],Ba[Va]=null;for(;e===An;)An=kt[--zt],kt[zt]=null,Zt=kt[--zt],kt[zt]=null,Qt=kt[--zt],kt[zt]=null}function df(e,t){kt[zt++]=Qt,kt[zt++]=Zt,kt[zt++]=An,Qt=t.id,Zt=t.overflow,An=e}var et=null,Ce=null,me=!1,En=null,Ut=!1,eo=Error(c(519));function _n(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ks(Ot(t,e)),eo}function ff(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[$e]=e,t[ft]=s,n){case"dialog":ue("cancel",t),ue("close",t);break;case"iframe":case"object":case"embed":ue("load",t);break;case"video":case"audio":for(n=0;n<ni.length;n++)ue(ni[n],t);break;case"source":ue("error",t);break;case"img":case"image":case"link":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"input":ue("invalid",t),Nd(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ue("invalid",t);break;case"textarea":ue("invalid",t),Ed(t,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||Cm(t.textContent,n)?(s.popover!=null&&(ue("beforetoggle",t),ue("toggle",t)),s.onScroll!=null&&ue("scroll",t),s.onScrollEnd!=null&&ue("scrollend",t),s.onClick!=null&&(t.onclick=an),t=!0):t=!1,t||_n(e,!0)}function hf(e){for(et=e.return;et;)switch(et.tag){case 5:case 31:case 13:Ut=!1;return;case 27:case 3:Ut=!0;return;default:et=et.return}}function La(e){if(e!==et)return!1;if(!me)return hf(e),me=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||bc(e.type,e.memoizedProps)),n=!n),n&&Ce&&_n(e),hf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Ce=Vm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Ce=Vm(e)}else t===27?(t=Ce,Hn(e.type)?(e=Nc,Nc=null,Ce=e):Ce=t):Ce=et?Vt(e.stateNode.nextSibling):null;return!0}function ra(){Ce=et=null,me=!1}function to(){var e=En;return e!==null&&(gt===null?gt=e:gt.push.apply(gt,e),En=null),e}function ks(e){En===null?En=[e]:En.push(e)}var no=N(null),oa=null,on=null;function wn(e,t,n){q(no,t._currentValue),t._currentValue=n}function cn(e){e._currentValue=no.current,U(no)}function ao(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function so(e,t,n,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var u=r.dependencies;if(u!==null){var f=r.child;u=u.firstContext;e:for(;u!==null;){var g=u;u=r;for(var S=0;S<t.length;S++)if(g.context===t[S]){u.lanes|=n,g=u.alternate,g!==null&&(g.lanes|=n),ao(u.return,n,e),s||(f=null);break e}u=g.next}}else if(r.tag===18){if(f=r.return,f===null)throw Error(c(341));f.lanes|=n,u=f.alternate,u!==null&&(u.lanes|=n),ao(f,n,e),f=null}else f=r.child;if(f!==null)f.return=r;else for(f=r;f!==null;){if(f===e){f=null;break}if(r=f.sibling,r!==null){r.return=f.return,f=r;break}f=f.return}r=f}}function Pa(e,t,n,s){e=null;for(var r=t,u=!1;r!==null;){if(!u){if((r.flags&524288)!==0)u=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var f=r.alternate;if(f===null)throw Error(c(387));if(f=f.memoizedProps,f!==null){var g=r.type;jt(r.pendingProps.value,f.value)||(e!==null?e.push(g):e=[g])}}else if(r===ve.current){if(f=r.alternate,f===null)throw Error(c(387));f.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(ri):e=[ri])}r=r.return}e!==null&&so(t,e,n,s),t.flags|=262144}function Fi(e){for(e=e.firstContext;e!==null;){if(!jt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ca(e){oa=e,on=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tt(e){return mf(oa,e)}function Wi(e,t){return oa===null&&ca(e),mf(e,t)}function mf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},on===null){if(e===null)throw Error(c(308));on=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else on=on.next=t;return n}var Lx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Px=a.unstable_scheduleCallback,Hx=a.unstable_NormalPriority,He={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function io(){return{controller:new Lx,data:new Map,refCount:0}}function zs(e){e.refCount--,e.refCount===0&&Px(Hx,function(){e.controller.abort()})}var Us=null,lo=0,Ha=0,qa=null;function qx(e,t){if(Us===null){var n=Us=[];lo=0,Ha=uc(),qa={status:"pending",value:void 0,then:function(s){n.push(s)}}}return lo++,t.then(pf,pf),t}function pf(){if(--lo===0&&Us!==null){qa!==null&&(qa.status="fulfilled");var e=Us;Us=null,Ha=0,qa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Gx(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(r){n.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<n.length;r++)(0,n[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<n.length;r++)(0,n[r])(void 0)}),s}var yf=R.S;R.S=function(e,t){$h=bt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&qx(e,t),yf!==null&&yf(e,t)};var ua=N(null);function ro(){var e=ua.current;return e!==null?e:Ee.pooledCache}function Ji(e,t){t===null?q(ua,ua.current):q(ua,t.pool)}function gf(){var e=ro();return e===null?null:{parent:He._currentValue,pool:e}}var Ga=Error(c(460)),oo=Error(c(474)),$i=Error(c(542)),el={then:function(){}};function xf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function bf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(an,an),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Sf(e),e;default:if(typeof t.status=="string")t.then(an,an);else{if(e=Ee,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Sf(e),e}throw fa=t,Ga}}function da(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(fa=n,Ga):n}}var fa=null;function vf(){if(fa===null)throw Error(c(459));var e=fa;return fa=null,e}function Sf(e){if(e===Ga||e===$i)throw Error(c(483))}var Ka=null,Bs=0;function tl(e){var t=Bs;return Bs+=1,Ka===null&&(Ka=[]),bf(Ka,e,t)}function Vs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function nl(e,t){throw t.$$typeof===j?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function jf(e){function t(A,T){if(e){var E=A.deletions;E===null?(A.deletions=[T],A.flags|=16):E.push(T)}}function n(A,T){if(!e)return null;for(;T!==null;)t(A,T),T=T.sibling;return null}function s(A){for(var T=new Map;A!==null;)A.key!==null?T.set(A.key,A):T.set(A.index,A),A=A.sibling;return T}function r(A,T){return A=ln(A,T),A.index=0,A.sibling=null,A}function u(A,T,E){return A.index=E,e?(E=A.alternate,E!==null?(E=E.index,E<T?(A.flags|=67108866,T):E):(A.flags|=67108866,T)):(A.flags|=1048576,T)}function f(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function g(A,T,E,O){return T===null||T.tag!==6?(T=Fr(E,A.mode,O),T.return=A,T):(T=r(T,E),T.return=A,T)}function S(A,T,E,O){var J=E.type;return J===L?M(A,T,E.props.children,O,E.key):T!==null&&(T.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===ee&&da(J)===T.type)?(T=r(T,E.props),Vs(T,E),T.return=A,T):(T=Qi(E.type,E.key,E.props,null,A.mode,O),Vs(T,E),T.return=A,T)}function _(A,T,E,O){return T===null||T.tag!==4||T.stateNode.containerInfo!==E.containerInfo||T.stateNode.implementation!==E.implementation?(T=Wr(E,A.mode,O),T.return=A,T):(T=r(T,E.children||[]),T.return=A,T)}function M(A,T,E,O,J){return T===null||T.tag!==7?(T=la(E,A.mode,O,J),T.return=A,T):(T=r(T,E),T.return=A,T)}function z(A,T,E){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Fr(""+T,A.mode,E),T.return=A,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case D:return E=Qi(T.type,T.key,T.props,null,A.mode,E),Vs(E,T),E.return=A,E;case k:return T=Wr(T,A.mode,E),T.return=A,T;case ee:return T=da(T),z(A,T,E)}if(dt(T)||Je(T))return T=la(T,A.mode,E,null),T.return=A,T;if(typeof T.then=="function")return z(A,tl(T),E);if(T.$$typeof===P)return z(A,Wi(A,T),E);nl(A,T)}return null}function w(A,T,E,O){var J=T!==null?T.key:null;if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return J!==null?null:g(A,T,""+E,O);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case D:return E.key===J?S(A,T,E,O):null;case k:return E.key===J?_(A,T,E,O):null;case ee:return E=da(E),w(A,T,E,O)}if(dt(E)||Je(E))return J!==null?null:M(A,T,E,O,null);if(typeof E.then=="function")return w(A,T,tl(E),O);if(E.$$typeof===P)return w(A,T,Wi(A,E),O);nl(A,E)}return null}function C(A,T,E,O,J){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return A=A.get(E)||null,g(T,A,""+O,J);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case D:return A=A.get(O.key===null?E:O.key)||null,S(T,A,O,J);case k:return A=A.get(O.key===null?E:O.key)||null,_(T,A,O,J);case ee:return O=da(O),C(A,T,E,O,J)}if(dt(O)||Je(O))return A=A.get(E)||null,M(T,A,O,J,null);if(typeof O.then=="function")return C(A,T,E,tl(O),J);if(O.$$typeof===P)return C(A,T,E,Wi(T,O),J);nl(T,O)}return null}function K(A,T,E,O){for(var J=null,ge=null,Z=T,le=T=0,he=null;Z!==null&&le<E.length;le++){Z.index>le?(he=Z,Z=null):he=Z.sibling;var xe=w(A,Z,E[le],O);if(xe===null){Z===null&&(Z=he);break}e&&Z&&xe.alternate===null&&t(A,Z),T=u(xe,T,le),ge===null?J=xe:ge.sibling=xe,ge=xe,Z=he}if(le===E.length)return n(A,Z),me&&rn(A,le),J;if(Z===null){for(;le<E.length;le++)Z=z(A,E[le],O),Z!==null&&(T=u(Z,T,le),ge===null?J=Z:ge.sibling=Z,ge=Z);return me&&rn(A,le),J}for(Z=s(Z);le<E.length;le++)he=C(Z,A,le,E[le],O),he!==null&&(e&&he.alternate!==null&&Z.delete(he.key===null?le:he.key),T=u(he,T,le),ge===null?J=he:ge.sibling=he,ge=he);return e&&Z.forEach(function(In){return t(A,In)}),me&&rn(A,le),J}function te(A,T,E,O){if(E==null)throw Error(c(151));for(var J=null,ge=null,Z=T,le=T=0,he=null,xe=E.next();Z!==null&&!xe.done;le++,xe=E.next()){Z.index>le?(he=Z,Z=null):he=Z.sibling;var In=w(A,Z,xe.value,O);if(In===null){Z===null&&(Z=he);break}e&&Z&&In.alternate===null&&t(A,Z),T=u(In,T,le),ge===null?J=In:ge.sibling=In,ge=In,Z=he}if(xe.done)return n(A,Z),me&&rn(A,le),J;if(Z===null){for(;!xe.done;le++,xe=E.next())xe=z(A,xe.value,O),xe!==null&&(T=u(xe,T,le),ge===null?J=xe:ge.sibling=xe,ge=xe);return me&&rn(A,le),J}for(Z=s(Z);!xe.done;le++,xe=E.next())xe=C(Z,A,le,xe.value,O),xe!==null&&(e&&xe.alternate!==null&&Z.delete(xe.key===null?le:xe.key),T=u(xe,T,le),ge===null?J=xe:ge.sibling=xe,ge=xe);return e&&Z.forEach(function(ev){return t(A,ev)}),me&&rn(A,le),J}function Ae(A,T,E,O){if(typeof E=="object"&&E!==null&&E.type===L&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case D:e:{for(var J=E.key;T!==null;){if(T.key===J){if(J=E.type,J===L){if(T.tag===7){n(A,T.sibling),O=r(T,E.props.children),O.return=A,A=O;break e}}else if(T.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===ee&&da(J)===T.type){n(A,T.sibling),O=r(T,E.props),Vs(O,E),O.return=A,A=O;break e}n(A,T);break}else t(A,T);T=T.sibling}E.type===L?(O=la(E.props.children,A.mode,O,E.key),O.return=A,A=O):(O=Qi(E.type,E.key,E.props,null,A.mode,O),Vs(O,E),O.return=A,A=O)}return f(A);case k:e:{for(J=E.key;T!==null;){if(T.key===J)if(T.tag===4&&T.stateNode.containerInfo===E.containerInfo&&T.stateNode.implementation===E.implementation){n(A,T.sibling),O=r(T,E.children||[]),O.return=A,A=O;break e}else{n(A,T);break}else t(A,T);T=T.sibling}O=Wr(E,A.mode,O),O.return=A,A=O}return f(A);case ee:return E=da(E),Ae(A,T,E,O)}if(dt(E))return K(A,T,E,O);if(Je(E)){if(J=Je(E),typeof J!="function")throw Error(c(150));return E=J.call(E),te(A,T,E,O)}if(typeof E.then=="function")return Ae(A,T,tl(E),O);if(E.$$typeof===P)return Ae(A,T,Wi(A,E),O);nl(A,E)}return typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint"?(E=""+E,T!==null&&T.tag===6?(n(A,T.sibling),O=r(T,E),O.return=A,A=O):(n(A,T),O=Fr(E,A.mode,O),O.return=A,A=O),f(A)):n(A,T)}return function(A,T,E,O){try{Bs=0;var J=Ae(A,T,E,O);return Ka=null,J}catch(Z){if(Z===Ga||Z===$i)throw Z;var ge=Tt(29,Z,null,A.mode);return ge.lanes=O,ge.return=A,ge}finally{}}}var ha=jf(!0),Tf=jf(!1),Cn=!1;function co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Dn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(be&2)!==0){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=Xi(e),lf(e,null,n),t}return Ii(e,s,t,n),Xi(e)}function Ls(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,hd(e,n)}}function fo(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var r=null,u=null;if(n=n.firstBaseUpdate,n!==null){do{var f={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};u===null?r=u=f:u=u.next=f,n=n.next}while(n!==null);u===null?r=u=t:u=u.next=t}else r=u=t;n={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ho=!1;function Ps(){if(ho){var e=qa;if(e!==null)throw e}}function Hs(e,t,n,s){ho=!1;var r=e.updateQueue;Cn=!1;var u=r.firstBaseUpdate,f=r.lastBaseUpdate,g=r.shared.pending;if(g!==null){r.shared.pending=null;var S=g,_=S.next;S.next=null,f===null?u=_:f.next=_,f=S;var M=e.alternate;M!==null&&(M=M.updateQueue,g=M.lastBaseUpdate,g!==f&&(g===null?M.firstBaseUpdate=_:g.next=_,M.lastBaseUpdate=S))}if(u!==null){var z=r.baseState;f=0,M=_=S=null,g=u;do{var w=g.lane&-536870913,C=w!==g.lane;if(C?(fe&w)===w:(s&w)===w){w!==0&&w===Ha&&(ho=!0),M!==null&&(M=M.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var K=e,te=g;w=t;var Ae=n;switch(te.tag){case 1:if(K=te.payload,typeof K=="function"){z=K.call(Ae,z,w);break e}z=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=te.payload,w=typeof K=="function"?K.call(Ae,z,w):K,w==null)break e;z=v({},z,w);break e;case 2:Cn=!0}}w=g.callback,w!==null&&(e.flags|=64,C&&(e.flags|=8192),C=r.callbacks,C===null?r.callbacks=[w]:C.push(w))}else C={lane:w,tag:g.tag,payload:g.payload,callback:g.callback,next:null},M===null?(_=M=C,S=z):M=M.next=C,f|=w;if(g=g.next,g===null){if(g=r.shared.pending,g===null)break;C=g,g=C.next,C.next=null,r.lastBaseUpdate=C,r.shared.pending=null}}while(!0);M===null&&(S=z),r.baseState=S,r.firstBaseUpdate=_,r.lastBaseUpdate=M,u===null&&(r.shared.lanes=0),Un|=f,e.lanes=f,e.memoizedState=z}}function Nf(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Af(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Nf(n[e],t)}var Ya=N(null),al=N(0);function Ef(e,t){e=xn,q(al,e),q(Ya,t),xn=e|t.baseLanes}function mo(){q(al,xn),q(Ya,Ya.current)}function po(){xn=al.current,U(Ya),U(al)}var Nt=N(null),Bt=null;function Rn(e){var t=e.alternate;q(Le,Le.current&1),q(Nt,e),Bt===null&&(t===null||Ya.current!==null||t.memoizedState!==null)&&(Bt=e)}function yo(e){q(Le,Le.current),q(Nt,e),Bt===null&&(Bt=e)}function _f(e){e.tag===22?(q(Le,Le.current),q(Nt,e),Bt===null&&(Bt=e)):On()}function On(){q(Le,Le.current),q(Nt,Nt.current)}function At(e){U(Nt),Bt===e&&(Bt=null),U(Le)}var Le=N(0);function sl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||jc(n)||Tc(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var un=0,se=null,Te=null,qe=null,il=!1,Ia=!1,ma=!1,ll=0,qs=0,Xa=null,Kx=0;function ze(){throw Error(c(321))}function go(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function xo(e,t,n,s,r,u){return un=u,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=e===null||e.memoizedState===null?uh:Oo,ma=!1,u=n(s,r),ma=!1,Ia&&(u=Cf(t,n,s,r)),wf(e),u}function wf(e){R.H=Ys;var t=Te!==null&&Te.next!==null;if(un=0,qe=Te=se=null,il=!1,qs=0,Xa=null,t)throw Error(c(300));e===null||Ge||(e=e.dependencies,e!==null&&Fi(e)&&(Ge=!0))}function Cf(e,t,n,s){se=e;var r=0;do{if(Ia&&(Xa=null),qs=0,Ia=!1,25<=r)throw Error(c(301));if(r+=1,qe=Te=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}R.H=dh,u=t(n,s)}while(Ia);return u}function Yx(){var e=R.H,t=e.useState()[0];return t=typeof t.then=="function"?Gs(t):t,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(se.flags|=1024),t}function bo(){var e=ll!==0;return ll=0,e}function vo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function So(e){if(il){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}il=!1}un=0,qe=Te=se=null,Ia=!1,qs=ll=0,Xa=null}function ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?se.memoizedState=qe=e:qe=qe.next=e,qe}function Pe(){if(Te===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var t=qe===null?se.memoizedState:qe.next;if(t!==null)qe=t,Te=e;else{if(e===null)throw se.alternate===null?Error(c(467)):Error(c(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},qe===null?se.memoizedState=qe=e:qe=qe.next=e}return qe}function rl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gs(e){var t=qs;return qs+=1,Xa===null&&(Xa=[]),e=bf(Xa,e,t),t=se,(qe===null?t.memoizedState:qe.next)===null&&(t=t.alternate,R.H=t===null||t.memoizedState===null?uh:Oo),e}function ol(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Gs(e);if(e.$$typeof===P)return tt(e)}throw Error(c(438,String(e)))}function jo(e){var t=null,n=se.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=se.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=rl(),se.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=Ie;return t.index++,n}function dn(e,t){return typeof t=="function"?t(e):t}function cl(e){var t=Pe();return To(t,Te,e)}function To(e,t,n){var s=e.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=n;var r=e.baseQueue,u=s.pending;if(u!==null){if(r!==null){var f=r.next;r.next=u.next,u.next=f}t.baseQueue=r=u,s.pending=null}if(u=e.baseState,r===null)e.memoizedState=u;else{t=r.next;var g=f=null,S=null,_=t,M=!1;do{var z=_.lane&-536870913;if(z!==_.lane?(fe&z)===z:(un&z)===z){var w=_.revertLane;if(w===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null}),z===Ha&&(M=!0);else if((un&w)===w){_=_.next,w===Ha&&(M=!0);continue}else z={lane:0,revertLane:_.revertLane,gesture:null,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},S===null?(g=S=z,f=u):S=S.next=z,se.lanes|=w,Un|=w;z=_.action,ma&&n(u,z),u=_.hasEagerState?_.eagerState:n(u,z)}else w={lane:z,revertLane:_.revertLane,gesture:_.gesture,action:_.action,hasEagerState:_.hasEagerState,eagerState:_.eagerState,next:null},S===null?(g=S=w,f=u):S=S.next=w,se.lanes|=z,Un|=z;_=_.next}while(_!==null&&_!==t);if(S===null?f=u:S.next=g,!jt(u,e.memoizedState)&&(Ge=!0,M&&(n=qa,n!==null)))throw n;e.memoizedState=u,e.baseState=f,e.baseQueue=S,s.lastRenderedState=u}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function No(e){var t=Pe(),n=t.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=e;var s=n.dispatch,r=n.pending,u=t.memoizedState;if(r!==null){n.pending=null;var f=r=r.next;do u=e(u,f.action),f=f.next;while(f!==r);jt(u,t.memoizedState)||(Ge=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),n.lastRenderedState=u}return[u,s]}function Df(e,t,n){var s=se,r=Pe(),u=me;if(u){if(n===void 0)throw Error(c(407));n=n()}else n=t();var f=!jt((Te||r).memoizedState,n);if(f&&(r.memoizedState=n,Ge=!0),r=r.queue,_o(Of.bind(null,s,r,e),[e]),r.getSnapshot!==t||f||qe!==null&&qe.memoizedState.tag&1){if(s.flags|=2048,Qa(9,{destroy:void 0},Rf.bind(null,s,r,n,t),null),Ee===null)throw Error(c(349));u||(un&127)!==0||Mf(s,t,n)}return n}function Mf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=se.updateQueue,t===null?(t=rl(),se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Rf(e,t,n,s){t.value=n,t.getSnapshot=s,kf(t)&&zf(e)}function Of(e,t,n){return n(function(){kf(t)&&zf(e)})}function kf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function zf(e){var t=ia(e,2);t!==null&&xt(t,e,2)}function Ao(e){var t=ot();if(typeof e=="function"){var n=e;if(e=n(),ma){jn(!0);try{n()}finally{jn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dn,lastRenderedState:e},t}function Uf(e,t,n,s){return e.baseState=n,To(e,Te,typeof s=="function"?s:dn)}function Ix(e,t,n,s,r){if(fl(e))throw Error(c(485));if(e=t.action,e!==null){var u={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(f){u.listeners.push(f)}};R.T!==null?n(!0):u.isTransition=!1,s(u),n=t.pending,n===null?(u.next=t.pending=u,Bf(t,u)):(u.next=n.next,t.pending=n.next=u)}}function Bf(e,t){var n=t.action,s=t.payload,r=e.state;if(t.isTransition){var u=R.T,f={};R.T=f;try{var g=n(r,s),S=R.S;S!==null&&S(f,g),Vf(e,t,g)}catch(_){Eo(e,t,_)}finally{u!==null&&f.types!==null&&(u.types=f.types),R.T=u}}else try{u=n(r,s),Vf(e,t,u)}catch(_){Eo(e,t,_)}}function Vf(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Lf(e,t,s)},function(s){return Eo(e,t,s)}):Lf(e,t,n)}function Lf(e,t,n){t.status="fulfilled",t.value=n,Pf(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Bf(e,n)))}function Eo(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,Pf(t),t=t.next;while(t!==s)}e.action=null}function Pf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Hf(e,t){return t}function qf(e,t){if(me){var n=Ee.formState;if(n!==null){e:{var s=se;if(me){if(Ce){t:{for(var r=Ce,u=Ut;r.nodeType!==8;){if(!u){r=null;break t}if(r=Vt(r.nextSibling),r===null){r=null;break t}}u=r.data,r=u==="F!"||u==="F"?r:null}if(r){Ce=Vt(r.nextSibling),s=r.data==="F!";break e}}_n(s)}s=!1}s&&(t=n[0])}}return n=ot(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hf,lastRenderedState:t},n.queue=s,n=rh.bind(null,se,s),s.dispatch=n,s=Ao(!1),u=Ro.bind(null,se,!1,s.queue),s=ot(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,n=Ix.bind(null,se,r,u,n),r.dispatch=n,s.memoizedState=e,[t,n,!1]}function Gf(e){var t=Pe();return Kf(t,Te,e)}function Kf(e,t,n){if(t=To(e,t,Hf)[0],e=cl(dn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Gs(t)}catch(f){throw f===Ga?$i:f}else s=t;t=Pe();var r=t.queue,u=r.dispatch;return n!==t.memoizedState&&(se.flags|=2048,Qa(9,{destroy:void 0},Xx.bind(null,r,n),null)),[s,u,e]}function Xx(e,t){e.action=t}function Yf(e){var t=Pe(),n=Te;if(n!==null)return Kf(t,n,e);Pe(),t=t.memoizedState,n=Pe();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function Qa(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=se.updateQueue,t===null&&(t=rl(),se.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function If(){return Pe().memoizedState}function ul(e,t,n,s){var r=ot();se.flags|=e,r.memoizedState=Qa(1|t,{destroy:void 0},n,s===void 0?null:s)}function dl(e,t,n,s){var r=Pe();s=s===void 0?null:s;var u=r.memoizedState.inst;Te!==null&&s!==null&&go(s,Te.memoizedState.deps)?r.memoizedState=Qa(t,u,n,s):(se.flags|=e,r.memoizedState=Qa(1|t,u,n,s))}function Xf(e,t){ul(8390656,8,e,t)}function _o(e,t){dl(2048,8,e,t)}function Qx(e){se.flags|=4;var t=se.updateQueue;if(t===null)t=rl(),se.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Qf(e){var t=Pe().memoizedState;return Qx({ref:t,nextImpl:e}),function(){if((be&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function Zf(e,t){return dl(4,2,e,t)}function Ff(e,t){return dl(4,4,e,t)}function Wf(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Jf(e,t,n){n=n!=null?n.concat([e]):null,dl(4,4,Wf.bind(null,t,e),n)}function wo(){}function $f(e,t){var n=Pe();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&go(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function eh(e,t){var n=Pe();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&go(t,s[1]))return s[0];if(s=e(),ma){jn(!0);try{e()}finally{jn(!1)}}return n.memoizedState=[s,t],s}function Co(e,t,n){return n===void 0||(un&1073741824)!==0&&(fe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=tm(),se.lanes|=e,Un|=e,n)}function th(e,t,n,s){return jt(n,t)?n:Ya.current!==null?(e=Co(e,n,s),jt(e,t)||(Ge=!0),e):(un&42)===0||(un&1073741824)!==0&&(fe&261930)===0?(Ge=!0,e.memoizedState=n):(e=tm(),se.lanes|=e,Un|=e,t)}function nh(e,t,n,s,r){var u=V.p;V.p=u!==0&&8>u?u:8;var f=R.T,g={};R.T=g,Ro(e,!1,t,n);try{var S=r(),_=R.S;if(_!==null&&_(g,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var M=Gx(S,s);Ks(e,t,M,wt(e))}else Ks(e,t,s,wt(e))}catch(z){Ks(e,t,{then:function(){},status:"rejected",reason:z},wt())}finally{V.p=u,f!==null&&g.types!==null&&(f.types=g.types),R.T=f}}function Zx(){}function Do(e,t,n,s){if(e.tag!==5)throw Error(c(476));var r=ah(e).queue;nh(e,r,t,Q,n===null?Zx:function(){return sh(e),n(s)})}function ah(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dn,lastRenderedState:Q},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:dn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function sh(e){var t=ah(e);t.next===null&&(t=e.alternate.memoizedState),Ks(e,t.next.queue,{},wt())}function Mo(){return tt(ri)}function ih(){return Pe().memoizedState}function lh(){return Pe().memoizedState}function Fx(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=wt();e=Dn(n);var s=Mn(t,e,n);s!==null&&(xt(s,t,n),Ls(s,t,n)),t={cache:io()},e.payload=t;return}t=t.return}}function Wx(e,t,n){var s=wt();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fl(e)?oh(t,n):(n=Qr(e,t,n,s),n!==null&&(xt(n,e,s),ch(n,t,s)))}function rh(e,t,n){var s=wt();Ks(e,t,n,s)}function Ks(e,t,n,s){var r={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fl(e))oh(t,r);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var f=t.lastRenderedState,g=u(f,n);if(r.hasEagerState=!0,r.eagerState=g,jt(g,f))return Ii(e,t,r,0),Ee===null&&Yi(),!1}catch{}finally{}if(n=Qr(e,t,r,s),n!==null)return xt(n,e,s),ch(n,t,s),!0}return!1}function Ro(e,t,n,s){if(s={lane:2,revertLane:uc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},fl(e)){if(t)throw Error(c(479))}else t=Qr(e,n,s,2),t!==null&&xt(t,e,2)}function fl(e){var t=e.alternate;return e===se||t!==null&&t===se}function oh(e,t){Ia=il=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ch(e,t,n){if((n&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,hd(e,n)}}var Ys={readContext:tt,use:ol,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useLayoutEffect:ze,useInsertionEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useSyncExternalStore:ze,useId:ze,useHostTransitionStatus:ze,useFormState:ze,useActionState:ze,useOptimistic:ze,useMemoCache:ze,useCacheRefresh:ze};Ys.useEffectEvent=ze;var uh={readContext:tt,use:ol,useCallback:function(e,t){return ot().memoizedState=[e,t===void 0?null:t],e},useContext:tt,useEffect:Xf,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,ul(4194308,4,Wf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ul(4194308,4,e,t)},useInsertionEffect:function(e,t){ul(4,2,e,t)},useMemo:function(e,t){var n=ot();t=t===void 0?null:t;var s=e();if(ma){jn(!0);try{e()}finally{jn(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=ot();if(n!==void 0){var r=n(t);if(ma){jn(!0);try{n(t)}finally{jn(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=Wx.bind(null,se,e),[s.memoizedState,e]},useRef:function(e){var t=ot();return e={current:e},t.memoizedState=e},useState:function(e){e=Ao(e);var t=e.queue,n=rh.bind(null,se,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:wo,useDeferredValue:function(e,t){var n=ot();return Co(n,e,t)},useTransition:function(){var e=Ao(!1);return e=nh.bind(null,se,e.queue,!0,!1),ot().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=se,r=ot();if(me){if(n===void 0)throw Error(c(407));n=n()}else{if(n=t(),Ee===null)throw Error(c(349));(fe&127)!==0||Mf(s,t,n)}r.memoizedState=n;var u={value:n,getSnapshot:t};return r.queue=u,Xf(Of.bind(null,s,u,e),[e]),s.flags|=2048,Qa(9,{destroy:void 0},Rf.bind(null,s,u,n,t),null),n},useId:function(){var e=ot(),t=Ee.identifierPrefix;if(me){var n=Zt,s=Qt;n=(s&~(1<<32-St(s)-1)).toString(32)+n,t="_"+t+"R_"+n,n=ll++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=Kx++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Mo,useFormState:qf,useActionState:qf,useOptimistic:function(e){var t=ot();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ro.bind(null,se,!0,n),n.dispatch=t,[e,t]},useMemoCache:jo,useCacheRefresh:function(){return ot().memoizedState=Fx.bind(null,se)},useEffectEvent:function(e){var t=ot(),n={impl:e};return t.memoizedState=n,function(){if((be&2)!==0)throw Error(c(440));return n.impl.apply(void 0,arguments)}}},Oo={readContext:tt,use:ol,useCallback:$f,useContext:tt,useEffect:_o,useImperativeHandle:Jf,useInsertionEffect:Zf,useLayoutEffect:Ff,useMemo:eh,useReducer:cl,useRef:If,useState:function(){return cl(dn)},useDebugValue:wo,useDeferredValue:function(e,t){var n=Pe();return th(n,Te.memoizedState,e,t)},useTransition:function(){var e=cl(dn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Gs(e),t]},useSyncExternalStore:Df,useId:ih,useHostTransitionStatus:Mo,useFormState:Gf,useActionState:Gf,useOptimistic:function(e,t){var n=Pe();return Uf(n,Te,e,t)},useMemoCache:jo,useCacheRefresh:lh};Oo.useEffectEvent=Qf;var dh={readContext:tt,use:ol,useCallback:$f,useContext:tt,useEffect:_o,useImperativeHandle:Jf,useInsertionEffect:Zf,useLayoutEffect:Ff,useMemo:eh,useReducer:No,useRef:If,useState:function(){return No(dn)},useDebugValue:wo,useDeferredValue:function(e,t){var n=Pe();return Te===null?Co(n,e,t):th(n,Te.memoizedState,e,t)},useTransition:function(){var e=No(dn)[0],t=Pe().memoizedState;return[typeof e=="boolean"?e:Gs(e),t]},useSyncExternalStore:Df,useId:ih,useHostTransitionStatus:Mo,useFormState:Yf,useActionState:Yf,useOptimistic:function(e,t){var n=Pe();return Te!==null?Uf(n,Te,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:jo,useCacheRefresh:lh};dh.useEffectEvent=Qf;function ko(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var zo={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=wt(),r=Dn(s);r.payload=t,n!=null&&(r.callback=n),t=Mn(e,r,s),t!==null&&(xt(t,e,s),Ls(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=wt(),r=Dn(s);r.tag=1,r.payload=t,n!=null&&(r.callback=n),t=Mn(e,r,s),t!==null&&(xt(t,e,s),Ls(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=wt(),s=Dn(n);s.tag=2,t!=null&&(s.callback=t),t=Mn(e,s,n),t!==null&&(xt(t,e,n),Ls(t,e,n))}};function fh(e,t,n,s,r,u,f){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,f):t.prototype&&t.prototype.isPureReactComponent?!Ms(n,s)||!Ms(r,u):!0}function hh(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&zo.enqueueReplaceState(t,t.state,null)}function pa(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var r in e)n[r]===void 0&&(n[r]=e[r])}return n}function mh(e){Ki(e)}function ph(e){console.error(e)}function yh(e){Ki(e)}function hl(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function gh(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Uo(e,t,n){return n=Dn(n),n.tag=3,n.payload={element:null},n.callback=function(){hl(e,t)},n}function xh(e){return e=Dn(e),e.tag=3,e}function bh(e,t,n,s){var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var u=s.value;e.payload=function(){return r(u)},e.callback=function(){gh(t,n,s)}}var f=n.stateNode;f!==null&&typeof f.componentDidCatch=="function"&&(e.callback=function(){gh(t,n,s),typeof r!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var g=s.stack;this.componentDidCatch(s.value,{componentStack:g!==null?g:""})})}function Jx(e,t,n,s,r){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&Pa(t,n,r,!0),n=Nt.current,n!==null){switch(n.tag){case 31:case 13:return Bt===null?Al():n.alternate===null&&Ue===0&&(Ue=3),n.flags&=-257,n.flags|=65536,n.lanes=r,s===el?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),rc(e,s,r)),!1;case 22:return n.flags|=65536,s===el?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),rc(e,s,r)),!1}throw Error(c(435,n.tag))}return rc(e,s,r),Al(),!1}if(me)return t=Nt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==eo&&(e=Error(c(422),{cause:s}),ks(Ot(e,n)))):(s!==eo&&(t=Error(c(423),{cause:s}),ks(Ot(t,n))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=Ot(s,n),r=Uo(e.stateNode,s,r),fo(e,r),Ue!==4&&(Ue=2)),!1;var u=Error(c(520),{cause:s});if(u=Ot(u,n),$s===null?$s=[u]:$s.push(u),Ue!==4&&(Ue=2),t===null)return!0;s=Ot(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,e=Uo(n.stateNode,s,e),fo(n,e),!1;case 1:if(t=n.type,u=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Bn===null||!Bn.has(u))))return n.flags|=65536,r&=-r,n.lanes|=r,r=xh(r),bh(r,e,n,s),fo(n,r),!1}n=n.return}while(n!==null);return!1}var Bo=Error(c(461)),Ge=!1;function nt(e,t,n,s){t.child=e===null?Tf(t,null,n,s):ha(t,e.child,n,s)}function vh(e,t,n,s,r){n=n.render;var u=t.ref;if("ref"in s){var f={};for(var g in s)g!=="ref"&&(f[g]=s[g])}else f=s;return ca(t),s=xo(e,t,n,f,u,r),g=bo(),e!==null&&!Ge?(vo(e,t,r),fn(e,t,r)):(me&&g&&Jr(t),t.flags|=1,nt(e,t,s,r),t.child)}function Sh(e,t,n,s,r){if(e===null){var u=n.type;return typeof u=="function"&&!Zr(u)&&u.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=u,jh(e,t,u,s,r)):(e=Qi(n.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Yo(e,r)){var f=u.memoizedProps;if(n=n.compare,n=n!==null?n:Ms,n(f,s)&&e.ref===t.ref)return fn(e,t,r)}return t.flags|=1,e=ln(u,s),e.ref=t.ref,e.return=t,t.child=e}function jh(e,t,n,s,r){if(e!==null){var u=e.memoizedProps;if(Ms(u,s)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=s=u,Yo(e,r))(e.flags&131072)!==0&&(Ge=!0);else return t.lanes=e.lanes,fn(e,t,r)}return Vo(e,t,n,s,r)}function Th(e,t,n,s){var r=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|n:n,e!==null){for(s=t.child=e.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;s=r&~u}else s=0,t.child=null;return Nh(e,t,u,n,s)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ji(t,u!==null?u.cachePool:null),u!==null?Ef(t,u):mo(),_f(t);else return s=t.lanes=536870912,Nh(e,t,u!==null?u.baseLanes|n:n,n,s)}else u!==null?(Ji(t,u.cachePool),Ef(t,u),On(),t.memoizedState=null):(e!==null&&Ji(t,null),mo(),On());return nt(e,t,r,n),t.child}function Is(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Nh(e,t,n,s,r){var u=ro();return u=u===null?null:{parent:He._currentValue,pool:u},t.memoizedState={baseLanes:n,cachePool:u},e!==null&&Ji(t,null),mo(),_f(t),e!==null&&Pa(e,t,s,!0),t.childLanes=r,null}function ml(e,t){return t=yl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Ah(e,t,n){return ha(t,e.child,null,n),e=ml(t,t.pendingProps),e.flags|=2,At(t),t.memoizedState=null,e}function $x(e,t,n){var s=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(me){if(s.mode==="hidden")return e=ml(t,s),t.lanes=536870912,Is(null,e);if(yo(t),(e=Ce)?(e=Bm(e,Ut),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:An!==null?{id:Qt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},n=of(e),n.return=t,t.child=n,et=t,Ce=null)):e=null,e===null)throw _n(t);return t.lanes=536870912,null}return ml(t,s)}var u=e.memoizedState;if(u!==null){var f=u.dehydrated;if(yo(t),r)if(t.flags&256)t.flags&=-257,t=Ah(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(Ge||Pa(e,t,n,!1),r=(n&e.childLanes)!==0,Ge||r){if(s=Ee,s!==null&&(f=md(s,n),f!==0&&f!==u.retryLane))throw u.retryLane=f,ia(e,f),xt(s,e,f),Bo;Al(),t=Ah(e,t,n)}else e=u.treeContext,Ce=Vt(f.nextSibling),et=t,me=!0,En=null,Ut=!1,e!==null&&df(t,e),t=ml(t,s),t.flags|=4096;return t}return e=ln(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function pl(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(c(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Vo(e,t,n,s,r){return ca(t),n=xo(e,t,n,s,void 0,r),s=bo(),e!==null&&!Ge?(vo(e,t,r),fn(e,t,r)):(me&&s&&Jr(t),t.flags|=1,nt(e,t,n,r),t.child)}function Eh(e,t,n,s,r,u){return ca(t),t.updateQueue=null,n=Cf(t,s,n,r),wf(e),s=bo(),e!==null&&!Ge?(vo(e,t,u),fn(e,t,u)):(me&&s&&Jr(t),t.flags|=1,nt(e,t,n,u),t.child)}function _h(e,t,n,s,r){if(ca(t),t.stateNode===null){var u=Ua,f=n.contextType;typeof f=="object"&&f!==null&&(u=tt(f)),u=new n(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=zo,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},co(t),f=n.contextType,u.context=typeof f=="object"&&f!==null?tt(f):Ua,u.state=t.memoizedState,f=n.getDerivedStateFromProps,typeof f=="function"&&(ko(t,n,f,s),u.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(f=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),f!==u.state&&zo.enqueueReplaceState(u,u.state,null),Hs(t,s,u,r),Ps(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var g=t.memoizedProps,S=pa(n,g);u.props=S;var _=u.context,M=n.contextType;f=Ua,typeof M=="object"&&M!==null&&(f=tt(M));var z=n.getDerivedStateFromProps;M=typeof z=="function"||typeof u.getSnapshotBeforeUpdate=="function",g=t.pendingProps!==g,M||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(g||_!==f)&&hh(t,u,s,f),Cn=!1;var w=t.memoizedState;u.state=w,Hs(t,s,u,r),Ps(),_=t.memoizedState,g||w!==_||Cn?(typeof z=="function"&&(ko(t,n,z,s),_=t.memoizedState),(S=Cn||fh(t,n,S,s,w,_,f))?(M||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=_),u.props=s,u.state=_,u.context=f,s=S):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,uo(e,t),f=t.memoizedProps,M=pa(n,f),u.props=M,z=t.pendingProps,w=u.context,_=n.contextType,S=Ua,typeof _=="object"&&_!==null&&(S=tt(_)),g=n.getDerivedStateFromProps,(_=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(f!==z||w!==S)&&hh(t,u,s,S),Cn=!1,w=t.memoizedState,u.state=w,Hs(t,s,u,r),Ps();var C=t.memoizedState;f!==z||w!==C||Cn||e!==null&&e.dependencies!==null&&Fi(e.dependencies)?(typeof g=="function"&&(ko(t,n,g,s),C=t.memoizedState),(M=Cn||fh(t,n,M,s,w,C,S)||e!==null&&e.dependencies!==null&&Fi(e.dependencies))?(_||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,C,S),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,C,S)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=C),u.props=s,u.state=C,u.context=S,s=M):(typeof u.componentDidUpdate!="function"||f===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||f===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,pl(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=ha(t,e.child,null,r),t.child=ha(t,null,n,r)):nt(e,t,n,r),t.memoizedState=u.state,e=t.child):e=fn(e,t,r),e}function wh(e,t,n,s){return ra(),t.flags|=256,nt(e,t,n,s),t.child}var Lo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Po(e){return{baseLanes:e,cachePool:gf()}}function Ho(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=_t),e}function Ch(e,t,n){var s=t.pendingProps,r=!1,u=(t.flags&128)!==0,f;if((f=u)||(f=e!==null&&e.memoizedState===null?!1:(Le.current&2)!==0),f&&(r=!0,t.flags&=-129),f=(t.flags&32)!==0,t.flags&=-33,e===null){if(me){if(r?Rn(t):On(),(e=Ce)?(e=Bm(e,Ut),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:An!==null?{id:Qt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},n=of(e),n.return=t,t.child=n,et=t,Ce=null)):e=null,e===null)throw _n(t);return Tc(e)?t.lanes=32:t.lanes=536870912,null}var g=s.children;return s=s.fallback,r?(On(),r=t.mode,g=yl({mode:"hidden",children:g},r),s=la(s,r,n,null),g.return=t,s.return=t,g.sibling=s,t.child=g,s=t.child,s.memoizedState=Po(n),s.childLanes=Ho(e,f,n),t.memoizedState=Lo,Is(null,s)):(Rn(t),qo(t,g))}var S=e.memoizedState;if(S!==null&&(g=S.dehydrated,g!==null)){if(u)t.flags&256?(Rn(t),t.flags&=-257,t=Go(e,t,n)):t.memoizedState!==null?(On(),t.child=e.child,t.flags|=128,t=null):(On(),g=s.fallback,r=t.mode,s=yl({mode:"visible",children:s.children},r),g=la(g,r,n,null),g.flags|=2,s.return=t,g.return=t,s.sibling=g,t.child=s,ha(t,e.child,null,n),s=t.child,s.memoizedState=Po(n),s.childLanes=Ho(e,f,n),t.memoizedState=Lo,t=Is(null,s));else if(Rn(t),Tc(g)){if(f=g.nextSibling&&g.nextSibling.dataset,f)var _=f.dgst;f=_,s=Error(c(419)),s.stack="",s.digest=f,ks({value:s,source:null,stack:null}),t=Go(e,t,n)}else if(Ge||Pa(e,t,n,!1),f=(n&e.childLanes)!==0,Ge||f){if(f=Ee,f!==null&&(s=md(f,n),s!==0&&s!==S.retryLane))throw S.retryLane=s,ia(e,s),xt(f,e,s),Bo;jc(g)||Al(),t=Go(e,t,n)}else jc(g)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,Ce=Vt(g.nextSibling),et=t,me=!0,En=null,Ut=!1,e!==null&&df(t,e),t=qo(t,s.children),t.flags|=4096);return t}return r?(On(),g=s.fallback,r=t.mode,S=e.child,_=S.sibling,s=ln(S,{mode:"hidden",children:s.children}),s.subtreeFlags=S.subtreeFlags&65011712,_!==null?g=ln(_,g):(g=la(g,r,n,null),g.flags|=2),g.return=t,s.return=t,s.sibling=g,t.child=s,Is(null,s),s=t.child,g=e.child.memoizedState,g===null?g=Po(n):(r=g.cachePool,r!==null?(S=He._currentValue,r=r.parent!==S?{parent:S,pool:S}:r):r=gf(),g={baseLanes:g.baseLanes|n,cachePool:r}),s.memoizedState=g,s.childLanes=Ho(e,f,n),t.memoizedState=Lo,Is(e.child,s)):(Rn(t),n=e.child,e=n.sibling,n=ln(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(f=t.deletions,f===null?(t.deletions=[e],t.flags|=16):f.push(e)),t.child=n,t.memoizedState=null,n)}function qo(e,t){return t=yl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function yl(e,t){return e=Tt(22,e,null,t),e.lanes=0,e}function Go(e,t,n){return ha(t,e.child,null,n),e=qo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dh(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ao(e.return,t,n)}function Ko(e,t,n,s,r,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:r,treeForkCount:u}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=s,f.tail=n,f.tailMode=r,f.treeForkCount=u)}function Mh(e,t,n){var s=t.pendingProps,r=s.revealOrder,u=s.tail;s=s.children;var f=Le.current,g=(f&2)!==0;if(g?(f=f&1|2,t.flags|=128):f&=1,q(Le,f),nt(e,t,s,n),s=me?Os:0,!g&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dh(e,n,t);else if(e.tag===19)Dh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;n!==null;)e=n.alternate,e!==null&&sl(e)===null&&(r=n),n=n.sibling;n=r,n===null?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ko(t,!1,r,n,u,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&sl(e)===null){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ko(t,!0,n,null,u,s);break;case"together":Ko(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function fn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Un|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Pa(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,n=ln(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ln(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Yo(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Fi(e)))}function eb(e,t,n){switch(t.tag){case 3:rt(t,t.stateNode.containerInfo),wn(t,He,e.memoizedState.cache),ra();break;case 27:case 5:xs(t);break;case 4:rt(t,t.stateNode.containerInfo);break;case 10:wn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,yo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Rn(t),t.flags|=128,null):(n&t.child.childLanes)!==0?Ch(e,t,n):(Rn(t),e=fn(e,t,n),e!==null?e.sibling:null);Rn(t);break;case 19:var r=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(Pa(e,t,n,!1),s=(n&t.childLanes)!==0),r){if(s)return Mh(e,t,n);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),q(Le,Le.current),s)break;return null;case 22:return t.lanes=0,Th(e,t,n,t.pendingProps);case 24:wn(t,He,e.memoizedState.cache)}return fn(e,t,n)}function Rh(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ge=!0;else{if(!Yo(e,n)&&(t.flags&128)===0)return Ge=!1,eb(e,t,n);Ge=(e.flags&131072)!==0}else Ge=!1,me&&(t.flags&1048576)!==0&&uf(t,Os,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=da(t.elementType),t.type=e,typeof e=="function")Zr(e)?(s=pa(e,s),t.tag=1,t=_h(null,t,e,s,n)):(t.tag=0,t=Vo(null,t,e,s,n));else{if(e!=null){var r=e.$$typeof;if(r===$){t.tag=11,t=vh(null,t,e,s,n);break e}else if(r===W){t.tag=14,t=Sh(null,t,e,s,n);break e}}throw t=Ct(e)||e,Error(c(306,t,""))}}return t;case 0:return Vo(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,r=pa(s,t.pendingProps),_h(e,t,s,r,n);case 3:e:{if(rt(t,t.stateNode.containerInfo),e===null)throw Error(c(387));s=t.pendingProps;var u=t.memoizedState;r=u.element,uo(e,t),Hs(t,s,null,n);var f=t.memoizedState;if(s=f.cache,wn(t,He,s),s!==u.cache&&so(t,[He],n,!0),Ps(),s=f.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:f.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=wh(e,t,s,n);break e}else if(s!==r){r=Ot(Error(c(424)),t),ks(r),t=wh(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ce=Vt(e.firstChild),et=t,me=!0,En=null,Ut=!0,n=Tf(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(ra(),s===r){t=fn(e,t,n);break e}nt(e,t,s,n)}t=t.child}return t;case 26:return pl(e,t),e===null?(n=Gm(t.type,null,t.pendingProps,null))?t.memoizedState=n:me||(n=t.type,e=t.pendingProps,s=Rl(oe.current).createElement(n),s[$e]=t,s[ft]=e,at(s,n,e),Ze(s),t.stateNode=s):t.memoizedState=Gm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return xs(t),e===null&&me&&(s=t.stateNode=Pm(t.type,t.pendingProps,oe.current),et=t,Ut=!0,r=Ce,Hn(t.type)?(Nc=r,Ce=Vt(s.firstChild)):Ce=r),nt(e,t,t.pendingProps.children,n),pl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&me&&((r=s=Ce)&&(s=Db(s,t.type,t.pendingProps,Ut),s!==null?(t.stateNode=s,et=t,Ce=Vt(s.firstChild),Ut=!1,r=!0):r=!1),r||_n(t)),xs(t),r=t.type,u=t.pendingProps,f=e!==null?e.memoizedProps:null,s=u.children,bc(r,u)?s=null:f!==null&&bc(r,f)&&(t.flags|=32),t.memoizedState!==null&&(r=xo(e,t,Yx,null,null,n),ri._currentValue=r),pl(e,t),nt(e,t,s,n),t.child;case 6:return e===null&&me&&((e=n=Ce)&&(n=Mb(n,t.pendingProps,Ut),n!==null?(t.stateNode=n,et=t,Ce=null,e=!0):e=!1),e||_n(t)),null;case 13:return Ch(e,t,n);case 4:return rt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ha(t,null,s,n):nt(e,t,s,n),t.child;case 11:return vh(e,t,t.type,t.pendingProps,n);case 7:return nt(e,t,t.pendingProps,n),t.child;case 8:return nt(e,t,t.pendingProps.children,n),t.child;case 12:return nt(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,wn(t,t.type,s.value),nt(e,t,s.children,n),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,ca(t),r=tt(r),s=s(r),t.flags|=1,nt(e,t,s,n),t.child;case 14:return Sh(e,t,t.type,t.pendingProps,n);case 15:return jh(e,t,t.type,t.pendingProps,n);case 19:return Mh(e,t,n);case 31:return $x(e,t,n);case 22:return Th(e,t,n,t.pendingProps);case 24:return ca(t),s=tt(He),e===null?(r=ro(),r===null&&(r=Ee,u=io(),r.pooledCache=u,u.refCount++,u!==null&&(r.pooledCacheLanes|=n),r=u),t.memoizedState={parent:s,cache:r},co(t),wn(t,He,r)):((e.lanes&n)!==0&&(uo(e,t),Hs(t,null,null,n),Ps()),r=e.memoizedState,u=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),wn(t,He,s)):(s=u.cache,wn(t,He,s),s!==r.cache&&so(t,[He],n,!0))),nt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function hn(e){e.flags|=4}function Io(e,t,n,s,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(im())e.flags|=8192;else throw fa=el,oo}else e.flags&=-16777217}function Oh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Qm(t))if(im())e.flags|=8192;else throw fa=el,oo}function gl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?dd():536870912,e.lanes|=t,Ja|=t)}function Xs(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)n|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function tb(e,t,n){var s=t.pendingProps;switch($r(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return De(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),cn(He),Ve(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(La(t)?hn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,to())),De(t),null;case 26:var r=t.type,u=t.memoizedState;return e===null?(hn(t),u!==null?(De(t),Oh(t,u)):(De(t),Io(t,r,null,s,n))):u?u!==e.memoizedState?(hn(t),De(t),Oh(t,u)):(De(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&hn(t),De(t),Io(t,r,e,s,n)),null;case 27:if(wi(t),n=oe.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&hn(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return De(t),null}e=X.current,La(t)?ff(t):(e=Pm(r,s,n),t.stateNode=e,hn(t))}return De(t),null;case 5:if(wi(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&hn(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return De(t),null}if(u=X.current,La(t))ff(t);else{var f=Rl(oe.current);switch(u){case 1:u=f.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:u=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":u=f.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":u=f.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":u=f.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?f.createElement("select",{is:s.is}):f.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?f.createElement(r,{is:s.is}):f.createElement(r)}}u[$e]=t,u[ft]=s;e:for(f=t.child;f!==null;){if(f.tag===5||f.tag===6)u.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}t.stateNode=u;e:switch(at(u,r,s),r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&hn(t)}}return De(t),Io(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&hn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(c(166));if(e=oe.current,La(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,r=et,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[$e]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||Cm(e.nodeValue,n)),e||_n(t,!0)}else e=Rl(e).createTextNode(s),e[$e]=t,t.stateNode=e}return De(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(s=La(t),n!==null){if(e===null){if(!s)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[$e]=t}else ra(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),e=!1}else n=to(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(At(t),t):(At(t),null);if((t.flags&128)!==0)throw Error(c(558))}return De(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=La(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(c(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(c(317));r[$e]=t}else ra(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;De(t),r=!1}else r=to(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(At(t),t):(At(t),null)}return At(t),(t.flags&128)!==0?(t.lanes=n,t):(n=s!==null,e=e!==null&&e.memoizedState!==null,n&&(s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==r&&(s.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),gl(t,t.updateQueue),De(t),null);case 4:return Ve(),e===null&&mc(t.stateNode.containerInfo),De(t),null;case 10:return cn(t.type),De(t),null;case 19:if(U(Le),s=t.memoizedState,s===null)return De(t),null;if(r=(t.flags&128)!==0,u=s.rendering,u===null)if(r)Xs(s,!1);else{if(Ue!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=sl(e),u!==null){for(t.flags|=128,Xs(s,!1),e=u.updateQueue,t.updateQueue=e,gl(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)rf(n,e),n=n.sibling;return q(Le,Le.current&1|2),me&&rn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&bt()>jl&&(t.flags|=128,r=!0,Xs(s,!1),t.lanes=4194304)}else{if(!r)if(e=sl(u),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,gl(t,e),Xs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!me)return De(t),null}else 2*bt()-s.renderingStartTime>jl&&n!==536870912&&(t.flags|=128,r=!0,Xs(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bt(),e.sibling=null,n=Le.current,q(Le,r?n&1|2:n&1),me&&rn(t,s.treeForkCount),e):(De(t),null);case 22:case 23:return At(t),po(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(n&536870912)!==0&&(t.flags&128)===0&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),n=t.updateQueue,n!==null&&gl(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&U(ua),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),cn(He),De(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function nb(e,t){switch($r(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cn(He),Ve(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return wi(t),null;case 31:if(t.memoizedState!==null){if(At(t),t.alternate===null)throw Error(c(340));ra()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(At(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));ra()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(Le),null;case 4:return Ve(),null;case 10:return cn(t.type),null;case 22:case 23:return At(t),po(),e!==null&&U(ua),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return cn(He),null;case 25:return null;default:return null}}function kh(e,t){switch($r(t),t.tag){case 3:cn(He),Ve();break;case 26:case 27:case 5:wi(t);break;case 4:Ve();break;case 31:t.memoizedState!==null&&At(t);break;case 13:At(t);break;case 19:U(Le);break;case 10:cn(t.type);break;case 22:case 23:At(t),po(),e!==null&&U(ua);break;case 24:cn(He)}}function Qs(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var r=s.next;n=r;do{if((n.tag&e)===e){s=void 0;var u=n.create,f=n.inst;s=u(),f.destroy=s}n=n.next}while(n!==r)}}catch(g){je(t,t.return,g)}}function kn(e,t,n){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var u=r.next;s=u;do{if((s.tag&e)===e){var f=s.inst,g=f.destroy;if(g!==void 0){f.destroy=void 0,r=t;var S=n,_=g;try{_()}catch(M){je(r,S,M)}}}s=s.next}while(s!==u)}}catch(M){je(t,t.return,M)}}function zh(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Af(t,n)}catch(s){je(e,e.return,s)}}}function Uh(e,t,n){n.props=pa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){je(e,t,s)}}function Zs(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(r){je(e,t,r)}}function Ft(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(r){je(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(r){je(e,t,r)}else n.current=null}function Bh(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(r){je(e,e.return,r)}}function Xo(e,t,n){try{var s=e.stateNode;Nb(s,e.type,n,t),s[ft]=t}catch(r){je(e,e.return,r)}}function Vh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hn(e.type)||e.tag===4}function Qo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=an));else if(s!==4&&(s===27&&Hn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Zo(e,t,n),e=e.sibling;e!==null;)Zo(e,t,n),e=e.sibling}function xl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&Hn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(xl(e,t,n),e=e.sibling;e!==null;)xl(e,t,n),e=e.sibling}function Lh(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);at(t,s,n),t[$e]=e,t[ft]=n}catch(u){je(e,e.return,u)}}var mn=!1,Ke=!1,Fo=!1,Ph=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function ab(e,t){if(e=e.containerInfo,gc=Ll,e=Wd(e),qr(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var r=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{n.nodeType,u.nodeType}catch{n=null;break e}var f=0,g=-1,S=-1,_=0,M=0,z=e,w=null;t:for(;;){for(var C;z!==n||r!==0&&z.nodeType!==3||(g=f+r),z!==u||s!==0&&z.nodeType!==3||(S=f+s),z.nodeType===3&&(f+=z.nodeValue.length),(C=z.firstChild)!==null;)w=z,z=C;for(;;){if(z===e)break t;if(w===n&&++_===r&&(g=f),w===u&&++M===s&&(S=f),(C=z.nextSibling)!==null)break;z=w,w=z.parentNode}z=C}n=g===-1||S===-1?null:{start:g,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(xc={focusedElem:e,selectionRange:n},Ll=!1,Fe=t;Fe!==null;)if(t=Fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Fe=e;else for(;Fe!==null;){switch(t=Fe,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)r=e[n],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,n=t,r=u.memoizedProps,u=u.memoizedState,s=n.stateNode;try{var K=pa(n.type,r);e=s.getSnapshotBeforeUpdate(K,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(te){je(n,n.return,te)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Sc(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,Fe=e;break}Fe=t.return}}function Hh(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:yn(e,n),s&4&&Qs(5,n);break;case 1:if(yn(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(f){je(n,n.return,f)}else{var r=pa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(f){je(n,n.return,f)}}s&64&&zh(n),s&512&&Zs(n,n.return);break;case 3:if(yn(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Af(e,t)}catch(f){je(n,n.return,f)}}break;case 27:t===null&&s&4&&Lh(n);case 26:case 5:yn(e,n),t===null&&s&4&&Bh(n),s&512&&Zs(n,n.return);break;case 12:yn(e,n);break;case 31:yn(e,n),s&4&&Kh(e,n);break;case 13:yn(e,n),s&4&&Yh(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=fb.bind(null,n),Rb(e,n))));break;case 22:if(s=n.memoizedState!==null||mn,!s){t=t!==null&&t.memoizedState!==null||Ke,r=mn;var u=Ke;mn=s,(Ke=t)&&!u?gn(e,n,(n.subtreeFlags&8772)!==0):yn(e,n),mn=r,Ke=u}break;case 30:break;default:yn(e,n)}}function qh(e){var t=e.alternate;t!==null&&(e.alternate=null,qh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ar(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Re=null,mt=!1;function pn(e,t,n){for(n=n.child;n!==null;)Gh(e,t,n),n=n.sibling}function Gh(e,t,n){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(bs,n)}catch{}switch(n.tag){case 26:Ke||Ft(n,t),pn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ke||Ft(n,t);var s=Re,r=mt;Hn(n.type)&&(Re=n.stateNode,mt=!1),pn(e,t,n),si(n.stateNode),Re=s,mt=r;break;case 5:Ke||Ft(n,t);case 6:if(s=Re,r=mt,Re=null,pn(e,t,n),Re=s,mt=r,Re!==null)if(mt)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(n.stateNode)}catch(u){je(n,t,u)}else try{Re.removeChild(n.stateNode)}catch(u){je(n,t,u)}break;case 18:Re!==null&&(mt?(e=Re,zm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ls(e)):zm(Re,n.stateNode));break;case 4:s=Re,r=mt,Re=n.stateNode.containerInfo,mt=!0,pn(e,t,n),Re=s,mt=r;break;case 0:case 11:case 14:case 15:kn(2,n,t),Ke||kn(4,n,t),pn(e,t,n);break;case 1:Ke||(Ft(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&Uh(n,t,s)),pn(e,t,n);break;case 21:pn(e,t,n);break;case 22:Ke=(s=Ke)||n.memoizedState!==null,pn(e,t,n),Ke=s;break;default:pn(e,t,n)}}function Kh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ls(e)}catch(n){je(t,t.return,n)}}}function Yh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ls(e)}catch(n){je(t,t.return,n)}}function sb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ph),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ph),t;default:throw Error(c(435,e.tag))}}function bl(e,t){var n=sb(e);t.forEach(function(s){if(!n.has(s)){n.add(s);var r=hb.bind(null,e,s);s.then(r,r)}})}function pt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var r=n[s],u=e,f=t,g=f;e:for(;g!==null;){switch(g.tag){case 27:if(Hn(g.type)){Re=g.stateNode,mt=!1;break e}break;case 5:Re=g.stateNode,mt=!1;break e;case 3:case 4:Re=g.stateNode.containerInfo,mt=!0;break e}g=g.return}if(Re===null)throw Error(c(160));Gh(u,f,r),Re=null,mt=!1,u=r.alternate,u!==null&&(u.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ih(t,e),t=t.sibling}var Gt=null;function Ih(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pt(t,e),yt(e),s&4&&(kn(3,e,e.return),Qs(3,e),kn(5,e,e.return));break;case 1:pt(t,e),yt(e),s&512&&(Ke||n===null||Ft(n,n.return)),s&64&&mn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var r=Gt;if(pt(t,e),yt(e),s&512&&(Ke||n===null||Ft(n,n.return)),s&4){var u=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":u=r.getElementsByTagName("title")[0],(!u||u[js]||u[$e]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=r.createElement(s),r.head.insertBefore(u,r.querySelector("head > title"))),at(u,s,n),u[$e]=e,Ze(u),s=u;break e;case"link":var f=Im("link","href",r).get(s+(n.href||""));if(f){for(var g=0;g<f.length;g++)if(u=f[g],u.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&u.getAttribute("rel")===(n.rel==null?null:n.rel)&&u.getAttribute("title")===(n.title==null?null:n.title)&&u.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){f.splice(g,1);break t}}u=r.createElement(s),at(u,s,n),r.head.appendChild(u);break;case"meta":if(f=Im("meta","content",r).get(s+(n.content||""))){for(g=0;g<f.length;g++)if(u=f[g],u.getAttribute("content")===(n.content==null?null:""+n.content)&&u.getAttribute("name")===(n.name==null?null:n.name)&&u.getAttribute("property")===(n.property==null?null:n.property)&&u.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&u.getAttribute("charset")===(n.charSet==null?null:n.charSet)){f.splice(g,1);break t}}u=r.createElement(s),at(u,s,n),r.head.appendChild(u);break;default:throw Error(c(468,s))}u[$e]=e,Ze(u),s=u}e.stateNode=s}else Xm(r,e.type,e.stateNode);else e.stateNode=Ym(r,s,e.memoizedProps);else u!==s?(u===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):u.count--,s===null?Xm(r,e.type,e.stateNode):Ym(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Xo(e,e.memoizedProps,n.memoizedProps)}break;case 27:pt(t,e),yt(e),s&512&&(Ke||n===null||Ft(n,n.return)),n!==null&&s&4&&Xo(e,e.memoizedProps,n.memoizedProps);break;case 5:if(pt(t,e),yt(e),s&512&&(Ke||n===null||Ft(n,n.return)),e.flags&32){r=e.stateNode;try{Ca(r,"")}catch(K){je(e,e.return,K)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,Xo(e,r,n!==null?n.memoizedProps:r)),s&1024&&(Fo=!0);break;case 6:if(pt(t,e),yt(e),s&4){if(e.stateNode===null)throw Error(c(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(K){je(e,e.return,K)}}break;case 3:if(zl=null,r=Gt,Gt=Ol(t.containerInfo),pt(t,e),Gt=r,yt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{ls(t.containerInfo)}catch(K){je(e,e.return,K)}Fo&&(Fo=!1,Xh(e));break;case 4:s=Gt,Gt=Ol(e.stateNode.containerInfo),pt(t,e),yt(e),Gt=s;break;case 12:pt(t,e),yt(e);break;case 31:pt(t,e),yt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,bl(e,s)));break;case 13:pt(t,e),yt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Sl=bt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,bl(e,s)));break;case 22:r=e.memoizedState!==null;var S=n!==null&&n.memoizedState!==null,_=mn,M=Ke;if(mn=_||r,Ke=M||S,pt(t,e),Ke=M,mn=_,yt(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(n===null||S||mn||Ke||ya(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){S=n=t;try{if(u=S.stateNode,r)f=u.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{g=S.stateNode;var z=S.memoizedProps.style,w=z!=null&&z.hasOwnProperty("display")?z.display:null;g.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(K){je(S,S.return,K)}}}else if(t.tag===6){if(n===null){S=t;try{S.stateNode.nodeValue=r?"":S.memoizedProps}catch(K){je(S,S.return,K)}}}else if(t.tag===18){if(n===null){S=t;try{var C=S.stateNode;r?Um(C,!0):Um(S.stateNode,!1)}catch(K){je(S,S.return,K)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,bl(e,n))));break;case 19:pt(t,e),yt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,bl(e,s)));break;case 30:break;case 21:break;default:pt(t,e),yt(e)}}function yt(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(Vh(s)){n=s;break}s=s.return}if(n==null)throw Error(c(160));switch(n.tag){case 27:var r=n.stateNode,u=Qo(e);xl(e,u,r);break;case 5:var f=n.stateNode;n.flags&32&&(Ca(f,""),n.flags&=-33);var g=Qo(e);xl(e,g,f);break;case 3:case 4:var S=n.stateNode.containerInfo,_=Qo(e);Zo(e,_,S);break;default:throw Error(c(161))}}catch(M){je(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Xh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Xh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function yn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Hh(e,t.alternate,t),t=t.sibling}function ya(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:kn(4,t,t.return),ya(t);break;case 1:Ft(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Uh(t,t.return,n),ya(t);break;case 27:si(t.stateNode);case 26:case 5:Ft(t,t.return),ya(t);break;case 22:t.memoizedState===null&&ya(t);break;case 30:ya(t);break;default:ya(t)}e=e.sibling}}function gn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,u=t,f=u.flags;switch(u.tag){case 0:case 11:case 15:gn(r,u,n),Qs(4,u);break;case 1:if(gn(r,u,n),s=u,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(_){je(s,s.return,_)}if(s=u,r=s.updateQueue,r!==null){var g=s.stateNode;try{var S=r.shared.hiddenCallbacks;if(S!==null)for(r.shared.hiddenCallbacks=null,r=0;r<S.length;r++)Nf(S[r],g)}catch(_){je(s,s.return,_)}}n&&f&64&&zh(u),Zs(u,u.return);break;case 27:Lh(u);case 26:case 5:gn(r,u,n),n&&s===null&&f&4&&Bh(u),Zs(u,u.return);break;case 12:gn(r,u,n);break;case 31:gn(r,u,n),n&&f&4&&Kh(r,u);break;case 13:gn(r,u,n),n&&f&4&&Yh(r,u);break;case 22:u.memoizedState===null&&gn(r,u,n),Zs(u,u.return);break;case 30:break;default:gn(r,u,n)}t=t.sibling}}function Wo(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&zs(n))}function Jo(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zs(e))}function Kt(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qh(e,t,n,s),t=t.sibling}function Qh(e,t,n,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:Kt(e,t,n,s),r&2048&&Qs(9,t);break;case 1:Kt(e,t,n,s);break;case 3:Kt(e,t,n,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&zs(e)));break;case 12:if(r&2048){Kt(e,t,n,s),e=t.stateNode;try{var u=t.memoizedProps,f=u.id,g=u.onPostCommit;typeof g=="function"&&g(f,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){je(t,t.return,S)}}else Kt(e,t,n,s);break;case 31:Kt(e,t,n,s);break;case 13:Kt(e,t,n,s);break;case 23:break;case 22:u=t.stateNode,f=t.alternate,t.memoizedState!==null?u._visibility&2?Kt(e,t,n,s):Fs(e,t):u._visibility&2?Kt(e,t,n,s):(u._visibility|=2,Za(e,t,n,s,(t.subtreeFlags&10256)!==0||!1)),r&2048&&Wo(f,t);break;case 24:Kt(e,t,n,s),r&2048&&Jo(t.alternate,t);break;default:Kt(e,t,n,s)}}function Za(e,t,n,s,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,f=t,g=n,S=s,_=f.flags;switch(f.tag){case 0:case 11:case 15:Za(u,f,g,S,r),Qs(8,f);break;case 23:break;case 22:var M=f.stateNode;f.memoizedState!==null?M._visibility&2?Za(u,f,g,S,r):Fs(u,f):(M._visibility|=2,Za(u,f,g,S,r)),r&&_&2048&&Wo(f.alternate,f);break;case 24:Za(u,f,g,S,r),r&&_&2048&&Jo(f.alternate,f);break;default:Za(u,f,g,S,r)}t=t.sibling}}function Fs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,r=s.flags;switch(s.tag){case 22:Fs(n,s),r&2048&&Wo(s.alternate,s);break;case 24:Fs(n,s),r&2048&&Jo(s.alternate,s);break;default:Fs(n,s)}t=t.sibling}}var Ws=8192;function Fa(e,t,n){if(e.subtreeFlags&Ws)for(e=e.child;e!==null;)Zh(e,t,n),e=e.sibling}function Zh(e,t,n){switch(e.tag){case 26:Fa(e,t,n),e.flags&Ws&&e.memoizedState!==null&&Kb(n,Gt,e.memoizedState,e.memoizedProps);break;case 5:Fa(e,t,n);break;case 3:case 4:var s=Gt;Gt=Ol(e.stateNode.containerInfo),Fa(e,t,n),Gt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Ws,Ws=16777216,Fa(e,t,n),Ws=s):Fa(e,t,n));break;default:Fa(e,t,n)}}function Fh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Js(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Fe=s,Jh(s,e)}Fh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Wh(e),e=e.sibling}function Wh(e){switch(e.tag){case 0:case 11:case 15:Js(e),e.flags&2048&&kn(9,e,e.return);break;case 3:Js(e);break;case 12:Js(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,vl(e)):Js(e);break;default:Js(e)}}function vl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Fe=s,Jh(s,e)}Fh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:kn(8,t,t.return),vl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,vl(t));break;default:vl(t)}e=e.sibling}}function Jh(e,t){for(;Fe!==null;){var n=Fe;switch(n.tag){case 0:case 11:case 15:kn(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:zs(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,Fe=s;else e:for(n=e;Fe!==null;){s=Fe;var r=s.sibling,u=s.return;if(qh(s),s===n){Fe=null;break e}if(r!==null){r.return=u,Fe=r;break e}Fe=u}}}var ib={getCacheForType:function(e){var t=tt(He),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return tt(He).controller.signal}},lb=typeof WeakMap=="function"?WeakMap:Map,be=0,Ee=null,ce=null,fe=0,Se=0,Et=null,zn=!1,Wa=!1,$o=!1,xn=0,Ue=0,Un=0,ga=0,ec=0,_t=0,Ja=0,$s=null,gt=null,tc=!1,Sl=0,$h=0,jl=1/0,Tl=null,Bn=null,Xe=0,Vn=null,$a=null,bn=0,nc=0,ac=null,em=null,ei=0,sc=null;function wt(){return(be&2)!==0&&fe!==0?fe&-fe:R.T!==null?uc():pd()}function tm(){if(_t===0)if((fe&536870912)===0||me){var e=Mi;Mi<<=1,(Mi&3932160)===0&&(Mi=262144),_t=e}else _t=536870912;return e=Nt.current,e!==null&&(e.flags|=32),_t}function xt(e,t,n){(e===Ee&&(Se===2||Se===9)||e.cancelPendingCommit!==null)&&(es(e,0),Ln(e,fe,_t,!1)),Ss(e,n),((be&2)===0||e!==Ee)&&(e===Ee&&((be&2)===0&&(ga|=n),Ue===4&&Ln(e,fe,_t,!1)),Wt(e))}function nm(e,t,n){if((be&6)!==0)throw Error(c(327));var s=!n&&(t&127)===0&&(t&e.expiredLanes)===0||vs(e,t),r=s?cb(e,t):lc(e,t,!0),u=s;do{if(r===0){Wa&&!s&&Ln(e,t,0,!1);break}else{if(n=e.current.alternate,u&&!rb(n)){r=lc(e,t,!1),u=!1;continue}if(r===2){if(u=t,e.errorRecoveryDisabledLanes&u)var f=0;else f=e.pendingLanes&-536870913,f=f!==0?f:f&536870912?536870912:0;if(f!==0){t=f;e:{var g=e;r=$s;var S=g.current.memoizedState.isDehydrated;if(S&&(es(g,f).flags|=256),f=lc(g,f,!1),f!==2){if($o&&!S){g.errorRecoveryDisabledLanes|=u,ga|=u,r=4;break e}u=gt,gt=r,u!==null&&(gt===null?gt=u:gt.push.apply(gt,u))}r=f}if(u=!1,r!==2)continue}}if(r===1){es(e,0),Ln(e,t,0,!0);break}e:{switch(s=e,u=r,u){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Ln(s,t,_t,!zn);break e;case 2:gt=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(r=Sl+300-bt(),10<r)){if(Ln(s,t,_t,!zn),Oi(s,0,!0)!==0)break e;bn=t,s.timeoutHandle=Om(am.bind(null,s,n,gt,Tl,tc,t,_t,ga,Ja,zn,u,"Throttled",-0,0),r);break e}am(s,n,gt,Tl,tc,t,_t,ga,Ja,zn,u,null,-0,0)}}break}while(!0);Wt(e)}function am(e,t,n,s,r,u,f,g,S,_,M,z,w,C){if(e.timeoutHandle=-1,z=t.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:an},Zh(t,u,z);var K=(u&62914560)===u?Sl-bt():(u&4194048)===u?$h-bt():0;if(K=Yb(z,K),K!==null){bn=u,e.cancelPendingCommit=K(dm.bind(null,e,t,u,n,s,r,f,g,S,M,z,null,w,C)),Ln(e,u,f,!_);return}}dm(e,t,u,n,s,r,f,g,S)}function rb(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var r=n[s],u=r.getSnapshot;r=r.value;try{if(!jt(u(),r))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ln(e,t,n,s){t&=~ec,t&=~ga,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var u=31-St(r),f=1<<u;s[u]=-1,r&=~f}n!==0&&fd(e,n,t)}function Nl(){return(be&6)===0?(ti(0),!1):!0}function ic(){if(ce!==null){if(Se===0)var e=ce.return;else e=ce,on=oa=null,So(e),Ka=null,Bs=0,e=ce;for(;e!==null;)kh(e.alternate,e),e=e.return;ce=null}}function es(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,_b(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),bn=0,ic(),Ee=e,ce=n=ln(e.current,null),fe=t,Se=0,Et=null,zn=!1,Wa=vs(e,t),$o=!1,Ja=_t=ec=ga=Un=Ue=0,gt=$s=null,tc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-St(s),u=1<<r;t|=e[r],s&=~u}return xn=t,Yi(),n}function sm(e,t){se=null,R.H=Ys,t===Ga||t===$i?(t=vf(),Se=3):t===oo?(t=vf(),Se=4):Se=t===Bo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Et=t,ce===null&&(Ue=1,hl(e,Ot(t,e.current)))}function im(){var e=Nt.current;return e===null?!0:(fe&4194048)===fe?Bt===null:(fe&62914560)===fe||(fe&536870912)!==0?e===Bt:!1}function lm(){var e=R.H;return R.H=Ys,e===null?Ys:e}function rm(){var e=R.A;return R.A=ib,e}function Al(){Ue=4,zn||(fe&4194048)!==fe&&Nt.current!==null||(Wa=!0),(Un&134217727)===0&&(ga&134217727)===0||Ee===null||Ln(Ee,fe,_t,!1)}function lc(e,t,n){var s=be;be|=2;var r=lm(),u=rm();(Ee!==e||fe!==t)&&(Tl=null,es(e,t)),t=!1;var f=Ue;e:do try{if(Se!==0&&ce!==null){var g=ce,S=Et;switch(Se){case 8:ic(),f=6;break e;case 3:case 2:case 9:case 6:Nt.current===null&&(t=!0);var _=Se;if(Se=0,Et=null,ts(e,g,S,_),n&&Wa){f=0;break e}break;default:_=Se,Se=0,Et=null,ts(e,g,S,_)}}ob(),f=Ue;break}catch(M){sm(e,M)}while(!0);return t&&e.shellSuspendCounter++,on=oa=null,be=s,R.H=r,R.A=u,ce===null&&(Ee=null,fe=0,Yi()),f}function ob(){for(;ce!==null;)om(ce)}function cb(e,t){var n=be;be|=2;var s=lm(),r=rm();Ee!==e||fe!==t?(Tl=null,jl=bt()+500,es(e,t)):Wa=vs(e,t);e:do try{if(Se!==0&&ce!==null){t=ce;var u=Et;t:switch(Se){case 1:Se=0,Et=null,ts(e,t,u,1);break;case 2:case 9:if(xf(u)){Se=0,Et=null,cm(t);break}t=function(){Se!==2&&Se!==9||Ee!==e||(Se=7),Wt(e)},u.then(t,t);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:xf(u)?(Se=0,Et=null,cm(t)):(Se=0,Et=null,ts(e,t,u,7));break;case 5:var f=null;switch(ce.tag){case 26:f=ce.memoizedState;case 5:case 27:var g=ce;if(f?Qm(f):g.stateNode.complete){Se=0,Et=null;var S=g.sibling;if(S!==null)ce=S;else{var _=g.return;_!==null?(ce=_,El(_)):ce=null}break t}}Se=0,Et=null,ts(e,t,u,5);break;case 6:Se=0,Et=null,ts(e,t,u,6);break;case 8:ic(),Ue=6;break e;default:throw Error(c(462))}}ub();break}catch(M){sm(e,M)}while(!0);return on=oa=null,R.H=s,R.A=r,be=n,ce!==null?0:(Ee=null,fe=0,Yi(),Ue)}function ub(){for(;ce!==null&&!Og();)om(ce)}function om(e){var t=Rh(e.alternate,e,xn);e.memoizedProps=e.pendingProps,t===null?El(e):ce=t}function cm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Eh(n,t,t.pendingProps,t.type,void 0,fe);break;case 11:t=Eh(n,t,t.pendingProps,t.type.render,t.ref,fe);break;case 5:So(t);default:kh(n,t),t=ce=rf(t,xn),t=Rh(n,t,xn)}e.memoizedProps=e.pendingProps,t===null?El(e):ce=t}function ts(e,t,n,s){on=oa=null,So(t),Ka=null,Bs=0;var r=t.return;try{if(Jx(e,r,t,n,fe)){Ue=1,hl(e,Ot(n,e.current)),ce=null;return}}catch(u){if(r!==null)throw ce=r,u;Ue=1,hl(e,Ot(n,e.current)),ce=null;return}t.flags&32768?(me||s===1?e=!0:Wa||(fe&536870912)!==0?e=!1:(zn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Nt.current,s!==null&&s.tag===13&&(s.flags|=16384))),um(t,e)):El(t)}function El(e){var t=e;do{if((t.flags&32768)!==0){um(t,zn);return}e=t.return;var n=tb(t.alternate,t,xn);if(n!==null){ce=n;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);Ue===0&&(Ue=5)}function um(e,t){do{var n=nb(e.alternate,e);if(n!==null){n.flags&=32767,ce=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ce=e;return}ce=e=n}while(e!==null);Ue=6,ce=null}function dm(e,t,n,s,r,u,f,g,S){e.cancelPendingCommit=null;do _l();while(Xe!==0);if((be&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(u=t.lanes|t.childLanes,u|=Xr,Gg(e,n,u,f,g,S),e===Ee&&(ce=Ee=null,fe=0),$a=t,Vn=e,bn=n,nc=u,ac=r,em=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,mb(Ci,function(){return ym(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=R.T,R.T=null,r=V.p,V.p=2,f=be,be|=4;try{ab(e,t,n)}finally{be=f,V.p=r,R.T=s}}Xe=1,fm(),hm(),mm()}}function fm(){if(Xe===1){Xe=0;var e=Vn,t=$a,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=R.T,R.T=null;var s=V.p;V.p=2;var r=be;be|=4;try{Ih(t,e);var u=xc,f=Wd(e.containerInfo),g=u.focusedElem,S=u.selectionRange;if(f!==g&&g&&g.ownerDocument&&Fd(g.ownerDocument.documentElement,g)){if(S!==null&&qr(g)){var _=S.start,M=S.end;if(M===void 0&&(M=_),"selectionStart"in g)g.selectionStart=_,g.selectionEnd=Math.min(M,g.value.length);else{var z=g.ownerDocument||document,w=z&&z.defaultView||window;if(w.getSelection){var C=w.getSelection(),K=g.textContent.length,te=Math.min(S.start,K),Ae=S.end===void 0?te:Math.min(S.end,K);!C.extend&&te>Ae&&(f=Ae,Ae=te,te=f);var A=Zd(g,te),T=Zd(g,Ae);if(A&&T&&(C.rangeCount!==1||C.anchorNode!==A.node||C.anchorOffset!==A.offset||C.focusNode!==T.node||C.focusOffset!==T.offset)){var E=z.createRange();E.setStart(A.node,A.offset),C.removeAllRanges(),te>Ae?(C.addRange(E),C.extend(T.node,T.offset)):(E.setEnd(T.node,T.offset),C.addRange(E))}}}}for(z=[],C=g;C=C.parentNode;)C.nodeType===1&&z.push({element:C,left:C.scrollLeft,top:C.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<z.length;g++){var O=z[g];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}Ll=!!gc,xc=gc=null}finally{be=r,V.p=s,R.T=n}}e.current=t,Xe=2}}function hm(){if(Xe===2){Xe=0;var e=Vn,t=$a,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=R.T,R.T=null;var s=V.p;V.p=2;var r=be;be|=4;try{Hh(e,t.alternate,t)}finally{be=r,V.p=s,R.T=n}}Xe=3}}function mm(){if(Xe===4||Xe===3){Xe=0,kg();var e=Vn,t=$a,n=bn,s=em;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Xe=5:(Xe=0,$a=Vn=null,pm(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Bn=null),Tr(n),t=t.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(bs,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=R.T,r=V.p,V.p=2,R.T=null;try{for(var u=e.onRecoverableError,f=0;f<s.length;f++){var g=s[f];u(g.value,{componentStack:g.stack})}}finally{R.T=t,V.p=r}}(bn&3)!==0&&_l(),Wt(e),r=e.pendingLanes,(n&261930)!==0&&(r&42)!==0?e===sc?ei++:(ei=0,sc=e):ei=0,ti(0)}}function pm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,zs(t)))}function _l(){return fm(),hm(),mm(),ym()}function ym(){if(Xe!==5)return!1;var e=Vn,t=nc;nc=0;var n=Tr(bn),s=R.T,r=V.p;try{V.p=32>n?32:n,R.T=null,n=ac,ac=null;var u=Vn,f=bn;if(Xe=0,$a=Vn=null,bn=0,(be&6)!==0)throw Error(c(331));var g=be;if(be|=4,Wh(u.current),Qh(u,u.current,f,n),be=g,ti(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(bs,u)}catch{}return!0}finally{V.p=r,R.T=s,pm(e,t)}}function gm(e,t,n){t=Ot(n,t),t=Uo(e.stateNode,t,2),e=Mn(e,t,2),e!==null&&(Ss(e,2),Wt(e))}function je(e,t,n){if(e.tag===3)gm(e,e,n);else for(;t!==null;){if(t.tag===3){gm(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Bn===null||!Bn.has(s))){e=Ot(n,e),n=xh(2),s=Mn(t,n,2),s!==null&&(bh(n,s,t,e),Ss(s,2),Wt(s));break}}t=t.return}}function rc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new lb;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(n)||($o=!0,r.add(n),e=db.bind(null,e,t,n),t.then(e,e))}function db(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ee===e&&(fe&n)===n&&(Ue===4||Ue===3&&(fe&62914560)===fe&&300>bt()-Sl?(be&2)===0&&es(e,0):ec|=n,Ja===fe&&(Ja=0)),Wt(e)}function xm(e,t){t===0&&(t=dd()),e=ia(e,t),e!==null&&(Ss(e,t),Wt(e))}function fb(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xm(e,n)}function hb(e,t){var n=0;switch(e.tag){case 31:case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(n=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(c(314))}s!==null&&s.delete(t),xm(e,n)}function mb(e,t){return br(e,t)}var wl=null,ns=null,oc=!1,Cl=!1,cc=!1,Pn=0;function Wt(e){e!==ns&&e.next===null&&(ns===null?wl=ns=e:ns=ns.next=e),Cl=!0,oc||(oc=!0,yb())}function ti(e,t){if(!cc&&Cl){cc=!0;do for(var n=!1,s=wl;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var u=0;else{var f=s.suspendedLanes,g=s.pingedLanes;u=(1<<31-St(42|e)+1)-1,u&=r&~(f&~g),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(n=!0,jm(s,u))}else u=fe,u=Oi(s,s===Ee?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||vs(s,u)||(n=!0,jm(s,u));s=s.next}while(n);cc=!1}}function pb(){bm()}function bm(){Cl=oc=!1;var e=0;Pn!==0&&Eb()&&(e=Pn);for(var t=bt(),n=null,s=wl;s!==null;){var r=s.next,u=vm(s,t);u===0?(s.next=null,n===null?wl=r:n.next=r,r===null&&(ns=n)):(n=s,(e!==0||(u&3)!==0)&&(Cl=!0)),s=r}Xe!==0&&Xe!==5||ti(e),Pn!==0&&(Pn=0)}function vm(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var f=31-St(u),g=1<<f,S=r[f];S===-1?((g&n)===0||(g&s)!==0)&&(r[f]=qg(g,t)):S<=t&&(e.expiredLanes|=g),u&=~g}if(t=Ee,n=fe,n=Oi(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(Se===2||Se===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&vr(s),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||vs(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&vr(s),Tr(n)){case 2:case 8:n=cd;break;case 32:n=Ci;break;case 268435456:n=ud;break;default:n=Ci}return s=Sm.bind(null,e),n=br(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&vr(s),e.callbackPriority=2,e.callbackNode=null,2}function Sm(e,t){if(Xe!==0&&Xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(_l()&&e.callbackNode!==n)return null;var s=fe;return s=Oi(e,e===Ee?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(nm(e,s,t),vm(e,bt()),e.callbackNode!=null&&e.callbackNode===n?Sm.bind(null,e):null)}function jm(e,t){if(_l())return null;nm(e,t,!0)}function yb(){wb(function(){(be&6)!==0?br(od,pb):bm()})}function uc(){if(Pn===0){var e=Ha;e===0&&(e=Di,Di<<=1,(Di&261888)===0&&(Di=256)),Pn=e}return Pn}function Tm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Bi(""+e)}function Nm(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function gb(e,t,n,s,r){if(t==="submit"&&n&&n.stateNode===r){var u=Tm((r[ft]||null).action),f=s.submitter;f&&(t=(t=f[ft]||null)?Tm(t.formAction):f.getAttribute("formAction"),t!==null&&(u=t,f=null));var g=new Hi("action","action",null,s,r);e.push({event:g,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Pn!==0){var S=f?Nm(r,f):new FormData(r);Do(n,{pending:!0,data:S,method:r.method,action:u},null,S)}}else typeof u=="function"&&(g.preventDefault(),S=f?Nm(r,f):new FormData(r),Do(n,{pending:!0,data:S,method:r.method,action:u},u,S))},currentTarget:r}]})}}for(var dc=0;dc<Ir.length;dc++){var fc=Ir[dc],xb=fc.toLowerCase(),bb=fc[0].toUpperCase()+fc.slice(1);qt(xb,"on"+bb)}qt(ef,"onAnimationEnd"),qt(tf,"onAnimationIteration"),qt(nf,"onAnimationStart"),qt("dblclick","onDoubleClick"),qt("focusin","onFocus"),qt("focusout","onBlur"),qt(zx,"onTransitionRun"),qt(Ux,"onTransitionStart"),qt(Bx,"onTransitionCancel"),qt(af,"onTransitionEnd"),_a("onMouseEnter",["mouseout","mouseover"]),_a("onMouseLeave",["mouseout","mouseover"]),_a("onPointerEnter",["pointerout","pointerover"]),_a("onPointerLeave",["pointerout","pointerover"]),ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ni));function Am(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],r=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var f=s.length-1;0<=f;f--){var g=s[f],S=g.instance,_=g.currentTarget;if(g=g.listener,S!==u&&r.isPropagationStopped())break e;u=g,r.currentTarget=_;try{u(r)}catch(M){Ki(M)}r.currentTarget=null,u=S}else for(f=0;f<s.length;f++){if(g=s[f],S=g.instance,_=g.currentTarget,g=g.listener,S!==u&&r.isPropagationStopped())break e;u=g,r.currentTarget=_;try{u(r)}catch(M){Ki(M)}r.currentTarget=null,u=S}}}}function ue(e,t){var n=t[Nr];n===void 0&&(n=t[Nr]=new Set);var s=e+"__bubble";n.has(s)||(Em(t,e,2,!1),n.add(s))}function hc(e,t,n){var s=0;t&&(s|=4),Em(n,e,s,t)}var Dl="_reactListening"+Math.random().toString(36).slice(2);function mc(e){if(!e[Dl]){e[Dl]=!0,xd.forEach(function(n){n!=="selectionchange"&&(vb.has(n)||hc(n,!1,e),hc(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dl]||(t[Dl]=!0,hc("selectionchange",!1,t))}}function Em(e,t,n,s){switch(tp(t)){case 2:var r=Qb;break;case 8:r=Zb;break;default:r=Cc}n=r.bind(null,t,n,e),r=void 0,!Or||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):r!==void 0?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function pc(e,t,n,s,r){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var f=s.tag;if(f===3||f===4){var g=s.stateNode.containerInfo;if(g===r)break;if(f===4)for(f=s.return;f!==null;){var S=f.tag;if((S===3||S===4)&&f.stateNode.containerInfo===r)return;f=f.return}for(;g!==null;){if(f=Na(g),f===null)return;if(S=f.tag,S===5||S===6||S===26||S===27){s=u=f;continue e}g=g.parentNode}}s=s.return}Dd(function(){var _=u,M=Mr(n),z=[];e:{var w=sf.get(e);if(w!==void 0){var C=Hi,K=e;switch(e){case"keypress":if(Li(n)===0)break e;case"keydown":case"keyup":C=hx;break;case"focusin":K="focus",C=Br;break;case"focusout":K="blur",C=Br;break;case"beforeblur":case"afterblur":C=Br;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=tx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=yx;break;case ef:case tf:case nf:C=sx;break;case af:C=xx;break;case"scroll":case"scrollend":C=$g;break;case"wheel":C=vx;break;case"copy":case"cut":case"paste":C=lx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=zd;break;case"toggle":case"beforetoggle":C=jx}var te=(t&4)!==0,Ae=!te&&(e==="scroll"||e==="scrollend"),A=te?w!==null?w+"Capture":null:w;te=[];for(var T=_,E;T!==null;){var O=T;if(E=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||E===null||A===null||(O=Ns(T,A),O!=null&&te.push(ai(T,O,E))),Ae)break;T=T.return}0<te.length&&(w=new C(w,K,null,n,M),z.push({event:w,listeners:te}))}}if((t&7)===0){e:{if(w=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",w&&n!==Dr&&(K=n.relatedTarget||n.fromElement)&&(Na(K)||K[Ta]))break e;if((C||w)&&(w=M.window===M?M:(w=M.ownerDocument)?w.defaultView||w.parentWindow:window,C?(K=n.relatedTarget||n.toElement,C=_,K=K?Na(K):null,K!==null&&(Ae=m(K),te=K.tag,K!==Ae||te!==5&&te!==27&&te!==6)&&(K=null)):(C=null,K=_),C!==K)){if(te=Od,O="onMouseLeave",A="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(te=zd,O="onPointerLeave",A="onPointerEnter",T="pointer"),Ae=C==null?w:Ts(C),E=K==null?w:Ts(K),w=new te(O,T+"leave",C,n,M),w.target=Ae,w.relatedTarget=E,O=null,Na(M)===_&&(te=new te(A,T+"enter",K,n,M),te.target=E,te.relatedTarget=Ae,O=te),Ae=O,C&&K)t:{for(te=Sb,A=C,T=K,E=0,O=A;O;O=te(O))E++;O=0;for(var J=T;J;J=te(J))O++;for(;0<E-O;)A=te(A),E--;for(;0<O-E;)T=te(T),O--;for(;E--;){if(A===T||T!==null&&A===T.alternate){te=A;break t}A=te(A),T=te(T)}te=null}else te=null;C!==null&&_m(z,w,C,te,!1),K!==null&&Ae!==null&&_m(z,Ae,K,te,!0)}}e:{if(w=_?Ts(_):window,C=w.nodeName&&w.nodeName.toLowerCase(),C==="select"||C==="input"&&w.type==="file")var ge=Gd;else if(Hd(w))if(Kd)ge=Rx;else{ge=Dx;var Z=Cx}else C=w.nodeName,!C||C.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?_&&Cr(_.elementType)&&(ge=Gd):ge=Mx;if(ge&&(ge=ge(e,_))){qd(z,ge,n,M);break e}Z&&Z(e,w,_),e==="focusout"&&_&&w.type==="number"&&_.memoizedProps.value!=null&&wr(w,"number",w.value)}switch(Z=_?Ts(_):window,e){case"focusin":(Hd(Z)||Z.contentEditable==="true")&&(Oa=Z,Gr=_,Rs=null);break;case"focusout":Rs=Gr=Oa=null;break;case"mousedown":Kr=!0;break;case"contextmenu":case"mouseup":case"dragend":Kr=!1,Jd(z,n,M);break;case"selectionchange":if(kx)break;case"keydown":case"keyup":Jd(z,n,M)}var le;if(Lr)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else Ra?Ld(e,n)&&(he="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(he="onCompositionStart");he&&(Ud&&n.locale!=="ko"&&(Ra||he!=="onCompositionStart"?he==="onCompositionEnd"&&Ra&&(le=Md()):(Nn=M,kr="value"in Nn?Nn.value:Nn.textContent,Ra=!0)),Z=Ml(_,he),0<Z.length&&(he=new kd(he,e,null,n,M),z.push({event:he,listeners:Z}),le?he.data=le:(le=Pd(n),le!==null&&(he.data=le)))),(le=Nx?Ax(e,n):Ex(e,n))&&(he=Ml(_,"onBeforeInput"),0<he.length&&(Z=new kd("onBeforeInput","beforeinput",null,n,M),z.push({event:Z,listeners:he}),Z.data=le)),gb(z,e,_,n,M)}Am(z,t)})}function ai(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ml(e,t){for(var n=t+"Capture",s=[];e!==null;){var r=e,u=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||u===null||(r=Ns(e,n),r!=null&&s.unshift(ai(e,r,u)),r=Ns(e,t),r!=null&&s.push(ai(e,r,u))),e.tag===3)return s;e=e.return}return[]}function Sb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _m(e,t,n,s,r){for(var u=t._reactName,f=[];n!==null&&n!==s;){var g=n,S=g.alternate,_=g.stateNode;if(g=g.tag,S!==null&&S===s)break;g!==5&&g!==26&&g!==27||_===null||(S=_,r?(_=Ns(n,u),_!=null&&f.unshift(ai(n,_,S))):r||(_=Ns(n,u),_!=null&&f.push(ai(n,_,S)))),n=n.return}f.length!==0&&e.push({event:t,listeners:f})}var jb=/\r\n?/g,Tb=/\u0000|\uFFFD/g;function wm(e){return(typeof e=="string"?e:""+e).replace(jb,`
`).replace(Tb,"")}function Cm(e,t){return t=wm(t),wm(e)===t}function Ne(e,t,n,s,r,u){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ca(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ca(e,""+s);break;case"className":zi(e,"class",s);break;case"tabIndex":zi(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":zi(e,n,s);break;case"style":wd(e,s,u);break;case"data":if(t!=="object"){zi(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Bi(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(n==="formAction"?(t!=="input"&&Ne(e,t,"name",r.name,r,null),Ne(e,t,"formEncType",r.formEncType,r,null),Ne(e,t,"formMethod",r.formMethod,r,null),Ne(e,t,"formTarget",r.formTarget,r,null)):(Ne(e,t,"encType",r.encType,r,null),Ne(e,t,"method",r.method,r,null),Ne(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Bi(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=an);break;case"onScroll":s!=null&&ue("scroll",e);break;case"onScrollEnd":s!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=Bi(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":ue("beforetoggle",e),ue("toggle",e),ki(e,"popover",s);break;case"xlinkActuate":nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":nn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":nn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":nn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":nn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ki(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Wg.get(n)||n,ki(e,n,s))}}function yc(e,t,n,s,r,u){switch(n){case"style":wd(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(n=s.__html,n!=null){if(r.children!=null)throw Error(c(60));e.innerHTML=n}}break;case"children":typeof s=="string"?Ca(e,s):(typeof s=="number"||typeof s=="bigint")&&Ca(e,""+s);break;case"onScroll":s!=null&&ue("scroll",e);break;case"onScrollEnd":s!=null&&ue("scrollend",e);break;case"onClick":s!=null&&(e.onclick=an);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!bd.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),u=e[ft]||null,u=u!=null?u[n]:null,typeof u=="function"&&e.removeEventListener(t,u,r),typeof s=="function")){typeof u!="function"&&u!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,r);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):ki(e,n,s)}}}function at(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var s=!1,r=!1,u;for(u in n)if(n.hasOwnProperty(u)){var f=n[u];if(f!=null)switch(u){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ne(e,t,u,f,n,null)}}r&&Ne(e,t,"srcSet",n.srcSet,n,null),s&&Ne(e,t,"src",n.src,n,null);return;case"input":ue("invalid",e);var g=u=f=r=null,S=null,_=null;for(s in n)if(n.hasOwnProperty(s)){var M=n[s];if(M!=null)switch(s){case"name":r=M;break;case"type":f=M;break;case"checked":S=M;break;case"defaultChecked":_=M;break;case"value":u=M;break;case"defaultValue":g=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(c(137,t));break;default:Ne(e,t,s,M,n,null)}}Nd(e,u,g,S,_,f,r,!1);return;case"select":ue("invalid",e),s=f=u=null;for(r in n)if(n.hasOwnProperty(r)&&(g=n[r],g!=null))switch(r){case"value":u=g;break;case"defaultValue":f=g;break;case"multiple":s=g;default:Ne(e,t,r,g,n,null)}t=u,n=f,e.multiple=!!s,t!=null?wa(e,!!s,t,!1):n!=null&&wa(e,!!s,n,!0);return;case"textarea":ue("invalid",e),u=r=s=null;for(f in n)if(n.hasOwnProperty(f)&&(g=n[f],g!=null))switch(f){case"value":s=g;break;case"defaultValue":r=g;break;case"children":u=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(c(91));break;default:Ne(e,t,f,g,n,null)}Ed(e,s,r,u);return;case"option":for(S in n)if(n.hasOwnProperty(S)&&(s=n[S],s!=null))switch(S){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ne(e,t,S,s,n,null)}return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(s=0;s<ni.length;s++)ue(ni[s],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_ in n)if(n.hasOwnProperty(_)&&(s=n[_],s!=null))switch(_){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ne(e,t,_,s,n,null)}return;default:if(Cr(t)){for(M in n)n.hasOwnProperty(M)&&(s=n[M],s!==void 0&&yc(e,t,M,s,n,void 0));return}}for(g in n)n.hasOwnProperty(g)&&(s=n[g],s!=null&&Ne(e,t,g,s,n,null))}function Nb(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,u=null,f=null,g=null,S=null,_=null,M=null;for(C in n){var z=n[C];if(n.hasOwnProperty(C)&&z!=null)switch(C){case"checked":break;case"value":break;case"defaultValue":S=z;default:s.hasOwnProperty(C)||Ne(e,t,C,null,s,z)}}for(var w in s){var C=s[w];if(z=n[w],s.hasOwnProperty(w)&&(C!=null||z!=null))switch(w){case"type":u=C;break;case"name":r=C;break;case"checked":_=C;break;case"defaultChecked":M=C;break;case"value":f=C;break;case"defaultValue":g=C;break;case"children":case"dangerouslySetInnerHTML":if(C!=null)throw Error(c(137,t));break;default:C!==z&&Ne(e,t,w,C,s,z)}}_r(e,f,g,S,_,M,u,r);return;case"select":C=f=g=w=null;for(u in n)if(S=n[u],n.hasOwnProperty(u)&&S!=null)switch(u){case"value":break;case"multiple":C=S;default:s.hasOwnProperty(u)||Ne(e,t,u,null,s,S)}for(r in s)if(u=s[r],S=n[r],s.hasOwnProperty(r)&&(u!=null||S!=null))switch(r){case"value":w=u;break;case"defaultValue":g=u;break;case"multiple":f=u;default:u!==S&&Ne(e,t,r,u,s,S)}t=g,n=f,s=C,w!=null?wa(e,!!n,w,!1):!!s!=!!n&&(t!=null?wa(e,!!n,t,!0):wa(e,!!n,n?[]:"",!1));return;case"textarea":C=w=null;for(g in n)if(r=n[g],n.hasOwnProperty(g)&&r!=null&&!s.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:Ne(e,t,g,null,s,r)}for(f in s)if(r=s[f],u=n[f],s.hasOwnProperty(f)&&(r!=null||u!=null))switch(f){case"value":w=r;break;case"defaultValue":C=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(c(91));break;default:r!==u&&Ne(e,t,f,r,s,u)}Ad(e,w,C);return;case"option":for(var K in n)if(w=n[K],n.hasOwnProperty(K)&&w!=null&&!s.hasOwnProperty(K))switch(K){case"selected":e.selected=!1;break;default:Ne(e,t,K,null,s,w)}for(S in s)if(w=s[S],C=n[S],s.hasOwnProperty(S)&&w!==C&&(w!=null||C!=null))switch(S){case"selected":e.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:Ne(e,t,S,w,s,C)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var te in n)w=n[te],n.hasOwnProperty(te)&&w!=null&&!s.hasOwnProperty(te)&&Ne(e,t,te,null,s,w);for(_ in s)if(w=s[_],C=n[_],s.hasOwnProperty(_)&&w!==C&&(w!=null||C!=null))switch(_){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(c(137,t));break;default:Ne(e,t,_,w,s,C)}return;default:if(Cr(t)){for(var Ae in n)w=n[Ae],n.hasOwnProperty(Ae)&&w!==void 0&&!s.hasOwnProperty(Ae)&&yc(e,t,Ae,void 0,s,w);for(M in s)w=s[M],C=n[M],!s.hasOwnProperty(M)||w===C||w===void 0&&C===void 0||yc(e,t,M,w,s,C);return}}for(var A in n)w=n[A],n.hasOwnProperty(A)&&w!=null&&!s.hasOwnProperty(A)&&Ne(e,t,A,null,s,w);for(z in s)w=s[z],C=n[z],!s.hasOwnProperty(z)||w===C||w==null&&C==null||Ne(e,t,z,w,s,C)}function Dm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ab(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var r=n[s],u=r.transferSize,f=r.initiatorType,g=r.duration;if(u&&g&&Dm(f)){for(f=0,g=r.responseEnd,s+=1;s<n.length;s++){var S=n[s],_=S.startTime;if(_>g)break;var M=S.transferSize,z=S.initiatorType;M&&Dm(z)&&(S=S.responseEnd,f+=M*(S<g?1:(g-_)/(S-_)))}if(--s,t+=8*(u+f)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var gc=null,xc=null;function Rl(e){return e.nodeType===9?e:e.ownerDocument}function Mm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function bc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var vc=null;function Eb(){var e=window.event;return e&&e.type==="popstate"?e===vc?!1:(vc=e,!0):(vc=null,!1)}var Om=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,km=typeof Promise=="function"?Promise:void 0,wb=typeof queueMicrotask=="function"?queueMicrotask:typeof km<"u"?function(e){return km.resolve(null).then(e).catch(Cb)}:Om;function Cb(e){setTimeout(function(){throw e})}function Hn(e){return e==="head"}function zm(e,t){var n=t,s=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"||n==="/&"){if(s===0){e.removeChild(r),ls(t);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")si(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,si(n);for(var u=n.firstChild;u;){var f=u.nextSibling,g=u.nodeName;u[js]||g==="SCRIPT"||g==="STYLE"||g==="LINK"&&u.rel.toLowerCase()==="stylesheet"||n.removeChild(u),u=f}}else n==="body"&&si(e.ownerDocument.body);n=r}while(n);ls(t)}function Um(e,t){var n=e;e=0;do{var s=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=s}while(n)}function Sc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Sc(n),Ar(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function Db(e,t,n,s){for(;e.nodeType===1;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[js])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Vt(e.nextSibling),e===null)break}return null}function Mb(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vt(e.nextSibling),e===null))return null;return e}function Bm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Vt(e.nextSibling),e===null))return null;return e}function jc(e){return e.data==="$?"||e.data==="$~"}function Tc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Rb(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Nc=null;function Vm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Vt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function Lm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function Pm(e,t,n){switch(t=Rl(n),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function si(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ar(e)}var Lt=new Map,Hm=new Set;function Ol(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vn=V.d;V.d={f:Ob,r:kb,D:zb,C:Ub,L:Bb,m:Vb,X:Pb,S:Lb,M:Hb};function Ob(){var e=vn.f(),t=Nl();return e||t}function kb(e){var t=Aa(e);t!==null&&t.tag===5&&t.type==="form"?sh(t):vn.r(e)}var as=typeof document>"u"?null:document;function qm(e,t,n){var s=as;if(s&&typeof t=="string"&&t){var r=Mt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof n=="string"&&(r+='[crossorigin="'+n+'"]'),Hm.has(r)||(Hm.add(r),e={rel:e,crossOrigin:n,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),at(t,"link",e),Ze(t),s.head.appendChild(t)))}}function zb(e){vn.D(e),qm("dns-prefetch",e,null)}function Ub(e,t){vn.C(e,t),qm("preconnect",e,t)}function Bb(e,t,n){vn.L(e,t,n);var s=as;if(s&&e&&t){var r='link[rel="preload"][as="'+Mt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(r+='[imagesrcset="'+Mt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(r+='[imagesizes="'+Mt(n.imageSizes)+'"]')):r+='[href="'+Mt(e)+'"]';var u=r;switch(t){case"style":u=ss(e);break;case"script":u=is(e)}Lt.has(u)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Lt.set(u,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(ii(u))||t==="script"&&s.querySelector(li(u))||(t=s.createElement("link"),at(t,"link",e),Ze(t),s.head.appendChild(t)))}}function Vb(e,t){vn.m(e,t);var n=as;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Mt(s)+'"][href="'+Mt(e)+'"]',u=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=is(e)}if(!Lt.has(u)&&(e=v({rel:"modulepreload",href:e},t),Lt.set(u,e),n.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(li(u)))return}s=n.createElement("link"),at(s,"link",e),Ze(s),n.head.appendChild(s)}}}function Lb(e,t,n){vn.S(e,t,n);var s=as;if(s&&e){var r=Ea(s).hoistableStyles,u=ss(e);t=t||"default";var f=r.get(u);if(!f){var g={loading:0,preload:null};if(f=s.querySelector(ii(u)))g.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Lt.get(u))&&Ac(e,n);var S=f=s.createElement("link");Ze(S),at(S,"link",e),S._p=new Promise(function(_,M){S.onload=_,S.onerror=M}),S.addEventListener("load",function(){g.loading|=1}),S.addEventListener("error",function(){g.loading|=2}),g.loading|=4,kl(f,t,s)}f={type:"stylesheet",instance:f,count:1,state:g},r.set(u,f)}}}function Pb(e,t){vn.X(e,t);var n=as;if(n&&e){var s=Ea(n).hoistableScripts,r=is(e),u=s.get(r);u||(u=n.querySelector(li(r)),u||(e=v({src:e,async:!0},t),(t=Lt.get(r))&&Ec(e,t),u=n.createElement("script"),Ze(u),at(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(r,u))}}function Hb(e,t){vn.M(e,t);var n=as;if(n&&e){var s=Ea(n).hoistableScripts,r=is(e),u=s.get(r);u||(u=n.querySelector(li(r)),u||(e=v({src:e,async:!0,type:"module"},t),(t=Lt.get(r))&&Ec(e,t),u=n.createElement("script"),Ze(u),at(u,"link",e),n.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(r,u))}}function Gm(e,t,n,s){var r=(r=oe.current)?Ol(r):null;if(!r)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ss(n.href),n=Ea(r).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ss(n.href);var u=Ea(r).hoistableStyles,f=u.get(e);if(f||(r=r.ownerDocument||r,f={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,f),(u=r.querySelector(ii(e)))&&!u._p&&(f.instance=u,f.state.loading=5),Lt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Lt.set(e,n),u||qb(r,e,n,f.state))),t&&s===null)throw Error(c(528,""));return f}if(t&&s!==null)throw Error(c(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=is(n),n=Ea(r).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function ss(e){return'href="'+Mt(e)+'"'}function ii(e){return'link[rel="stylesheet"]['+e+"]"}function Km(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function qb(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),at(t,"link",n),Ze(t),e.head.appendChild(t))}function is(e){return'[src="'+Mt(e)+'"]'}function li(e){return"script[async]"+e}function Ym(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Mt(n.href)+'"]');if(s)return t.instance=s,Ze(s),s;var r=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ze(s),at(s,"style",r),kl(s,n.precedence,e),t.instance=s;case"stylesheet":r=ss(n.href);var u=e.querySelector(ii(r));if(u)return t.state.loading|=4,t.instance=u,Ze(u),u;s=Km(n),(r=Lt.get(r))&&Ac(s,r),u=(e.ownerDocument||e).createElement("link"),Ze(u);var f=u;return f._p=new Promise(function(g,S){f.onload=g,f.onerror=S}),at(u,"link",s),t.state.loading|=4,kl(u,n.precedence,e),t.instance=u;case"script":return u=is(n.src),(r=e.querySelector(li(u)))?(t.instance=r,Ze(r),r):(s=n,(r=Lt.get(u))&&(s=v({},n),Ec(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),Ze(r),at(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,kl(s,n.precedence,e));return t.instance}function kl(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,u=r,f=0;f<s.length;f++){var g=s[f];if(g.dataset.precedence===t)u=g;else if(u!==r)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ac(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ec(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var zl=null;function Im(e,t,n){if(zl===null){var s=new Map,r=zl=new Map;r.set(n,s)}else r=zl,s=r.get(n),s||(s=new Map,r.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var u=n[r];if(!(u[js]||u[$e]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var f=u.getAttribute(t)||"";f=e+f;var g=s.get(f);g?g.push(u):s.set(f,[u])}}return s}function Xm(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function Gb(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Qm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Kb(e,t,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var r=ss(s.href),u=t.querySelector(ii(r));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ul.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=u,Ze(u);return}u=t.ownerDocument||t,s=Km(s),(r=Lt.get(r))&&Ac(s,r),u=u.createElement("link"),Ze(u);var f=u;f._p=new Promise(function(g,S){f.onload=g,f.onerror=S}),at(u,"link",s),n.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=Ul.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var _c=0;function Yb(e,t){return e.stylesheets&&e.count===0&&Vl(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var s=setTimeout(function(){if(e.stylesheets&&Vl(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&_c===0&&(_c=62500*Ab());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Vl(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>_c?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(r)}}:null}function Ul(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Bl=null;function Vl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Bl=new Map,t.forEach(Ib,e),Bl=null,Ul.call(e))}function Ib(e,t){if(!(t.state.loading&4)){var n=Bl.get(e);if(n)var s=n.get(null);else{n=new Map,Bl.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<r.length;u++){var f=r[u];(f.nodeName==="LINK"||f.getAttribute("media")!=="not all")&&(n.set(f.dataset.precedence,f),s=f)}s&&n.set(null,s)}r=t.instance,f=r.getAttribute("data-precedence"),u=n.get(f)||s,u===s&&n.set(null,r),n.set(f,r),this.count++,s=Ul.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),u?u.parentNode.insertBefore(r,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var ri={$$typeof:P,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function Xb(e,t,n,s,r,u,f,g,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Sr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sr(0),this.hiddenUpdates=Sr(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=u,this.onRecoverableError=f,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Zm(e,t,n,s,r,u,f,g,S,_,M,z){return e=new Xb(e,t,n,f,S,_,M,z,g),t=1,u===!0&&(t|=24),u=Tt(3,null,null,t),e.current=u,u.stateNode=e,t=io(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:n,cache:t},co(u),e}function Fm(e){return e?(e=Ua,e):Ua}function Wm(e,t,n,s,r,u){r=Fm(r),s.context===null?s.context=r:s.pendingContext=r,s=Dn(t),s.payload={element:n},u=u===void 0?null:u,u!==null&&(s.callback=u),n=Mn(e,s,t),n!==null&&(xt(n,e,t),Ls(n,e,t))}function Jm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wc(e,t){Jm(e,t),(e=e.alternate)&&Jm(e,t)}function $m(e){if(e.tag===13||e.tag===31){var t=ia(e,67108864);t!==null&&xt(t,e,67108864),wc(e,67108864)}}function ep(e){if(e.tag===13||e.tag===31){var t=wt();t=jr(t);var n=ia(e,t);n!==null&&xt(n,e,t),wc(e,t)}}var Ll=!0;function Qb(e,t,n,s){var r=R.T;R.T=null;var u=V.p;try{V.p=2,Cc(e,t,n,s)}finally{V.p=u,R.T=r}}function Zb(e,t,n,s){var r=R.T;R.T=null;var u=V.p;try{V.p=8,Cc(e,t,n,s)}finally{V.p=u,R.T=r}}function Cc(e,t,n,s){if(Ll){var r=Dc(s);if(r===null)pc(e,t,s,Pl,n),np(e,s);else if(Wb(r,e,t,n,s))s.stopPropagation();else if(np(e,s),t&4&&-1<Fb.indexOf(e)){for(;r!==null;){var u=Aa(r);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var f=ea(u.pendingLanes);if(f!==0){var g=u;for(g.pendingLanes|=2,g.entangledLanes|=2;f;){var S=1<<31-St(f);g.entanglements[1]|=S,f&=~S}Wt(u),(be&6)===0&&(jl=bt()+500,ti(0))}}break;case 31:case 13:g=ia(u,2),g!==null&&xt(g,u,2),Nl(),wc(u,2)}if(u=Dc(s),u===null&&pc(e,t,s,Pl,n),u===r)break;r=u}r!==null&&s.stopPropagation()}else pc(e,t,s,null,n)}}function Dc(e){return e=Mr(e),Mc(e)}var Pl=null;function Mc(e){if(Pl=null,e=Na(e),e!==null){var t=m(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=h(t),e!==null)return e;e=null}else if(n===31){if(e=p(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Pl=e,null}function tp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zg()){case od:return 2;case cd:return 8;case Ci:case Ug:return 32;case ud:return 268435456;default:return 32}default:return 32}}var Rc=!1,qn=null,Gn=null,Kn=null,oi=new Map,ci=new Map,Yn=[],Fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function np(e,t){switch(e){case"focusin":case"focusout":qn=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Kn=null;break;case"pointerover":case"pointerout":oi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ci.delete(t.pointerId)}}function ui(e,t,n,s,r,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:u,targetContainers:[r]},t!==null&&(t=Aa(t),t!==null&&$m(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function Wb(e,t,n,s,r){switch(t){case"focusin":return qn=ui(qn,e,t,n,s,r),!0;case"dragenter":return Gn=ui(Gn,e,t,n,s,r),!0;case"mouseover":return Kn=ui(Kn,e,t,n,s,r),!0;case"pointerover":var u=r.pointerId;return oi.set(u,ui(oi.get(u)||null,e,t,n,s,r)),!0;case"gotpointercapture":return u=r.pointerId,ci.set(u,ui(ci.get(u)||null,e,t,n,s,r)),!0}return!1}function ap(e){var t=Na(e.target);if(t!==null){var n=m(t);if(n!==null){if(t=n.tag,t===13){if(t=h(n),t!==null){e.blockedOn=t,yd(e.priority,function(){ep(n)});return}}else if(t===31){if(t=p(n),t!==null){e.blockedOn=t,yd(e.priority,function(){ep(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dc(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Dr=s,n.target.dispatchEvent(s),Dr=null}else return t=Aa(n),t!==null&&$m(t),e.blockedOn=n,!1;t.shift()}return!0}function sp(e,t,n){Hl(e)&&n.delete(t)}function Jb(){Rc=!1,qn!==null&&Hl(qn)&&(qn=null),Gn!==null&&Hl(Gn)&&(Gn=null),Kn!==null&&Hl(Kn)&&(Kn=null),oi.forEach(sp),ci.forEach(sp)}function ql(e,t){e.blockedOn===t&&(e.blockedOn=null,Rc||(Rc=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Jb)))}var Gl=null;function ip(e){Gl!==e&&(Gl=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Gl===e&&(Gl=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if(Mc(s||n)===null)continue;break}var u=Aa(n);u!==null&&(e.splice(t,3),t-=3,Do(u,{pending:!0,data:r,method:n.method,action:s},s,r))}}))}function ls(e){function t(S){return ql(S,e)}qn!==null&&ql(qn,e),Gn!==null&&ql(Gn,e),Kn!==null&&ql(Kn,e),oi.forEach(t),ci.forEach(t);for(var n=0;n<Yn.length;n++){var s=Yn[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Yn.length&&(n=Yn[0],n.blockedOn===null);)ap(n),n.blockedOn===null&&Yn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var r=n[s],u=n[s+1],f=r[ft]||null;if(typeof u=="function")f||ip(n);else if(f){var g=null;if(u&&u.hasAttribute("formAction")){if(r=u,f=u[ft]||null)g=f.formAction;else if(Mc(r)!==null)continue}else g=f.action;typeof g=="function"?n[s+1]=g:(n.splice(s,3),s-=3),ip(n)}}}function lp(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(f){return r=f})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function Oc(e){this._internalRoot=e}Kl.prototype.render=Oc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var n=t.current,s=wt();Wm(n,s,e,t,null,null)},Kl.prototype.unmount=Oc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wm(e.current,2,null,e,null,null),Nl(),t[Ta]=null}};function Kl(e){this._internalRoot=e}Kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=pd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yn.length&&t!==0&&t<Yn[n].priority;n++);Yn.splice(n,0,e),n===0&&ap(e)}};var rp=i.version;if(rp!=="19.2.4")throw Error(c(527,rp,"19.2.4"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=y(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var $b={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{bs=Yl.inject($b),vt=Yl}catch{}}return fi.createRoot=function(e,t){if(!d(e))throw Error(c(299));var n=!1,s="",r=mh,u=ph,f=yh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(f=t.onRecoverableError)),t=Zm(e,1,!1,null,null,n,s,null,r,u,f,lp),e[Ta]=t.current,mc(e),new Oc(t)},fi.hydrateRoot=function(e,t,n){if(!d(e))throw Error(c(299));var s=!1,r="",u=mh,f=ph,g=yh,S=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(r=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError),n.formState!==void 0&&(S=n.formState)),t=Zm(e,1,!0,t,n??null,s,r,S,u,f,g,lp),t.context=Fm(null),n=t.current,s=wt(),s=jr(s),r=Dn(s),r.callback=null,Mn(n,r,s),n=s,t.current.lanes=n,Ss(t,n),Wt(t),e[Ta]=t.current,mc(e),new Kl(t)},fi.version="19.2.4",fi}var gp;function uv(){if(gp)return Uc.exports;gp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(i){console.error(i)}}return a(),Uc.exports=cv(),Uc.exports}var dv=uv();const fv=Hy(dv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qy=(...a)=>a.filter((i,o,c)=>!!i&&i.trim()!==""&&c.indexOf(i)===o).join(" ").trim();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(i,o,c)=>c?c.toUpperCase():o.toLowerCase());/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=a=>{const i=mv(a);return i.charAt(0).toUpperCase()+i.slice(1)};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=a=>{for(const i in a)if(i.startsWith("aria-")||i==="role"||i==="title")return!0;return!1};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=F.forwardRef(({color:a="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:d="",children:m,iconNode:h,...p},x)=>F.createElement("svg",{ref:x,...pv,width:i,height:i,stroke:a,strokeWidth:c?Number(o)*24/Number(i):o,className:qy("lucide",d),...!m&&!yv(p)&&{"aria-hidden":"true"},...p},[...h.map(([y,b])=>F.createElement(y,b)),...Array.isArray(m)?m:[m]]));/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=(a,i)=>{const o=F.forwardRef(({className:c,...d},m)=>F.createElement(gv,{ref:m,iconNode:i,className:qy(`lucide-${hv(xp(a))}`,`lucide-${a}`,c),...d}));return o.displayName=xp(a),o};/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],bv=re("arrow-right",xv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Sv=re("book-open",vv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Gy=re("calendar",jv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Nv=re("check",Tv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ev=re("chevron-right",Av);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],wv=re("circle-alert",_v);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Dv=re("circle-check",Cv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Rv=re("circle-user",Mv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kv=re("clock",Ov);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],Uv=re("code-xml",zv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Vv=re("copy",Bv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],su=re("credit-card",Lv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],tr=re("database",Pv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],qv=re("external-link",Hv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],Kv=re("file-braces",Gv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],Pc=re("file-code",Yv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Xv=re("funnel",Iv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["line",{x1:"6",x2:"6",y1:"9",y2:"21",key:"rroup"}]],Zv=re("git-pull-request",Qv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],nr=re("globe",Fv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],bp=re("info",Wv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Ky=re("key",Jv);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],e1=re("layers",$v);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],n1=re("layout-dashboard",t1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],s1=re("list-todo",a1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wu=re("lock",i1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],r1=re("refresh-ccw",l1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],vp=re("scissors",o1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],u1=re("search",c1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],ar=re("server",d1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],h1=re("settings",f1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],p1=re("shield-alert",m1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Cu=re("shield-check",y1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],x1=re("shield",g1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],v1=re("smartphone",b1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],j1=re("square-check-big",S1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],N1=re("terminal",T1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]],E1=re("test-tube-diagonal",A1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],w1=re("triangle-alert",_1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],D1=re("user",C1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],R1=re("users",M1);/**
 * @license lucide-react v0.564.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],k1=re("wrench",O1);function Yy(a){var i,o,c="";if(typeof a=="string"||typeof a=="number")c+=a;else if(typeof a=="object")if(Array.isArray(a)){var d=a.length;for(i=0;i<d;i++)a[i]&&(o=Yy(a[i]))&&(c&&(c+=" "),c+=o)}else for(o in a)a[o]&&(c&&(c+=" "),c+=o);return c}function Iy(){for(var a,i,o=0,c="",d=arguments.length;o<d;o++)(a=arguments[o])&&(i=Yy(a))&&(c&&(c+=" "),c+=i);return c}const z1=[{id:"executive-summary",label:"Executive Summary",icon:l.jsx(n1,{size:18})},{id:"data-flow",label:"Data Flow Diagram",icon:l.jsx(Zv,{size:18})},{id:"credentials",label:"API Info & Credentials",icon:l.jsx(Ky,{size:18})},{id:"domain-analysis",label:"Domain Analysis",icon:l.jsx(Sv,{size:18})},{id:"b2b-integration",label:"B2B Integration (Merchant)",icon:l.jsx(h1,{size:18})},{id:"b2c-integration",label:"B2C Integration (Client)",icon:l.jsx(Rv,{size:18})},{id:"tech-architecture",label:"Tech Architecture (Backend)",icon:l.jsx(ar,{size:18})},{id:"database-schema",label:"Database Schema",icon:l.jsx(tr,{size:18})},{id:"code-specs",label:"Code Specifications",icon:l.jsx(Kv,{size:18})},{id:"security-review",label:"Security & Edge Cases",icon:l.jsx(p1,{size:18})},{id:"api-design",label:"API Design",icon:l.jsx(Uv,{size:18})},{id:"test-strategy",label:"Test Strategy",icon:l.jsx(E1,{size:18})},{id:"implementation",label:"Implementation Plan",icon:l.jsx(j1,{size:18})}],U1=({activeSection:a,onNavigate:i})=>l.jsxs("aside",{className:"fixed left-0 top-0 h-full w-64 bg-slate-900 text-white shadow-xl z-50 flex flex-col",children:[l.jsxs("div",{className:"p-6 border-b border-slate-700",children:[l.jsx("h1",{className:"text-xl font-bold tracking-tight text-white",children:"bookit Specs"}),l.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Multi-Provider Payment (v2)"})]}),l.jsx("nav",{className:"flex-1 overflow-y-auto py-4",children:l.jsx("ul",{className:"space-y-1 px-3",children:z1.map(o=>l.jsx("li",{children:l.jsxs("button",{onClick:()=>i(o.id),className:Iy("flex w-full items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors text-left",a===o.id?"bg-primary-600 text-white shadow-md":"text-slate-400 hover:bg-slate-800 hover:text-white"),children:[o.icon,l.jsx("span",{className:"truncate",children:o.label})]})},o.id))})}),l.jsx("div",{className:"p-4 border-t border-slate-700 bg-slate-950",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-500 flex items-center justify-center text-xs font-bold",children:"BK"}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-xs font-medium text-white",children:"bookit Platform"}),l.jsx("span",{className:"text-[10px] text-slate-400",children:"Restricted Internal"})]})]})})]}),Xy=F.createContext({});function B1(a){const i=F.useRef(null);return i.current===null&&(i.current=a()),i.current}const Qy=typeof window<"u",V1=Qy?F.useLayoutEffect:F.useEffect,Du=F.createContext(null);function Mu(a,i){a.indexOf(i)===-1&&a.push(i)}function sr(a,i){const o=a.indexOf(i);o>-1&&a.splice(o,1)}const en=(a,i,o)=>o>i?i:o<a?a:o;let Ru=()=>{};const Sn={},Zy=a=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(a);function Fy(a){return typeof a=="object"&&a!==null}const Wy=a=>/^0[^.\s]+$/u.test(a);function Ou(a){let i;return()=>(i===void 0&&(i=a()),i)}const Ht=a=>a,L1=(a,i)=>o=>i(a(o)),Ni=(...a)=>a.reduce(L1),bi=(a,i,o)=>{const c=i-a;return c===0?1:(o-a)/c};class ku{constructor(){this.subscriptions=[]}add(i){return Mu(this.subscriptions,i),()=>sr(this.subscriptions,i)}notify(i,o,c){const d=this.subscriptions.length;if(d)if(d===1)this.subscriptions[0](i,o,c);else for(let m=0;m<d;m++){const h=this.subscriptions[m];h&&h(i,o,c)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Xt=a=>a*1e3,Pt=a=>a/1e3;function Jy(a,i){return i?a*(1e3/i):0}const $y=(a,i,o)=>(((1-3*o+3*i)*a+(3*o-6*i))*a+3*i)*a,P1=1e-7,H1=12;function q1(a,i,o,c,d){let m,h,p=0;do h=i+(o-i)/2,m=$y(h,c,d)-a,m>0?o=h:i=h;while(Math.abs(m)>P1&&++p<H1);return h}function Ai(a,i,o,c){if(a===i&&o===c)return Ht;const d=m=>q1(m,0,1,a,o);return m=>m===0||m===1?m:$y(d(m),i,c)}const e0=a=>i=>i<=.5?a(2*i)/2:(2-a(2*(1-i)))/2,t0=a=>i=>1-a(1-i),n0=Ai(.33,1.53,.69,.99),zu=t0(n0),a0=e0(zu),s0=a=>(a*=2)<1?.5*zu(a):.5*(2-Math.pow(2,-10*(a-1))),Uu=a=>1-Math.sin(Math.acos(a)),i0=t0(Uu),l0=e0(Uu),G1=Ai(.42,0,1,1),K1=Ai(0,0,.58,1),r0=Ai(.42,0,.58,1),Y1=a=>Array.isArray(a)&&typeof a[0]!="number",o0=a=>Array.isArray(a)&&typeof a[0]=="number",I1={linear:Ht,easeIn:G1,easeInOut:r0,easeOut:K1,circIn:Uu,circInOut:l0,circOut:i0,backIn:zu,backInOut:a0,backOut:n0,anticipate:s0},X1=a=>typeof a=="string",Sp=a=>{if(o0(a)){Ru(a.length===4);const[i,o,c,d]=a;return Ai(i,o,c,d)}else if(X1(a))return I1[a];return a},Il=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Q1(a,i){let o=new Set,c=new Set,d=!1,m=!1;const h=new WeakSet;let p={delta:0,timestamp:0,isProcessing:!1};function x(b){h.has(b)&&(y.schedule(b),a()),b(p)}const y={schedule:(b,v=!1,j=!1)=>{const k=j&&d?o:c;return v&&h.add(b),k.has(b)||k.add(b),b},cancel:b=>{c.delete(b),h.delete(b)},process:b=>{if(p=b,d){m=!0;return}d=!0,[o,c]=[c,o],o.forEach(x),o.clear(),d=!1,m&&(m=!1,y.process(b))}};return y}const Z1=40;function c0(a,i){let o=!1,c=!0;const d={delta:0,timestamp:0,isProcessing:!1},m=()=>o=!0,h=Il.reduce((P,$)=>(P[$]=Q1(m),P),{}),{setup:p,read:x,resolveKeyframes:y,preUpdate:b,update:v,preRender:j,render:D,postRender:k}=h,L=()=>{const P=Sn.useManualTiming?d.timestamp:performance.now();o=!1,Sn.useManualTiming||(d.delta=c?1e3/60:Math.max(Math.min(P-d.timestamp,Z1),1)),d.timestamp=P,d.isProcessing=!0,p.process(d),x.process(d),y.process(d),b.process(d),v.process(d),j.process(d),D.process(d),k.process(d),d.isProcessing=!1,o&&i&&(c=!1,a(L))},H=()=>{o=!0,c=!0,d.isProcessing||a(L)};return{schedule:Il.reduce((P,$)=>{const Y=h[$];return P[$]=(ie,W=!1,ee=!1)=>(o||H(),Y.schedule(ie,W,ee)),P},{}),cancel:P=>{for(let $=0;$<Il.length;$++)h[Il[$]].cancel(P)},state:d,steps:h}}const{schedule:_e,cancel:Fn,state:st,steps:Hc}=c0(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ht,!0);let Zl;function F1(){Zl=void 0}const ct={now:()=>(Zl===void 0&&ct.set(st.isProcessing||Sn.useManualTiming?st.timestamp:performance.now()),Zl),set:a=>{Zl=a,queueMicrotask(F1)}},u0=a=>i=>typeof i=="string"&&i.startsWith(a),d0=u0("--"),W1=u0("var(--"),Bu=a=>W1(a)?J1.test(a.split("/*")[0].trim()):!1,J1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function jp(a){return typeof a!="string"?!1:a.split("/*")[0].includes("var(--")}const ps={test:a=>typeof a=="number",parse:parseFloat,transform:a=>a},vi={...ps,transform:a=>en(0,1,a)},Xl={...ps,default:1},pi=a=>Math.round(a*1e5)/1e5,Vu=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $1(a){return a==null}const e2=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lu=(a,i)=>o=>!!(typeof o=="string"&&e2.test(o)&&o.startsWith(a)||i&&!$1(o)&&Object.prototype.hasOwnProperty.call(o,i)),f0=(a,i,o)=>c=>{if(typeof c!="string")return c;const[d,m,h,p]=c.match(Vu);return{[a]:parseFloat(d),[i]:parseFloat(m),[o]:parseFloat(h),alpha:p!==void 0?parseFloat(p):1}},t2=a=>en(0,255,a),qc={...ps,transform:a=>Math.round(t2(a))},va={test:Lu("rgb","red"),parse:f0("red","green","blue"),transform:({red:a,green:i,blue:o,alpha:c=1})=>"rgba("+qc.transform(a)+", "+qc.transform(i)+", "+qc.transform(o)+", "+pi(vi.transform(c))+")"};function n2(a){let i="",o="",c="",d="";return a.length>5?(i=a.substring(1,3),o=a.substring(3,5),c=a.substring(5,7),d=a.substring(7,9)):(i=a.substring(1,2),o=a.substring(2,3),c=a.substring(3,4),d=a.substring(4,5),i+=i,o+=o,c+=c,d+=d),{red:parseInt(i,16),green:parseInt(o,16),blue:parseInt(c,16),alpha:d?parseInt(d,16)/255:1}}const iu={test:Lu("#"),parse:n2,transform:va.transform},Ei=a=>({test:i=>typeof i=="string"&&i.endsWith(a)&&i.split(" ").length===1,parse:parseFloat,transform:i=>`${i}${a}`}),Xn=Ei("deg"),$t=Ei("%"),I=Ei("px"),a2=Ei("vh"),s2=Ei("vw"),Tp={...$t,parse:a=>$t.parse(a)/100,transform:a=>$t.transform(a*100)},os={test:Lu("hsl","hue"),parse:f0("hue","saturation","lightness"),transform:({hue:a,saturation:i,lightness:o,alpha:c=1})=>"hsla("+Math.round(a)+", "+$t.transform(pi(i))+", "+$t.transform(pi(o))+", "+pi(vi.transform(c))+")"},Ye={test:a=>va.test(a)||iu.test(a)||os.test(a),parse:a=>va.test(a)?va.parse(a):os.test(a)?os.parse(a):iu.parse(a),transform:a=>typeof a=="string"?a:a.hasOwnProperty("red")?va.transform(a):os.transform(a),getAnimatableNone:a=>{const i=Ye.parse(a);return i.alpha=0,Ye.transform(i)}},i2=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function l2(a){var i,o;return isNaN(a)&&typeof a=="string"&&(((i=a.match(Vu))==null?void 0:i.length)||0)+(((o=a.match(i2))==null?void 0:o.length)||0)>0}const h0="number",m0="color",r2="var",o2="var(",Np="${}",c2=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Si(a){const i=a.toString(),o=[],c={color:[],number:[],var:[]},d=[];let m=0;const p=i.replace(c2,x=>(Ye.test(x)?(c.color.push(m),d.push(m0),o.push(Ye.parse(x))):x.startsWith(o2)?(c.var.push(m),d.push(r2),o.push(x)):(c.number.push(m),d.push(h0),o.push(parseFloat(x))),++m,Np)).split(Np);return{values:o,split:p,indexes:c,types:d}}function p0(a){return Si(a).values}function y0(a){const{split:i,types:o}=Si(a),c=i.length;return d=>{let m="";for(let h=0;h<c;h++)if(m+=i[h],d[h]!==void 0){const p=o[h];p===h0?m+=pi(d[h]):p===m0?m+=Ye.transform(d[h]):m+=d[h]}return m}}const u2=a=>typeof a=="number"?0:Ye.test(a)?Ye.getAnimatableNone(a):a;function d2(a){const i=p0(a);return y0(a)(i.map(u2))}const Wn={test:l2,parse:p0,createTransformer:y0,getAnimatableNone:d2};function Gc(a,i,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?a+(i-a)*6*o:o<1/2?i:o<2/3?a+(i-a)*(2/3-o)*6:a}function f2({hue:a,saturation:i,lightness:o,alpha:c}){a/=360,i/=100,o/=100;let d=0,m=0,h=0;if(!i)d=m=h=o;else{const p=o<.5?o*(1+i):o+i-o*i,x=2*o-p;d=Gc(x,p,a+1/3),m=Gc(x,p,a),h=Gc(x,p,a-1/3)}return{red:Math.round(d*255),green:Math.round(m*255),blue:Math.round(h*255),alpha:c}}function ir(a,i){return o=>o>0?i:a}const ke=(a,i,o)=>a+(i-a)*o,Kc=(a,i,o)=>{const c=a*a,d=o*(i*i-c)+c;return d<0?0:Math.sqrt(d)},h2=[iu,va,os],m2=a=>h2.find(i=>i.test(a));function Ap(a){const i=m2(a);if(!i)return!1;let o=i.parse(a);return i===os&&(o=f2(o)),o}const Ep=(a,i)=>{const o=Ap(a),c=Ap(i);if(!o||!c)return ir(a,i);const d={...o};return m=>(d.red=Kc(o.red,c.red,m),d.green=Kc(o.green,c.green,m),d.blue=Kc(o.blue,c.blue,m),d.alpha=ke(o.alpha,c.alpha,m),va.transform(d))},lu=new Set(["none","hidden"]);function p2(a,i){return lu.has(a)?o=>o<=0?a:i:o=>o>=1?i:a}function y2(a,i){return o=>ke(a,i,o)}function Pu(a){return typeof a=="number"?y2:typeof a=="string"?Bu(a)?ir:Ye.test(a)?Ep:b2:Array.isArray(a)?g0:typeof a=="object"?Ye.test(a)?Ep:g2:ir}function g0(a,i){const o=[...a],c=o.length,d=a.map((m,h)=>Pu(m)(m,i[h]));return m=>{for(let h=0;h<c;h++)o[h]=d[h](m);return o}}function g2(a,i){const o={...a,...i},c={};for(const d in o)a[d]!==void 0&&i[d]!==void 0&&(c[d]=Pu(a[d])(a[d],i[d]));return d=>{for(const m in c)o[m]=c[m](d);return o}}function x2(a,i){const o=[],c={color:0,var:0,number:0};for(let d=0;d<i.values.length;d++){const m=i.types[d],h=a.indexes[m][c[m]],p=a.values[h]??0;o[d]=p,c[m]++}return o}const b2=(a,i)=>{const o=Wn.createTransformer(i),c=Si(a),d=Si(i);return c.indexes.var.length===d.indexes.var.length&&c.indexes.color.length===d.indexes.color.length&&c.indexes.number.length>=d.indexes.number.length?lu.has(a)&&!d.values.length||lu.has(i)&&!c.values.length?p2(a,i):Ni(g0(x2(c,d),d.values),o):ir(a,i)};function x0(a,i,o){return typeof a=="number"&&typeof i=="number"&&typeof o=="number"?ke(a,i,o):Pu(a)(a,i)}const v2=a=>{const i=({timestamp:o})=>a(o);return{start:(o=!0)=>_e.update(i,o),stop:()=>Fn(i),now:()=>st.isProcessing?st.timestamp:ct.now()}},b0=(a,i,o=10)=>{let c="";const d=Math.max(Math.round(i/o),2);for(let m=0;m<d;m++)c+=Math.round(a(m/(d-1))*1e4)/1e4+", ";return`linear(${c.substring(0,c.length-2)})`},lr=2e4;function Hu(a){let i=0;const o=50;let c=a.next(i);for(;!c.done&&i<lr;)i+=o,c=a.next(i);return i>=lr?1/0:i}function S2(a,i=100,o){const c=o({...a,keyframes:[0,i]}),d=Math.min(Hu(c),lr);return{type:"keyframes",ease:m=>c.next(d*m).value/i,duration:Pt(d)}}const j2=5;function v0(a,i,o){const c=Math.max(i-j2,0);return Jy(o-a(c),i-c)}const Be={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Yc=.001;function T2({duration:a=Be.duration,bounce:i=Be.bounce,velocity:o=Be.velocity,mass:c=Be.mass}){let d,m,h=1-i;h=en(Be.minDamping,Be.maxDamping,h),a=en(Be.minDuration,Be.maxDuration,Pt(a)),h<1?(d=y=>{const b=y*h,v=b*a,j=b-o,D=ru(y,h),k=Math.exp(-v);return Yc-j/D*k},m=y=>{const v=y*h*a,j=v*o+o,D=Math.pow(h,2)*Math.pow(y,2)*a,k=Math.exp(-v),L=ru(Math.pow(y,2),h);return(-d(y)+Yc>0?-1:1)*((j-D)*k)/L}):(d=y=>{const b=Math.exp(-y*a),v=(y-o)*a+1;return-Yc+b*v},m=y=>{const b=Math.exp(-y*a),v=(o-y)*(a*a);return b*v});const p=5/a,x=A2(d,m,p);if(a=Xt(a),isNaN(x))return{stiffness:Be.stiffness,damping:Be.damping,duration:a};{const y=Math.pow(x,2)*c;return{stiffness:y,damping:h*2*Math.sqrt(c*y),duration:a}}}const N2=12;function A2(a,i,o){let c=o;for(let d=1;d<N2;d++)c=c-a(c)/i(c);return c}function ru(a,i){return a*Math.sqrt(1-i*i)}const E2=["duration","bounce"],_2=["stiffness","damping","mass"];function _p(a,i){return i.some(o=>a[o]!==void 0)}function w2(a){let i={velocity:Be.velocity,stiffness:Be.stiffness,damping:Be.damping,mass:Be.mass,isResolvedFromDuration:!1,...a};if(!_p(a,_2)&&_p(a,E2))if(a.visualDuration){const o=a.visualDuration,c=2*Math.PI/(o*1.2),d=c*c,m=2*en(.05,1,1-(a.bounce||0))*Math.sqrt(d);i={...i,mass:Be.mass,stiffness:d,damping:m}}else{const o=T2(a);i={...i,...o,mass:Be.mass},i.isResolvedFromDuration=!0}return i}function rr(a=Be.visualDuration,i=Be.bounce){const o=typeof a!="object"?{visualDuration:a,keyframes:[0,1],bounce:i}:a;let{restSpeed:c,restDelta:d}=o;const m=o.keyframes[0],h=o.keyframes[o.keyframes.length-1],p={done:!1,value:m},{stiffness:x,damping:y,mass:b,duration:v,velocity:j,isResolvedFromDuration:D}=w2({...o,velocity:-Pt(o.velocity||0)}),k=j||0,L=y/(2*Math.sqrt(x*b)),H=h-m,B=Pt(Math.sqrt(x/b)),G=Math.abs(H)<5;c||(c=G?Be.restSpeed.granular:Be.restSpeed.default),d||(d=G?Be.restDelta.granular:Be.restDelta.default);let P;if(L<1){const Y=ru(B,L);P=ie=>{const W=Math.exp(-L*B*ie);return h-W*((k+L*B*H)/Y*Math.sin(Y*ie)+H*Math.cos(Y*ie))}}else if(L===1)P=Y=>h-Math.exp(-B*Y)*(H+(k+B*H)*Y);else{const Y=B*Math.sqrt(L*L-1);P=ie=>{const W=Math.exp(-L*B*ie),ee=Math.min(Y*ie,300);return h-W*((k+L*B*H)*Math.sinh(ee)+Y*H*Math.cosh(ee))/Y}}const $={calculatedDuration:D&&v||null,next:Y=>{const ie=P(Y);if(D)p.done=Y>=v;else{let W=Y===0?k:0;L<1&&(W=Y===0?Xt(k):v0(P,Y,ie));const ee=Math.abs(W)<=c,we=Math.abs(h-ie)<=d;p.done=ee&&we}return p.value=p.done?h:ie,p},toString:()=>{const Y=Math.min(Hu($),lr),ie=b0(W=>$.next(Y*W).value,Y,30);return Y+"ms "+ie},toTransition:()=>{}};return $}rr.applyToOptions=a=>{const i=S2(a,100,rr);return a.ease=i.ease,a.duration=Xt(i.duration),a.type="keyframes",a};function ou({keyframes:a,velocity:i=0,power:o=.8,timeConstant:c=325,bounceDamping:d=10,bounceStiffness:m=500,modifyTarget:h,min:p,max:x,restDelta:y=.5,restSpeed:b}){const v=a[0],j={done:!1,value:v},D=ee=>p!==void 0&&ee<p||x!==void 0&&ee>x,k=ee=>p===void 0?x:x===void 0||Math.abs(p-ee)<Math.abs(x-ee)?p:x;let L=o*i;const H=v+L,B=h===void 0?H:h(H);B!==H&&(L=B-v);const G=ee=>-L*Math.exp(-ee/c),P=ee=>B+G(ee),$=ee=>{const we=G(ee),Ie=P(ee);j.done=Math.abs(we)<=y,j.value=j.done?B:Ie};let Y,ie;const W=ee=>{D(j.value)&&(Y=ee,ie=rr({keyframes:[j.value,k(j.value)],velocity:v0(P,ee,j.value),damping:d,stiffness:m,restDelta:y,restSpeed:b}))};return W(0),{calculatedDuration:null,next:ee=>{let we=!1;return!ie&&Y===void 0&&(we=!0,$(ee),W(ee)),Y!==void 0&&ee>=Y?ie.next(ee-Y):(!we&&$(ee),j)}}}function C2(a,i,o){const c=[],d=o||Sn.mix||x0,m=a.length-1;for(let h=0;h<m;h++){let p=d(a[h],a[h+1]);if(i){const x=Array.isArray(i)?i[h]||Ht:i;p=Ni(x,p)}c.push(p)}return c}function D2(a,i,{clamp:o=!0,ease:c,mixer:d}={}){const m=a.length;if(Ru(m===i.length),m===1)return()=>i[0];if(m===2&&i[0]===i[1])return()=>i[1];const h=a[0]===a[1];a[0]>a[m-1]&&(a=[...a].reverse(),i=[...i].reverse());const p=C2(i,c,d),x=p.length,y=b=>{if(h&&b<a[0])return i[0];let v=0;if(x>1)for(;v<a.length-2&&!(b<a[v+1]);v++);const j=bi(a[v],a[v+1],b);return p[v](j)};return o?b=>y(en(a[0],a[m-1],b)):y}function M2(a,i){const o=a[a.length-1];for(let c=1;c<=i;c++){const d=bi(0,i,c);a.push(ke(o,1,d))}}function R2(a){const i=[0];return M2(i,a.length-1),i}function O2(a,i){return a.map(o=>o*i)}function k2(a,i){return a.map(()=>i||r0).splice(0,a.length-1)}function yi({duration:a=300,keyframes:i,times:o,ease:c="easeInOut"}){const d=Y1(c)?c.map(Sp):Sp(c),m={done:!1,value:i[0]},h=O2(o&&o.length===i.length?o:R2(i),a),p=D2(h,i,{ease:Array.isArray(d)?d:k2(i,d)});return{calculatedDuration:a,next:x=>(m.value=p(x),m.done=x>=a,m)}}const z2=a=>a!==null;function qu(a,{repeat:i,repeatType:o="loop"},c,d=1){const m=a.filter(z2),p=d<0||i&&o!=="loop"&&i%2===1?0:m.length-1;return!p||c===void 0?m[p]:c}const U2={decay:ou,inertia:ou,tween:yi,keyframes:yi,spring:rr};function S0(a){typeof a.type=="string"&&(a.type=U2[a.type])}class Gu{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(i=>{this.resolve=i})}notifyFinished(){this.resolve()}then(i,o){return this.finished.then(i,o)}}const B2=a=>a/100;class Ku extends Gu{constructor(i){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var c,d;const{motionValue:o}=this.options;o&&o.updatedAt!==ct.now()&&this.tick(ct.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(d=(c=this.options).onStop)==null||d.call(c))},this.options=i,this.initAnimation(),this.play(),i.autoplay===!1&&this.pause()}initAnimation(){const{options:i}=this;S0(i);const{type:o=yi,repeat:c=0,repeatDelay:d=0,repeatType:m,velocity:h=0}=i;let{keyframes:p}=i;const x=o||yi;x!==yi&&typeof p[0]!="number"&&(this.mixKeyframes=Ni(B2,x0(p[0],p[1])),p=[0,100]);const y=x({...i,keyframes:p});m==="mirror"&&(this.mirroredGenerator=x({...i,keyframes:[...p].reverse(),velocity:-h})),y.calculatedDuration===null&&(y.calculatedDuration=Hu(y));const{calculatedDuration:b}=y;this.calculatedDuration=b,this.resolvedDuration=b+d,this.totalDuration=this.resolvedDuration*(c+1)-d,this.generator=y}updateTime(i){const o=Math.round(i-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=o}tick(i,o=!1){const{generator:c,totalDuration:d,mixKeyframes:m,mirroredGenerator:h,resolvedDuration:p,calculatedDuration:x}=this;if(this.startTime===null)return c.next(0);const{delay:y=0,keyframes:b,repeat:v,repeatType:j,repeatDelay:D,type:k,onUpdate:L,finalKeyframe:H}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,i):this.speed<0&&(this.startTime=Math.min(i-d/this.speed,this.startTime)),o?this.currentTime=i:this.updateTime(i);const B=this.currentTime-y*(this.playbackSpeed>=0?1:-1),G=this.playbackSpeed>=0?B<0:B>d;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let P=this.currentTime,$=c;if(v){const ee=Math.min(this.currentTime,d)/p;let we=Math.floor(ee),Ie=ee%1;!Ie&&ee>=1&&(Ie=1),Ie===1&&we--,we=Math.min(we,v+1),!!(we%2)&&(j==="reverse"?(Ie=1-Ie,D&&(Ie-=D/p)):j==="mirror"&&($=h)),P=en(0,1,Ie)*p}const Y=G?{done:!1,value:b[0]}:$.next(P);m&&(Y.value=m(Y.value));let{done:ie}=Y;!G&&x!==null&&(ie=this.playbackSpeed>=0?this.currentTime>=d:this.currentTime<=0);const W=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ie);return W&&k!==ou&&(Y.value=qu(b,this.options,H,this.speed)),L&&L(Y.value),W&&this.finish(),Y}then(i,o){return this.finished.then(i,o)}get duration(){return Pt(this.calculatedDuration)}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+Pt(i)}get time(){return Pt(this.currentTime)}set time(i){var o;i=Xt(i),this.currentTime=i,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=i:this.driver&&(this.startTime=this.driver.now()-i/this.playbackSpeed),(o=this.driver)==null||o.start(!1)}get speed(){return this.playbackSpeed}set speed(i){this.updateTime(ct.now());const o=this.playbackSpeed!==i;this.playbackSpeed=i,o&&(this.time=Pt(this.currentTime))}play(){var d,m;if(this.isStopped)return;const{driver:i=v2,startTime:o}=this.options;this.driver||(this.driver=i(h=>this.tick(h))),(m=(d=this.options).onPlay)==null||m.call(d);const c=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=c):this.holdTime!==null?this.startTime=c-this.holdTime:this.startTime||(this.startTime=o??c),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ct.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var i,o;this.notifyFinished(),this.teardown(),this.state="finished",(o=(i=this.options).onComplete)==null||o.call(i)}cancel(){var i,o;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(o=(i=this.options).onCancel)==null||o.call(i)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(i){return this.startTime=0,this.tick(i,!0)}attachTimeline(i){var o;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(o=this.driver)==null||o.stop(),i.observe(this)}}function V2(a){for(let i=1;i<a.length;i++)a[i]??(a[i]=a[i-1])}const Sa=a=>a*180/Math.PI,cu=a=>{const i=Sa(Math.atan2(a[1],a[0]));return uu(i)},L2={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:a=>(Math.abs(a[0])+Math.abs(a[3]))/2,rotate:cu,rotateZ:cu,skewX:a=>Sa(Math.atan(a[1])),skewY:a=>Sa(Math.atan(a[2])),skew:a=>(Math.abs(a[1])+Math.abs(a[2]))/2},uu=a=>(a=a%360,a<0&&(a+=360),a),wp=cu,Cp=a=>Math.sqrt(a[0]*a[0]+a[1]*a[1]),Dp=a=>Math.sqrt(a[4]*a[4]+a[5]*a[5]),P2={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Cp,scaleY:Dp,scale:a=>(Cp(a)+Dp(a))/2,rotateX:a=>uu(Sa(Math.atan2(a[6],a[5]))),rotateY:a=>uu(Sa(Math.atan2(-a[2],a[0]))),rotateZ:wp,rotate:wp,skewX:a=>Sa(Math.atan(a[4])),skewY:a=>Sa(Math.atan(a[1])),skew:a=>(Math.abs(a[1])+Math.abs(a[4]))/2};function du(a){return a.includes("scale")?1:0}function fu(a,i){if(!a||a==="none")return du(i);const o=a.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let c,d;if(o)c=P2,d=o;else{const p=a.match(/^matrix\(([-\d.e\s,]+)\)$/u);c=L2,d=p}if(!d)return du(i);const m=c[i],h=d[1].split(",").map(q2);return typeof m=="function"?m(h):h[m]}const H2=(a,i)=>{const{transform:o="none"}=getComputedStyle(a);return fu(o,i)};function q2(a){return parseFloat(a.trim())}const ys=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gs=new Set(ys),Mp=a=>a===ps||a===I,G2=new Set(["x","y","z"]),K2=ys.filter(a=>!G2.has(a));function Y2(a){const i=[];return K2.forEach(o=>{const c=a.getValue(o);c!==void 0&&(i.push([o,c.get()]),c.set(o.startsWith("scale")?1:0))}),i}const Zn={width:({x:a},{paddingLeft:i="0",paddingRight:o="0"})=>a.max-a.min-parseFloat(i)-parseFloat(o),height:({y:a},{paddingTop:i="0",paddingBottom:o="0"})=>a.max-a.min-parseFloat(i)-parseFloat(o),top:(a,{top:i})=>parseFloat(i),left:(a,{left:i})=>parseFloat(i),bottom:({y:a},{top:i})=>parseFloat(i)+(a.max-a.min),right:({x:a},{left:i})=>parseFloat(i)+(a.max-a.min),x:(a,{transform:i})=>fu(i,"x"),y:(a,{transform:i})=>fu(i,"y")};Zn.translateX=Zn.x;Zn.translateY=Zn.y;const ja=new Set;let hu=!1,mu=!1,pu=!1;function j0(){if(mu){const a=Array.from(ja).filter(c=>c.needsMeasurement),i=new Set(a.map(c=>c.element)),o=new Map;i.forEach(c=>{const d=Y2(c);d.length&&(o.set(c,d),c.render())}),a.forEach(c=>c.measureInitialState()),i.forEach(c=>{c.render();const d=o.get(c);d&&d.forEach(([m,h])=>{var p;(p=c.getValue(m))==null||p.set(h)})}),a.forEach(c=>c.measureEndState()),a.forEach(c=>{c.suspendedScrollY!==void 0&&window.scrollTo(0,c.suspendedScrollY)})}mu=!1,hu=!1,ja.forEach(a=>a.complete(pu)),ja.clear()}function T0(){ja.forEach(a=>{a.readKeyframes(),a.needsMeasurement&&(mu=!0)})}function I2(){pu=!0,T0(),j0(),pu=!1}class Yu{constructor(i,o,c,d,m,h=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...i],this.onComplete=o,this.name=c,this.motionValue=d,this.element=m,this.isAsync=h}scheduleResolve(){this.state="scheduled",this.isAsync?(ja.add(this),hu||(hu=!0,_e.read(T0),_e.resolveKeyframes(j0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:i,name:o,element:c,motionValue:d}=this;if(i[0]===null){const m=d==null?void 0:d.get(),h=i[i.length-1];if(m!==void 0)i[0]=m;else if(c&&o){const p=c.readValue(o,h);p!=null&&(i[0]=p)}i[0]===void 0&&(i[0]=h),d&&m===void 0&&d.set(i[0])}V2(i)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(i=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,i),ja.delete(this)}cancel(){this.state==="scheduled"&&(ja.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const X2=a=>a.startsWith("--");function Q2(a,i,o){X2(i)?a.style.setProperty(i,o):a.style[i]=o}const Z2=Ou(()=>window.ScrollTimeline!==void 0),F2={};function W2(a,i){const o=Ou(a);return()=>F2[i]??o()}const N0=W2(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),mi=([a,i,o,c])=>`cubic-bezier(${a}, ${i}, ${o}, ${c})`,Rp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:mi([0,.65,.55,1]),circOut:mi([.55,0,1,.45]),backIn:mi([.31,.01,.66,-.59]),backOut:mi([.33,1.53,.69,.99])};function A0(a,i){if(a)return typeof a=="function"?N0()?b0(a,i):"ease-out":o0(a)?mi(a):Array.isArray(a)?a.map(o=>A0(o,i)||Rp.easeOut):Rp[a]}function J2(a,i,o,{delay:c=0,duration:d=300,repeat:m=0,repeatType:h="loop",ease:p="easeOut",times:x}={},y=void 0){const b={[i]:o};x&&(b.offset=x);const v=A0(p,d);Array.isArray(v)&&(b.easing=v);const j={delay:c,duration:d,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:m+1,direction:h==="reverse"?"alternate":"normal"};return y&&(j.pseudoElement=y),a.animate(b,j)}function E0(a){return typeof a=="function"&&"applyToOptions"in a}function $2({type:a,...i}){return E0(a)&&N0()?a.applyToOptions(i):(i.duration??(i.duration=300),i.ease??(i.ease="easeOut"),i)}class _0 extends Gu{constructor(i){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!i)return;const{element:o,name:c,keyframes:d,pseudoElement:m,allowFlatten:h=!1,finalKeyframe:p,onComplete:x}=i;this.isPseudoElement=!!m,this.allowFlatten=h,this.options=i,Ru(typeof i.type!="string");const y=$2(i);this.animation=J2(o,c,d,y,m),y.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!m){const b=qu(d,this.options,p,this.speed);this.updateMotionValue?this.updateMotionValue(b):Q2(o,c,b),this.animation.cancel()}x==null||x(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var i,o;(o=(i=this.animation).finish)==null||o.call(i)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:i}=this;i==="idle"||i==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var o,c,d;const i=(o=this.options)==null?void 0:o.element;!this.isPseudoElement&&(i!=null&&i.isConnected)&&((d=(c=this.animation).commitStyles)==null||d.call(c))}get duration(){var o,c;const i=((c=(o=this.animation.effect)==null?void 0:o.getComputedTiming)==null?void 0:c.call(o).duration)||0;return Pt(Number(i))}get iterationDuration(){const{delay:i=0}=this.options||{};return this.duration+Pt(i)}get time(){return Pt(Number(this.animation.currentTime)||0)}set time(i){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Xt(i)}get speed(){return this.animation.playbackRate}set speed(i){i<0&&(this.finishedTime=null),this.animation.playbackRate=i}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(i){this.manualStartTime=this.animation.startTime=i}attachTimeline({timeline:i,observe:o}){var c;return this.allowFlatten&&((c=this.animation.effect)==null||c.updateTiming({easing:"linear"})),this.animation.onfinish=null,i&&Z2()?(this.animation.timeline=i,Ht):o(this)}}const w0={anticipate:s0,backInOut:a0,circInOut:l0};function eS(a){return a in w0}function tS(a){typeof a.ease=="string"&&eS(a.ease)&&(a.ease=w0[a.ease])}const Ic=10;class nS extends _0{constructor(i){tS(i),S0(i),super(i),i.startTime!==void 0&&(this.startTime=i.startTime),this.options=i}updateMotionValue(i){const{motionValue:o,onUpdate:c,onComplete:d,element:m,...h}=this.options;if(!o)return;if(i!==void 0){o.set(i);return}const p=new Ku({...h,autoplay:!1}),x=Math.max(Ic,ct.now()-this.startTime),y=en(0,Ic,x-Ic);o.setWithVelocity(p.sample(Math.max(0,x-y)).value,p.sample(x).value,y),p.stop()}}const Op=(a,i)=>i==="zIndex"?!1:!!(typeof a=="number"||Array.isArray(a)||typeof a=="string"&&(Wn.test(a)||a==="0")&&!a.startsWith("url("));function aS(a){const i=a[0];if(a.length===1)return!0;for(let o=0;o<a.length;o++)if(a[o]!==i)return!0}function sS(a,i,o,c){const d=a[0];if(d===null)return!1;if(i==="display"||i==="visibility")return!0;const m=a[a.length-1],h=Op(d,i),p=Op(m,i);return!h||!p?!1:aS(a)||(o==="spring"||E0(o))&&c}function yu(a){a.duration=0,a.type="keyframes"}const iS=new Set(["opacity","clipPath","filter","transform"]),lS=Ou(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function rS(a){var b;const{motionValue:i,name:o,repeatDelay:c,repeatType:d,damping:m,type:h}=a;if(!(((b=i==null?void 0:i.owner)==null?void 0:b.current)instanceof HTMLElement))return!1;const{onUpdate:x,transformTemplate:y}=i.owner.getProps();return lS()&&o&&iS.has(o)&&(o!=="transform"||!y)&&!x&&!c&&d!=="mirror"&&m!==0&&h!=="inertia"}const oS=40;class cS extends Gu{constructor({autoplay:i=!0,delay:o=0,type:c="keyframes",repeat:d=0,repeatDelay:m=0,repeatType:h="loop",keyframes:p,name:x,motionValue:y,element:b,...v}){var k;super(),this.stop=()=>{var L,H;this._animation&&(this._animation.stop(),(L=this.stopTimeline)==null||L.call(this)),(H=this.keyframeResolver)==null||H.cancel()},this.createdAt=ct.now();const j={autoplay:i,delay:o,type:c,repeat:d,repeatDelay:m,repeatType:h,name:x,motionValue:y,element:b,...v},D=(b==null?void 0:b.KeyframeResolver)||Yu;this.keyframeResolver=new D(p,(L,H,B)=>this.onKeyframesResolved(L,H,j,!B),x,y,b),(k=this.keyframeResolver)==null||k.scheduleResolve()}onKeyframesResolved(i,o,c,d){var H,B;this.keyframeResolver=void 0;const{name:m,type:h,velocity:p,delay:x,isHandoff:y,onUpdate:b}=c;this.resolvedAt=ct.now(),sS(i,m,h,p)||((Sn.instantAnimations||!x)&&(b==null||b(qu(i,c,o))),i[0]=i[i.length-1],yu(c),c.repeat=0);const j={startTime:d?this.resolvedAt?this.resolvedAt-this.createdAt>oS?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:o,...c,keyframes:i},D=!y&&rS(j),k=(B=(H=j.motionValue)==null?void 0:H.owner)==null?void 0:B.current,L=D?new nS({...j,element:k}):new Ku(j);L.finished.then(()=>{this.notifyFinished()}).catch(Ht),this.pendingTimeline&&(this.stopTimeline=L.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=L}get finished(){return this._animation?this.animation.finished:this._finished}then(i,o){return this.finished.finally(i).then(()=>{})}get animation(){var i;return this._animation||((i=this.keyframeResolver)==null||i.resume(),I2()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(i){this.animation.time=i}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(i){this.animation.speed=i}get startTime(){return this.animation.startTime}attachTimeline(i){return this._animation?this.stopTimeline=this.animation.attachTimeline(i):this.pendingTimeline=i,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var i;this._animation&&this.animation.cancel(),(i=this.keyframeResolver)==null||i.cancel()}}function C0(a,i,o,c=0,d=1){const m=Array.from(a).sort((y,b)=>y.sortNodePosition(b)).indexOf(i),h=a.size,p=(h-1)*c;return typeof o=="function"?o(m,h):d===1?m*c:p-m*c}const uS=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dS(a){const i=uS.exec(a);if(!i)return[,];const[,o,c,d]=i;return[`--${o??c}`,d]}function D0(a,i,o=1){const[c,d]=dS(a);if(!c)return;const m=window.getComputedStyle(i).getPropertyValue(c);if(m){const h=m.trim();return Zy(h)?parseFloat(h):h}return Bu(d)?D0(d,i,o+1):d}const fS={type:"spring",stiffness:500,damping:25,restSpeed:10},hS=a=>({type:"spring",stiffness:550,damping:a===0?2*Math.sqrt(550):30,restSpeed:10}),mS={type:"keyframes",duration:.8},pS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},yS=(a,{keyframes:i})=>i.length>2?mS:gs.has(a)?a.startsWith("scale")?hS(i[1]):fS:pS,gS=a=>a!==null;function xS(a,{repeat:i,repeatType:o="loop"},c){const d=a.filter(gS),m=i&&o!=="loop"&&i%2===1?0:d.length-1;return d[m]}function M0(a,i){if(a!=null&&a.inherit&&i){const{inherit:o,...c}=a;return{...i,...c}}return a}function Iu(a,i){const o=(a==null?void 0:a[i])??(a==null?void 0:a.default)??a;return o!==a?M0(o,a):o}function bS({when:a,delay:i,delayChildren:o,staggerChildren:c,staggerDirection:d,repeat:m,repeatType:h,repeatDelay:p,from:x,elapsed:y,...b}){return!!Object.keys(b).length}const Xu=(a,i,o,c={},d,m)=>h=>{const p=Iu(c,a)||{},x=p.delay||c.delay||0;let{elapsed:y=0}=c;y=y-Xt(x);const b={keyframes:Array.isArray(o)?o:[null,o],ease:"easeOut",velocity:i.getVelocity(),...p,delay:-y,onUpdate:j=>{i.set(j),p.onUpdate&&p.onUpdate(j)},onComplete:()=>{h(),p.onComplete&&p.onComplete()},name:a,motionValue:i,element:m?void 0:d};bS(p)||Object.assign(b,yS(a,b)),b.duration&&(b.duration=Xt(b.duration)),b.repeatDelay&&(b.repeatDelay=Xt(b.repeatDelay)),b.from!==void 0&&(b.keyframes[0]=b.from);let v=!1;if((b.type===!1||b.duration===0&&!b.repeatDelay)&&(yu(b),b.delay===0&&(v=!0)),(Sn.instantAnimations||Sn.skipAnimations||d!=null&&d.shouldSkipAnimations)&&(v=!0,yu(b),b.delay=0),b.allowFlatten=!p.type&&!p.ease,v&&!m&&i.get()!==void 0){const j=xS(b.keyframes,p);if(j!==void 0){_e.update(()=>{b.onUpdate(j),b.onComplete()});return}}return p.isSync?new Ku(b):new cS(b)};function kp(a){const i=[{},{}];return a==null||a.values.forEach((o,c)=>{i[0][c]=o.get(),i[1][c]=o.getVelocity()}),i}function Qu(a,i,o,c){if(typeof i=="function"){const[d,m]=kp(c);i=i(o!==void 0?o:a.custom,d,m)}if(typeof i=="string"&&(i=a.variants&&a.variants[i]),typeof i=="function"){const[d,m]=kp(c);i=i(o!==void 0?o:a.custom,d,m)}return i}function hs(a,i,o){const c=a.getProps();return Qu(c,i,o!==void 0?o:c.custom,a)}const R0=new Set(["width","height","top","left","right","bottom",...ys]),zp=30,vS=a=>!isNaN(parseFloat(a));class SS{constructor(i,o={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=c=>{var m;const d=ct.now();if(this.updatedAt!==d&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(c),this.current!==this.prev&&((m=this.events.change)==null||m.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty()},this.hasAnimated=!1,this.setCurrent(i),this.owner=o.owner}setCurrent(i){this.current=i,this.updatedAt=ct.now(),this.canTrackVelocity===null&&i!==void 0&&(this.canTrackVelocity=vS(this.current))}setPrevFrameValue(i=this.current){this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt}onChange(i){return this.on("change",i)}on(i,o){this.events[i]||(this.events[i]=new ku);const c=this.events[i].add(o);return i==="change"?()=>{c(),_e.read(()=>{this.events.change.getSize()||this.stop()})}:c}clearListeners(){for(const i in this.events)this.events[i].clear()}attach(i,o){this.passiveEffect=i,this.stopPassiveEffect=o}set(i){this.passiveEffect?this.passiveEffect(i,this.updateAndNotify):this.updateAndNotify(i)}setWithVelocity(i,o,c){this.set(o),this.prev=void 0,this.prevFrameValue=i,this.prevUpdatedAt=this.updatedAt-c}jump(i,o=!0){this.updateAndNotify(i),this.prev=i,this.prevUpdatedAt=this.prevFrameValue=void 0,o&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var i;(i=this.events.change)==null||i.notify(this.current)}addDependent(i){this.dependents||(this.dependents=new Set),this.dependents.add(i)}removeDependent(i){this.dependents&&this.dependents.delete(i)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const i=ct.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||i-this.updatedAt>zp)return 0;const o=Math.min(this.updatedAt-this.prevUpdatedAt,zp);return Jy(parseFloat(this.current)-parseFloat(this.prevFrameValue),o)}start(i){return this.stop(),new Promise(o=>{this.hasAnimated=!0,this.animation=i(o),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var i,o;(i=this.dependents)==null||i.clear(),(o=this.events.destroy)==null||o.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ms(a,i){return new SS(a,i)}const gu=a=>Array.isArray(a);function jS(a,i,o){a.hasValue(i)?a.getValue(i).set(o):a.addValue(i,ms(o))}function TS(a){return gu(a)?a[a.length-1]||0:a}function NS(a,i){const o=hs(a,i);let{transitionEnd:c={},transition:d={},...m}=o||{};m={...m,...c};for(const h in m){const p=TS(m[h]);jS(a,h,p)}}const lt=a=>!!(a&&a.getVelocity);function AS(a){return!!(lt(a)&&a.add)}function xu(a,i){const o=a.getValue("willChange");if(AS(o))return o.add(i);if(!o&&Sn.WillChange){const c=new Sn.WillChange("auto");a.addValue("willChange",c),c.add(i)}}function Zu(a){return a.replace(/([A-Z])/g,i=>`-${i.toLowerCase()}`)}const ES="framerAppearId",O0="data-"+Zu(ES);function k0(a){return a.props[O0]}function _S({protectedKeys:a,needsAnimating:i},o){const c=a.hasOwnProperty(o)&&i[o]!==!0;return i[o]=!1,c}function z0(a,i,{delay:o=0,transitionOverride:c,type:d}={}){let{transition:m,transitionEnd:h,...p}=i;const x=a.getDefaultTransition();m=m?M0(m,x):x;const y=m==null?void 0:m.reduceMotion;c&&(m=c);const b=[],v=d&&a.animationState&&a.animationState.getState()[d];for(const j in p){const D=a.getValue(j,a.latestValues[j]??null),k=p[j];if(k===void 0||v&&_S(v,j))continue;const L={delay:o,...Iu(m||{},j)},H=D.get();if(H!==void 0&&!D.isAnimating&&!Array.isArray(k)&&k===H&&!L.velocity)continue;let B=!1;if(window.MotionHandoffAnimation){const $=k0(a);if($){const Y=window.MotionHandoffAnimation($,j,_e);Y!==null&&(L.startTime=Y,B=!0)}}xu(a,j);const G=y??a.shouldReduceMotion;D.start(Xu(j,D,k,G&&R0.has(j)?{type:!1}:L,a,B));const P=D.animation;P&&b.push(P)}if(h){const j=()=>_e.update(()=>{h&&NS(a,h)});b.length?Promise.all(b).then(j):j()}return b}function bu(a,i,o={}){var x;const c=hs(a,i,o.type==="exit"?(x=a.presenceContext)==null?void 0:x.custom:void 0);let{transition:d=a.getDefaultTransition()||{}}=c||{};o.transitionOverride&&(d=o.transitionOverride);const m=c?()=>Promise.all(z0(a,c,o)):()=>Promise.resolve(),h=a.variantChildren&&a.variantChildren.size?(y=0)=>{const{delayChildren:b=0,staggerChildren:v,staggerDirection:j}=d;return wS(a,i,y,b,v,j,o)}:()=>Promise.resolve(),{when:p}=d;if(p){const[y,b]=p==="beforeChildren"?[m,h]:[h,m];return y().then(()=>b())}else return Promise.all([m(),h(o.delay)])}function wS(a,i,o=0,c=0,d=0,m=1,h){const p=[];for(const x of a.variantChildren)x.notify("AnimationStart",i),p.push(bu(x,i,{...h,delay:o+(typeof c=="function"?0:c)+C0(a.variantChildren,x,c,d,m)}).then(()=>x.notify("AnimationComplete",i)));return Promise.all(p)}function CS(a,i,o={}){a.notify("AnimationStart",i);let c;if(Array.isArray(i)){const d=i.map(m=>bu(a,m,o));c=Promise.all(d)}else if(typeof i=="string")c=bu(a,i,o);else{const d=typeof i=="function"?hs(a,i,o.custom):i;c=Promise.all(z0(a,d,o))}return c.then(()=>{a.notify("AnimationComplete",i)})}const DS={test:a=>a==="auto",parse:a=>a},U0=a=>i=>i.test(a),B0=[ps,I,$t,Xn,s2,a2,DS],Up=a=>B0.find(U0(a));function MS(a){return typeof a=="number"?a===0:a!==null?a==="none"||a==="0"||Wy(a):!0}const RS=new Set(["brightness","contrast","saturate","opacity"]);function OS(a){const[i,o]=a.slice(0,-1).split("(");if(i==="drop-shadow")return a;const[c]=o.match(Vu)||[];if(!c)return a;const d=o.replace(c,"");let m=RS.has(i)?1:0;return c!==o&&(m*=100),i+"("+m+d+")"}const kS=/\b([a-z-]*)\(.*?\)/gu,vu={...Wn,getAnimatableNone:a=>{const i=a.match(kS);return i?i.map(OS).join(" "):a}},Bp={...ps,transform:Math.round},zS={rotate:Xn,rotateX:Xn,rotateY:Xn,rotateZ:Xn,scale:Xl,scaleX:Xl,scaleY:Xl,scaleZ:Xl,skew:Xn,skewX:Xn,skewY:Xn,distance:I,translateX:I,translateY:I,translateZ:I,x:I,y:I,z:I,perspective:I,transformPerspective:I,opacity:vi,originX:Tp,originY:Tp,originZ:I},Fu={borderWidth:I,borderTopWidth:I,borderRightWidth:I,borderBottomWidth:I,borderLeftWidth:I,borderRadius:I,borderTopLeftRadius:I,borderTopRightRadius:I,borderBottomRightRadius:I,borderBottomLeftRadius:I,width:I,maxWidth:I,height:I,maxHeight:I,top:I,right:I,bottom:I,left:I,inset:I,insetBlock:I,insetBlockStart:I,insetBlockEnd:I,insetInline:I,insetInlineStart:I,insetInlineEnd:I,padding:I,paddingTop:I,paddingRight:I,paddingBottom:I,paddingLeft:I,paddingBlock:I,paddingBlockStart:I,paddingBlockEnd:I,paddingInline:I,paddingInlineStart:I,paddingInlineEnd:I,margin:I,marginTop:I,marginRight:I,marginBottom:I,marginLeft:I,marginBlock:I,marginBlockStart:I,marginBlockEnd:I,marginInline:I,marginInlineStart:I,marginInlineEnd:I,fontSize:I,backgroundPositionX:I,backgroundPositionY:I,...zS,zIndex:Bp,fillOpacity:vi,strokeOpacity:vi,numOctaves:Bp},US={...Fu,color:Ye,backgroundColor:Ye,outlineColor:Ye,fill:Ye,stroke:Ye,borderColor:Ye,borderTopColor:Ye,borderRightColor:Ye,borderBottomColor:Ye,borderLeftColor:Ye,filter:vu,WebkitFilter:vu},V0=a=>US[a];function L0(a,i){let o=V0(a);return o!==vu&&(o=Wn),o.getAnimatableNone?o.getAnimatableNone(i):void 0}const BS=new Set(["auto","none","0"]);function VS(a,i,o){let c=0,d;for(;c<a.length&&!d;){const m=a[c];typeof m=="string"&&!BS.has(m)&&Si(m).values.length&&(d=a[c]),c++}if(d&&o)for(const m of i)a[m]=L0(o,d)}class LS extends Yu{constructor(i,o,c,d,m){super(i,o,c,d,m,!0)}readKeyframes(){const{unresolvedKeyframes:i,element:o,name:c}=this;if(!o||!o.current)return;super.readKeyframes();for(let b=0;b<i.length;b++){let v=i[b];if(typeof v=="string"&&(v=v.trim(),Bu(v))){const j=D0(v,o.current);j!==void 0&&(i[b]=j),b===i.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!R0.has(c)||i.length!==2)return;const[d,m]=i,h=Up(d),p=Up(m),x=jp(d),y=jp(m);if(x!==y&&Zn[c]){this.needsMeasurement=!0;return}if(h!==p)if(Mp(h)&&Mp(p))for(let b=0;b<i.length;b++){const v=i[b];typeof v=="string"&&(i[b]=parseFloat(v))}else Zn[c]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:i,name:o}=this,c=[];for(let d=0;d<i.length;d++)(i[d]===null||MS(i[d]))&&c.push(d);c.length&&VS(i,c,o)}measureInitialState(){const{element:i,unresolvedKeyframes:o,name:c}=this;if(!i||!i.current)return;c==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zn[c](i.measureViewportBox(),window.getComputedStyle(i.current)),o[0]=this.measuredOrigin;const d=o[o.length-1];d!==void 0&&i.getValue(c,d).jump(d,!1)}measureEndState(){var p;const{element:i,name:o,unresolvedKeyframes:c}=this;if(!i||!i.current)return;const d=i.getValue(o);d&&d.jump(this.measuredOrigin,!1);const m=c.length-1,h=c[m];c[m]=Zn[o](i.measureViewportBox(),window.getComputedStyle(i.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),(p=this.removedTransforms)!=null&&p.length&&this.removedTransforms.forEach(([x,y])=>{i.getValue(x).set(y)}),this.resolveNoneKeyframes()}}const PS=new Set(["opacity","clipPath","filter","transform"]);function P0(a,i,o){if(a==null)return[];if(a instanceof EventTarget)return[a];if(typeof a=="string"){let c=document;const d=(o==null?void 0:o[a])??c.querySelectorAll(a);return d?Array.from(d):[]}return Array.from(a).filter(c=>c!=null)}const H0=(a,i)=>i&&typeof a=="number"?i.transform(a):a;function HS(a){return Fy(a)&&"offsetHeight"in a}const{schedule:Wu}=c0(queueMicrotask,!1),It={x:!1,y:!1};function q0(){return It.x||It.y}function qS(a){return a==="x"||a==="y"?It[a]?null:(It[a]=!0,()=>{It[a]=!1}):It.x||It.y?null:(It.x=It.y=!0,()=>{It.x=It.y=!1})}function G0(a,i){const o=P0(a),c=new AbortController,d={passive:!0,...i,signal:c.signal};return[o,d,()=>c.abort()]}function GS(a){return!(a.pointerType==="touch"||q0())}function KS(a,i,o={}){const[c,d,m]=G0(a,o);return c.forEach(h=>{let p=!1,x=!1,y;const b=()=>{h.removeEventListener("pointerleave",k)},v=H=>{y&&(y(H),y=void 0),b()},j=H=>{p=!1,window.removeEventListener("pointerup",j),window.removeEventListener("pointercancel",j),x&&(x=!1,v(H))},D=()=>{p=!0,window.addEventListener("pointerup",j,d),window.addEventListener("pointercancel",j,d)},k=H=>{if(H.pointerType!=="touch"){if(p){x=!0;return}v(H)}},L=H=>{if(!GS(H))return;x=!1;const B=i(h,H);typeof B=="function"&&(y=B,h.addEventListener("pointerleave",k,d))};h.addEventListener("pointerenter",L,d),h.addEventListener("pointerdown",D,d)}),m}const K0=(a,i)=>i?a===i?!0:K0(a,i.parentElement):!1,Ju=a=>a.pointerType==="mouse"?typeof a.button!="number"||a.button<=0:a.isPrimary!==!1,YS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function IS(a){return YS.has(a.tagName)||a.isContentEditable===!0}const XS=new Set(["INPUT","SELECT","TEXTAREA"]);function QS(a){return XS.has(a.tagName)||a.isContentEditable===!0}const Fl=new WeakSet;function Vp(a){return i=>{i.key==="Enter"&&a(i)}}function Xc(a,i){a.dispatchEvent(new PointerEvent("pointer"+i,{isPrimary:!0,bubbles:!0}))}const ZS=(a,i)=>{const o=a.currentTarget;if(!o)return;const c=Vp(()=>{if(Fl.has(o))return;Xc(o,"down");const d=Vp(()=>{Xc(o,"up")}),m=()=>Xc(o,"cancel");o.addEventListener("keyup",d,i),o.addEventListener("blur",m,i)});o.addEventListener("keydown",c,i),o.addEventListener("blur",()=>o.removeEventListener("keydown",c),i)};function Lp(a){return Ju(a)&&!q0()}const Pp=new WeakSet;function FS(a,i,o={}){const[c,d,m]=G0(a,o),h=p=>{const x=p.currentTarget;if(!Lp(p)||Pp.has(p))return;Fl.add(x),o.stopPropagation&&Pp.add(p);const y=i(x,p),b=(D,k)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",j),Fl.has(x)&&Fl.delete(x),Lp(D)&&typeof y=="function"&&y(D,{success:k})},v=D=>{b(D,x===window||x===document||o.useGlobalTarget||K0(x,D.target))},j=D=>{b(D,!1)};window.addEventListener("pointerup",v,d),window.addEventListener("pointercancel",j,d)};return c.forEach(p=>{(o.useGlobalTarget?window:p).addEventListener("pointerdown",h,d),HS(p)&&(p.addEventListener("focus",y=>ZS(y,d)),!IS(p)&&!p.hasAttribute("tabindex")&&(p.tabIndex=0))}),m}function $u(a){return Fy(a)&&"ownerSVGElement"in a}const Wl=new WeakMap;let Qn;const Y0=(a,i,o)=>(c,d)=>d&&d[0]?d[0][a+"Size"]:$u(c)&&"getBBox"in c?c.getBBox()[i]:c[o],WS=Y0("inline","width","offsetWidth"),JS=Y0("block","height","offsetHeight");function $S({target:a,borderBoxSize:i}){var o;(o=Wl.get(a))==null||o.forEach(c=>{c(a,{get width(){return WS(a,i)},get height(){return JS(a,i)}})})}function ej(a){a.forEach($S)}function tj(){typeof ResizeObserver>"u"||(Qn=new ResizeObserver(ej))}function nj(a,i){Qn||tj();const o=P0(a);return o.forEach(c=>{let d=Wl.get(c);d||(d=new Set,Wl.set(c,d)),d.add(i),Qn==null||Qn.observe(c)}),()=>{o.forEach(c=>{const d=Wl.get(c);d==null||d.delete(i),d!=null&&d.size||Qn==null||Qn.unobserve(c)})}}const Jl=new Set;let cs;function aj(){cs=()=>{const a={get width(){return window.innerWidth},get height(){return window.innerHeight}};Jl.forEach(i=>i(a))},window.addEventListener("resize",cs)}function sj(a){return Jl.add(a),cs||aj(),()=>{Jl.delete(a),!Jl.size&&typeof cs=="function"&&(window.removeEventListener("resize",cs),cs=void 0)}}function Hp(a,i){return typeof a=="function"?sj(a):nj(a,i)}function ij(a){return $u(a)&&a.tagName==="svg"}const lj=[...B0,Ye,Wn],rj=a=>lj.find(U0(a)),qp=()=>({translate:0,scale:1,origin:0,originPoint:0}),us=()=>({x:qp(),y:qp()}),Gp=()=>({min:0,max:0}),Qe=()=>({x:Gp(),y:Gp()}),oj=new WeakMap;function fr(a){return a!==null&&typeof a=="object"&&typeof a.start=="function"}function ji(a){return typeof a=="string"||Array.isArray(a)}const ed=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],td=["initial",...ed];function hr(a){return fr(a.animate)||td.some(i=>ji(a[i]))}function I0(a){return!!(hr(a)||a.variants)}function cj(a,i,o){for(const c in i){const d=i[c],m=o[c];if(lt(d))a.addValue(c,d);else if(lt(m))a.addValue(c,ms(d,{owner:a}));else if(m!==d)if(a.hasValue(c)){const h=a.getValue(c);h.liveStyle===!0?h.jump(d):h.hasAnimated||h.set(d)}else{const h=a.getStaticValue(c);a.addValue(c,ms(h!==void 0?h:d,{owner:a}))}}for(const c in o)i[c]===void 0&&a.removeValue(c);return i}const Su={current:null},X0={current:!1},uj=typeof window<"u";function dj(){if(X0.current=!0,!!uj)if(window.matchMedia){const a=window.matchMedia("(prefers-reduced-motion)"),i=()=>Su.current=a.matches;a.addEventListener("change",i),i()}else Su.current=!1}const Kp=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let or={};function Q0(a){or=a}function fj(){return or}class hj{scrapeMotionValuesFromProps(i,o,c){return{}}constructor({parent:i,props:o,presenceContext:c,reducedMotionConfig:d,skipAnimations:m,blockInitialAnimation:h,visualState:p},x={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Yu,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const D=ct.now();this.renderScheduledAt<D&&(this.renderScheduledAt=D,_e.render(this.render,!1,!0))};const{latestValues:y,renderState:b}=p;this.latestValues=y,this.baseTarget={...y},this.initialValues=o.initial?{...y}:{},this.renderState=b,this.parent=i,this.props=o,this.presenceContext=c,this.depth=i?i.depth+1:0,this.reducedMotionConfig=d,this.skipAnimationsConfig=m,this.options=x,this.blockInitialAnimation=!!h,this.isControllingVariants=hr(o),this.isVariantNode=I0(o),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(i&&i.current);const{willChange:v,...j}=this.scrapeMotionValuesFromProps(o,{},this);for(const D in j){const k=j[D];y[D]!==void 0&&lt(k)&&k.set(y[D])}}mount(i){var o,c;if(this.hasBeenMounted)for(const d in this.initialValues)(o=this.values.get(d))==null||o.jump(this.initialValues[d]),this.latestValues[d]=this.initialValues[d];this.current=i,oj.set(i,this),this.projection&&!this.projection.instance&&this.projection.mount(i),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((d,m)=>this.bindToMotionValue(m,d)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(X0.current||dj(),this.shouldReduceMotion=Su.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,(c=this.parent)==null||c.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){var i;this.projection&&this.projection.unmount(),Fn(this.notifyUpdate),Fn(this.render),this.valueSubscriptions.forEach(o=>o()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(i=this.parent)==null||i.removeChild(this);for(const o in this.events)this.events[o].clear();for(const o in this.features){const c=this.features[o];c&&(c.unmount(),c.isMounted=!1)}this.current=null}addChild(i){this.children.add(i),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(i)}removeChild(i){this.children.delete(i),this.enteringChildren&&this.enteringChildren.delete(i)}bindToMotionValue(i,o){if(this.valueSubscriptions.has(i)&&this.valueSubscriptions.get(i)(),o.accelerate&&PS.has(i)&&this.current instanceof HTMLElement){const{factory:h,keyframes:p,times:x,ease:y,duration:b}=o.accelerate,v=new _0({element:this.current,name:i,keyframes:p,times:x,ease:y,duration:Xt(b)}),j=h(v);this.valueSubscriptions.set(i,()=>{j(),v.cancel()});return}const c=gs.has(i);c&&this.onBindTransform&&this.onBindTransform();const d=o.on("change",h=>{this.latestValues[i]=h,this.props.onUpdate&&_e.preRender(this.notifyUpdate),c&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let m;typeof window<"u"&&window.MotionCheckAppearSync&&(m=window.MotionCheckAppearSync(this,i,o)),this.valueSubscriptions.set(i,()=>{d(),m&&m(),o.owner&&o.stop()})}sortNodePosition(i){return!this.current||!this.sortInstanceNodePosition||this.type!==i.type?0:this.sortInstanceNodePosition(this.current,i.current)}updateFeatures(){let i="animation";for(i in or){const o=or[i];if(!o)continue;const{isEnabled:c,Feature:d}=o;if(!this.features[i]&&d&&c(this.props)&&(this.features[i]=new d(this)),this.features[i]){const m=this.features[i];m.isMounted?m.update():(m.mount(),m.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qe()}getStaticValue(i){return this.latestValues[i]}setStaticValue(i,o){this.latestValues[i]=o}update(i,o){(i.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=i,this.prevPresenceContext=this.presenceContext,this.presenceContext=o;for(let c=0;c<Kp.length;c++){const d=Kp[c];this.propEventSubscriptions[d]&&(this.propEventSubscriptions[d](),delete this.propEventSubscriptions[d]);const m="on"+d,h=i[m];h&&(this.propEventSubscriptions[d]=this.on(d,h))}this.prevMotionValues=cj(this,this.scrapeMotionValuesFromProps(i,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(i){return this.props.variants?this.props.variants[i]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(i){const o=this.getClosestVariantNode();if(o)return o.variantChildren&&o.variantChildren.add(i),()=>o.variantChildren.delete(i)}addValue(i,o){const c=this.values.get(i);o!==c&&(c&&this.removeValue(i),this.bindToMotionValue(i,o),this.values.set(i,o),this.latestValues[i]=o.get())}removeValue(i){this.values.delete(i);const o=this.valueSubscriptions.get(i);o&&(o(),this.valueSubscriptions.delete(i)),delete this.latestValues[i],this.removeValueFromRenderState(i,this.renderState)}hasValue(i){return this.values.has(i)}getValue(i,o){if(this.props.values&&this.props.values[i])return this.props.values[i];let c=this.values.get(i);return c===void 0&&o!==void 0&&(c=ms(o===null?void 0:o,{owner:this}),this.addValue(i,c)),c}readValue(i,o){let c=this.latestValues[i]!==void 0||!this.current?this.latestValues[i]:this.getBaseTargetFromProps(this.props,i)??this.readValueFromInstance(this.current,i,this.options);return c!=null&&(typeof c=="string"&&(Zy(c)||Wy(c))?c=parseFloat(c):!rj(c)&&Wn.test(o)&&(c=L0(i,o)),this.setBaseTarget(i,lt(c)?c.get():c)),lt(c)?c.get():c}setBaseTarget(i,o){this.baseTarget[i]=o}getBaseTarget(i){var m;const{initial:o}=this.props;let c;if(typeof o=="string"||typeof o=="object"){const h=Qu(this.props,o,(m=this.presenceContext)==null?void 0:m.custom);h&&(c=h[i])}if(o&&c!==void 0)return c;const d=this.getBaseTargetFromProps(this.props,i);return d!==void 0&&!lt(d)?d:this.initialValues[i]!==void 0&&c===void 0?void 0:this.baseTarget[i]}on(i,o){return this.events[i]||(this.events[i]=new ku),this.events[i].add(o)}notify(i,...o){this.events[i]&&this.events[i].notify(...o)}scheduleRenderMicrotask(){Wu.render(this.render)}}class Z0 extends hj{constructor(){super(...arguments),this.KeyframeResolver=LS}sortInstanceNodePosition(i,o){return i.compareDocumentPosition(o)&2?1:-1}getBaseTargetFromProps(i,o){const c=i.style;return c?c[o]:void 0}removeValueFromRenderState(i,{vars:o,style:c}){delete o[i],delete c[i]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:i}=this.props;lt(i)&&(this.childSubscription=i.on("change",o=>{this.current&&(this.current.textContent=`${o}`)}))}}class Jn{constructor(i){this.isMounted=!1,this.node=i}update(){}}function F0({top:a,left:i,right:o,bottom:c}){return{x:{min:i,max:o},y:{min:a,max:c}}}function mj({x:a,y:i}){return{top:i.min,right:a.max,bottom:i.max,left:a.min}}function pj(a,i){if(!i)return a;const o=i({x:a.left,y:a.top}),c=i({x:a.right,y:a.bottom});return{top:o.y,left:o.x,bottom:c.y,right:c.x}}function Qc(a){return a===void 0||a===1}function ju({scale:a,scaleX:i,scaleY:o}){return!Qc(a)||!Qc(i)||!Qc(o)}function ba(a){return ju(a)||W0(a)||a.z||a.rotate||a.rotateX||a.rotateY||a.skewX||a.skewY}function W0(a){return Yp(a.x)||Yp(a.y)}function Yp(a){return a&&a!=="0%"}function cr(a,i,o){const c=a-o,d=i*c;return o+d}function Ip(a,i,o,c,d){return d!==void 0&&(a=cr(a,d,c)),cr(a,o,c)+i}function Tu(a,i=0,o=1,c,d){a.min=Ip(a.min,i,o,c,d),a.max=Ip(a.max,i,o,c,d)}function J0(a,{x:i,y:o}){Tu(a.x,i.translate,i.scale,i.originPoint),Tu(a.y,o.translate,o.scale,o.originPoint)}const Xp=.999999999999,Qp=1.0000000000001;function yj(a,i,o,c=!1){const d=o.length;if(!d)return;i.x=i.y=1;let m,h;for(let p=0;p<d;p++){m=o[p],h=m.projectionDelta;const{visualElement:x}=m.options;x&&x.props.style&&x.props.style.display==="contents"||(c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&fs(a,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),h&&(i.x*=h.x.scale,i.y*=h.y.scale,J0(a,h)),c&&ba(m.latestValues)&&fs(a,m.latestValues))}i.x<Qp&&i.x>Xp&&(i.x=1),i.y<Qp&&i.y>Xp&&(i.y=1)}function ds(a,i){a.min=a.min+i,a.max=a.max+i}function Zp(a,i,o,c,d=.5){const m=ke(a.min,a.max,d);Tu(a,i,o,m,c)}function fs(a,i){Zp(a.x,i.x,i.scaleX,i.scale,i.originX),Zp(a.y,i.y,i.scaleY,i.scale,i.originY)}function $0(a,i){return F0(pj(a.getBoundingClientRect(),i))}function gj(a,i,o){const c=$0(a,o),{scroll:d}=i;return d&&(ds(c.x,d.offset.x),ds(c.y,d.offset.y)),c}const xj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bj=ys.length;function vj(a,i,o){let c="",d=!0;for(let m=0;m<bj;m++){const h=ys[m],p=a[h];if(p===void 0)continue;let x=!0;if(typeof p=="number")x=p===(h.startsWith("scale")?1:0);else{const y=parseFloat(p);x=h.startsWith("scale")?y===1:y===0}if(!x||o){const y=H0(p,Fu[h]);if(!x){d=!1;const b=xj[h]||h;c+=`${b}(${y}) `}o&&(i[h]=y)}}return c=c.trim(),o?c=o(i,d?"":c):d&&(c="none"),c}function nd(a,i,o){const{style:c,vars:d,transformOrigin:m}=a;let h=!1,p=!1;for(const x in i){const y=i[x];if(gs.has(x)){h=!0;continue}else if(d0(x)){d[x]=y;continue}else{const b=H0(y,Fu[x]);x.startsWith("origin")?(p=!0,m[x]=b):c[x]=b}}if(i.transform||(h||o?c.transform=vj(i,a.transform,o):c.transform&&(c.transform="none")),p){const{originX:x="50%",originY:y="50%",originZ:b=0}=m;c.transformOrigin=`${x} ${y} ${b}`}}function eg(a,{style:i,vars:o},c,d){const m=a.style;let h;for(h in i)m[h]=i[h];d==null||d.applyProjectionStyles(m,c);for(h in o)m.setProperty(h,o[h])}function Fp(a,i){return i.max===i.min?0:a/(i.max-i.min)*100}const hi={correct:(a,i)=>{if(!i.target)return a;if(typeof a=="string")if(I.test(a))a=parseFloat(a);else return a;const o=Fp(a,i.target.x),c=Fp(a,i.target.y);return`${o}% ${c}%`}},Sj={correct:(a,{treeScale:i,projectionDelta:o})=>{const c=a,d=Wn.parse(a);if(d.length>5)return c;const m=Wn.createTransformer(a),h=typeof d[0]!="number"?1:0,p=o.x.scale*i.x,x=o.y.scale*i.y;d[0+h]/=p,d[1+h]/=x;const y=ke(p,x,.5);return typeof d[2+h]=="number"&&(d[2+h]/=y),typeof d[3+h]=="number"&&(d[3+h]/=y),m(d)}},Nu={borderRadius:{...hi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hi,borderTopRightRadius:hi,borderBottomLeftRadius:hi,borderBottomRightRadius:hi,boxShadow:Sj};function tg(a,{layout:i,layoutId:o}){return gs.has(a)||a.startsWith("origin")||(i||o!==void 0)&&(!!Nu[a]||a==="opacity")}function ad(a,i,o){var h;const c=a.style,d=i==null?void 0:i.style,m={};if(!c)return m;for(const p in c)(lt(c[p])||d&&lt(d[p])||tg(p,a)||((h=o==null?void 0:o.getValue(p))==null?void 0:h.liveStyle)!==void 0)&&(m[p]=c[p]);return m}function jj(a){return window.getComputedStyle(a)}class Tj extends Z0{constructor(){super(...arguments),this.type="html",this.renderInstance=eg}readValueFromInstance(i,o){var c;if(gs.has(o))return(c=this.projection)!=null&&c.isProjecting?du(o):H2(i,o);{const d=jj(i),m=(d0(o)?d.getPropertyValue(o):d[o])||0;return typeof m=="string"?m.trim():m}}measureInstanceViewportBox(i,{transformPagePoint:o}){return $0(i,o)}build(i,o,c){nd(i,o,c.transformTemplate)}scrapeMotionValuesFromProps(i,o,c){return ad(i,o,c)}}const Nj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Aj={offset:"strokeDashoffset",array:"strokeDasharray"};function Ej(a,i,o=1,c=0,d=!0){a.pathLength=1;const m=d?Nj:Aj;a[m.offset]=`${-c}`,a[m.array]=`${i} ${o}`}const _j=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function ng(a,{attrX:i,attrY:o,attrScale:c,pathLength:d,pathSpacing:m=1,pathOffset:h=0,...p},x,y,b){if(nd(a,p,y),x){a.style.viewBox&&(a.attrs.viewBox=a.style.viewBox);return}a.attrs=a.style,a.style={};const{attrs:v,style:j}=a;v.transform&&(j.transform=v.transform,delete v.transform),(j.transform||v.transformOrigin)&&(j.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),j.transform&&(j.transformBox=(b==null?void 0:b.transformBox)??"fill-box",delete v.transformBox);for(const D of _j)v[D]!==void 0&&(j[D]=v[D],delete v[D]);i!==void 0&&(v.x=i),o!==void 0&&(v.y=o),c!==void 0&&(v.scale=c),d!==void 0&&Ej(v,d,m,h,!1)}const ag=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),sg=a=>typeof a=="string"&&a.toLowerCase()==="svg";function wj(a,i,o,c){eg(a,i,void 0,c);for(const d in i.attrs)a.setAttribute(ag.has(d)?d:Zu(d),i.attrs[d])}function ig(a,i,o){const c=ad(a,i,o);for(const d in a)if(lt(a[d])||lt(i[d])){const m=ys.indexOf(d)!==-1?"attr"+d.charAt(0).toUpperCase()+d.substring(1):d;c[m]=a[d]}return c}class Cj extends Z0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qe}getBaseTargetFromProps(i,o){return i[o]}readValueFromInstance(i,o){if(gs.has(o)){const c=V0(o);return c&&c.default||0}return o=ag.has(o)?o:Zu(o),i.getAttribute(o)}scrapeMotionValuesFromProps(i,o,c){return ig(i,o,c)}build(i,o,c){ng(i,o,this.isSVGTag,c.transformTemplate,c.style)}renderInstance(i,o,c,d){wj(i,o,c,d)}mount(i){this.isSVGTag=sg(i.tagName),super.mount(i)}}const Dj=td.length;function lg(a){if(!a)return;if(!a.isControllingVariants){const o=a.parent?lg(a.parent)||{}:{};return a.props.initial!==void 0&&(o.initial=a.props.initial),o}const i={};for(let o=0;o<Dj;o++){const c=td[o],d=a.props[c];(ji(d)||d===!1)&&(i[c]=d)}return i}function rg(a,i){if(!Array.isArray(i))return!1;const o=i.length;if(o!==a.length)return!1;for(let c=0;c<o;c++)if(i[c]!==a[c])return!1;return!0}const Mj=[...ed].reverse(),Rj=ed.length;function Oj(a){return i=>Promise.all(i.map(({animation:o,options:c})=>CS(a,o,c)))}function kj(a){let i=Oj(a),o=Wp(),c=!0;const d=x=>(y,b)=>{var j;const v=hs(a,b,x==="exit"?(j=a.presenceContext)==null?void 0:j.custom:void 0);if(v){const{transition:D,transitionEnd:k,...L}=v;y={...y,...L,...k}}return y};function m(x){i=x(a)}function h(x){const{props:y}=a,b=lg(a.parent)||{},v=[],j=new Set;let D={},k=1/0;for(let H=0;H<Rj;H++){const B=Mj[H],G=o[B],P=y[B]!==void 0?y[B]:b[B],$=ji(P),Y=B===x?G.isActive:null;Y===!1&&(k=H);let ie=P===b[B]&&P!==y[B]&&$;if(ie&&c&&a.manuallyAnimateOnMount&&(ie=!1),G.protectedKeys={...D},!G.isActive&&Y===null||!P&&!G.prevProp||fr(P)||typeof P=="boolean")continue;if(B==="exit"&&G.isActive&&Y!==!0){G.prevResolvedValues&&(D={...D,...G.prevResolvedValues});continue}const W=zj(G.prevProp,P);let ee=W||B===x&&G.isActive&&!ie&&$||H>k&&$,we=!1;const Ie=Array.isArray(P)?P:[P];let We=Ie.reduce(d(B),{});Y===!1&&(We={});const{prevResolvedValues:Je={}}=G,tn={...Je,...We},Ct=V=>{ee=!0,j.has(V)&&(we=!0,j.delete(V)),G.needsAnimating[V]=!0;const Q=a.getValue(V);Q&&(Q.liveStyle=!1)};for(const V in tn){const Q=We[V],de=Je[V];if(D.hasOwnProperty(V))continue;let pe=!1;gu(Q)&&gu(de)?pe=!rg(Q,de):pe=Q!==de,pe?Q!=null?Ct(V):j.add(V):Q!==void 0&&j.has(V)?Ct(V):G.protectedKeys[V]=!0}G.prevProp=P,G.prevResolvedValues=We,G.isActive&&(D={...D,...We}),c&&a.blockInitialAnimation&&(ee=!1);const dt=ie&&W;ee&&(!dt||we)&&v.push(...Ie.map(V=>{const Q={type:B};if(typeof V=="string"&&c&&!dt&&a.manuallyAnimateOnMount&&a.parent){const{parent:de}=a,pe=hs(de,V);if(de.enteringChildren&&pe){const{delayChildren:N}=pe.transition||{};Q.delay=C0(de.enteringChildren,a,N)}}return{animation:V,options:Q}}))}if(j.size){const H={};if(typeof y.initial!="boolean"){const B=hs(a,Array.isArray(y.initial)?y.initial[0]:y.initial);B&&B.transition&&(H.transition=B.transition)}j.forEach(B=>{const G=a.getBaseTarget(B),P=a.getValue(B);P&&(P.liveStyle=!0),H[B]=G??null}),v.push({animation:H})}let L=!!v.length;return c&&(y.initial===!1||y.initial===y.animate)&&!a.manuallyAnimateOnMount&&(L=!1),c=!1,L?i(v):Promise.resolve()}function p(x,y){var v;if(o[x].isActive===y)return Promise.resolve();(v=a.variantChildren)==null||v.forEach(j=>{var D;return(D=j.animationState)==null?void 0:D.setActive(x,y)}),o[x].isActive=y;const b=h(x);for(const j in o)o[j].protectedKeys={};return b}return{animateChanges:h,setActive:p,setAnimateFunction:m,getState:()=>o,reset:()=>{o=Wp()}}}function zj(a,i){return typeof i=="string"?i!==a:Array.isArray(i)?!rg(i,a):!1}function xa(a=!1){return{isActive:a,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Wp(){return{animate:xa(!0),whileInView:xa(),whileHover:xa(),whileTap:xa(),whileDrag:xa(),whileFocus:xa(),exit:xa()}}function Jp(a,i){a.min=i.min,a.max=i.max}function Yt(a,i){Jp(a.x,i.x),Jp(a.y,i.y)}function $p(a,i){a.translate=i.translate,a.scale=i.scale,a.originPoint=i.originPoint,a.origin=i.origin}const og=1e-4,Uj=1-og,Bj=1+og,cg=.01,Vj=0-cg,Lj=0+cg;function ut(a){return a.max-a.min}function Pj(a,i,o){return Math.abs(a-i)<=o}function ey(a,i,o,c=.5){a.origin=c,a.originPoint=ke(i.min,i.max,a.origin),a.scale=ut(o)/ut(i),a.translate=ke(o.min,o.max,a.origin)-a.originPoint,(a.scale>=Uj&&a.scale<=Bj||isNaN(a.scale))&&(a.scale=1),(a.translate>=Vj&&a.translate<=Lj||isNaN(a.translate))&&(a.translate=0)}function gi(a,i,o,c){ey(a.x,i.x,o.x,c?c.originX:void 0),ey(a.y,i.y,o.y,c?c.originY:void 0)}function ty(a,i,o){a.min=o.min+i.min,a.max=a.min+ut(i)}function Hj(a,i,o){ty(a.x,i.x,o.x),ty(a.y,i.y,o.y)}function ny(a,i,o){a.min=i.min-o.min,a.max=a.min+ut(i)}function ur(a,i,o){ny(a.x,i.x,o.x),ny(a.y,i.y,o.y)}function ay(a,i,o,c,d){return a-=i,a=cr(a,1/o,c),d!==void 0&&(a=cr(a,1/d,c)),a}function qj(a,i=0,o=1,c=.5,d,m=a,h=a){if($t.test(i)&&(i=parseFloat(i),i=ke(h.min,h.max,i/100)-h.min),typeof i!="number")return;let p=ke(m.min,m.max,c);a===m&&(p-=i),a.min=ay(a.min,i,o,p,d),a.max=ay(a.max,i,o,p,d)}function sy(a,i,[o,c,d],m,h){qj(a,i[o],i[c],i[d],i.scale,m,h)}const Gj=["x","scaleX","originX"],Kj=["y","scaleY","originY"];function iy(a,i,o,c){sy(a.x,i,Gj,o?o.x:void 0,c?c.x:void 0),sy(a.y,i,Kj,o?o.y:void 0,c?c.y:void 0)}function ly(a){return a.translate===0&&a.scale===1}function ug(a){return ly(a.x)&&ly(a.y)}function ry(a,i){return a.min===i.min&&a.max===i.max}function Yj(a,i){return ry(a.x,i.x)&&ry(a.y,i.y)}function oy(a,i){return Math.round(a.min)===Math.round(i.min)&&Math.round(a.max)===Math.round(i.max)}function dg(a,i){return oy(a.x,i.x)&&oy(a.y,i.y)}function cy(a){return ut(a.x)/ut(a.y)}function uy(a,i){return a.translate===i.translate&&a.scale===i.scale&&a.originPoint===i.originPoint}function Jt(a){return[a("x"),a("y")]}function Ij(a,i,o){let c="";const d=a.x.translate/i.x,m=a.y.translate/i.y,h=(o==null?void 0:o.z)||0;if((d||m||h)&&(c=`translate3d(${d}px, ${m}px, ${h}px) `),(i.x!==1||i.y!==1)&&(c+=`scale(${1/i.x}, ${1/i.y}) `),o){const{transformPerspective:y,rotate:b,rotateX:v,rotateY:j,skewX:D,skewY:k}=o;y&&(c=`perspective(${y}px) ${c}`),b&&(c+=`rotate(${b}deg) `),v&&(c+=`rotateX(${v}deg) `),j&&(c+=`rotateY(${j}deg) `),D&&(c+=`skewX(${D}deg) `),k&&(c+=`skewY(${k}deg) `)}const p=a.x.scale*i.x,x=a.y.scale*i.y;return(p!==1||x!==1)&&(c+=`scale(${p}, ${x})`),c||"none"}const fg=["TopLeft","TopRight","BottomLeft","BottomRight"],Xj=fg.length,dy=a=>typeof a=="string"?parseFloat(a):a,fy=a=>typeof a=="number"||I.test(a);function Qj(a,i,o,c,d,m){d?(a.opacity=ke(0,o.opacity??1,Zj(c)),a.opacityExit=ke(i.opacity??1,0,Fj(c))):m&&(a.opacity=ke(i.opacity??1,o.opacity??1,c));for(let h=0;h<Xj;h++){const p=`border${fg[h]}Radius`;let x=hy(i,p),y=hy(o,p);if(x===void 0&&y===void 0)continue;x||(x=0),y||(y=0),x===0||y===0||fy(x)===fy(y)?(a[p]=Math.max(ke(dy(x),dy(y),c),0),($t.test(y)||$t.test(x))&&(a[p]+="%")):a[p]=y}(i.rotate||o.rotate)&&(a.rotate=ke(i.rotate||0,o.rotate||0,c))}function hy(a,i){return a[i]!==void 0?a[i]:a.borderRadius}const Zj=hg(0,.5,i0),Fj=hg(.5,.95,Ht);function hg(a,i,o){return c=>c<a?0:c>i?1:o(bi(a,i,c))}function Wj(a,i,o){const c=lt(a)?a:ms(a);return c.start(Xu("",c,i,o)),c.animation}function Ti(a,i,o,c={passive:!0}){return a.addEventListener(i,o,c),()=>a.removeEventListener(i,o)}const Jj=(a,i)=>a.depth-i.depth;class $j{constructor(){this.children=[],this.isDirty=!1}add(i){Mu(this.children,i),this.isDirty=!0}remove(i){sr(this.children,i),this.isDirty=!0}forEach(i){this.isDirty&&this.children.sort(Jj),this.isDirty=!1,this.children.forEach(i)}}function eT(a,i){const o=ct.now(),c=({timestamp:d})=>{const m=d-o;m>=i&&(Fn(c),a(m-i))};return _e.setup(c,!0),()=>Fn(c)}function $l(a){return lt(a)?a.get():a}class tT{constructor(){this.members=[]}add(i){Mu(this.members,i);for(let o=this.members.length-1;o>=0;o--){const c=this.members[o];if(c===i||c===this.lead||c===this.prevLead)continue;const d=c.instance;d&&d.isConnected===!1&&c.isPresent!==!1&&!c.snapshot&&sr(this.members,c)}i.scheduleRender()}remove(i){if(sr(this.members,i),i===this.prevLead&&(this.prevLead=void 0),i===this.lead){const o=this.members[this.members.length-1];o&&this.promote(o)}}relegate(i){const o=this.members.findIndex(d=>i===d);if(o===0)return!1;let c;for(let d=o;d>=0;d--){const m=this.members[d],h=m.instance;if(m.isPresent!==!1&&(!h||h.isConnected!==!1)){c=m;break}}return c?(this.promote(c),!0):!1}promote(i,o){const c=this.lead;if(i!==c&&(this.prevLead=c,this.lead=i,i.show(),c)){c.instance&&c.scheduleRender(),i.scheduleRender();const d=c.options.layoutDependency,m=i.options.layoutDependency;if(!(d!==void 0&&m!==void 0&&d===m)){const x=c.instance;x&&x.isConnected===!1&&!c.snapshot||(i.resumeFrom=c,o&&(i.resumeFrom.preserveOpacity=!0),c.snapshot&&(i.snapshot=c.snapshot,i.snapshot.latestValues=c.animationValues||c.latestValues),i.root&&i.root.isUpdating&&(i.isLayoutDirty=!0))}const{crossfade:p}=i.options;p===!1&&c.hide()}}exitAnimationComplete(){this.members.forEach(i=>{const{options:o,resumingFrom:c}=i;o.onExitComplete&&o.onExitComplete(),c&&c.options.onExitComplete&&c.options.onExitComplete()})}scheduleRender(){this.members.forEach(i=>{i.instance&&i.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const er={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Zc=["","X","Y","Z"],nT=1e3;let aT=0;function Fc(a,i,o,c){const{latestValues:d}=i;d[a]&&(o[a]=d[a],i.setStaticValue(a,0),c&&(c[a]=0))}function mg(a){if(a.hasCheckedOptimisedAppear=!0,a.root===a)return;const{visualElement:i}=a.options;if(!i)return;const o=k0(i);if(window.MotionHasOptimisedAnimation(o,"transform")){const{layout:d,layoutId:m}=a.options;window.MotionCancelOptimisedAnimation(o,"transform",_e,!(d||m))}const{parent:c}=a;c&&!c.hasCheckedOptimisedAppear&&mg(c)}function pg({attachResizeListener:a,defaultParent:i,measureScroll:o,checkIsScrollRoot:c,resetTransform:d}){return class{constructor(h={},p=i==null?void 0:i()){this.id=aT++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lT),this.nodes.forEach(uT),this.nodes.forEach(dT),this.nodes.forEach(rT)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=h,this.root=p?p.root||p:this,this.path=p?[...p.path,p]:[],this.parent=p,this.depth=p?p.depth+1:0;for(let x=0;x<this.path.length;x++)this.path[x].shouldResetTransform=!0;this.root===this&&(this.nodes=new $j)}addEventListener(h,p){return this.eventHandlers.has(h)||this.eventHandlers.set(h,new ku),this.eventHandlers.get(h).add(p)}notifyListeners(h,...p){const x=this.eventHandlers.get(h);x&&x.notify(...p)}hasListeners(h){return this.eventHandlers.has(h)}mount(h){if(this.instance)return;this.isSVG=$u(h)&&!ij(h),this.instance=h;const{layoutId:p,layout:x,visualElement:y}=this.options;if(y&&!y.current&&y.mount(h),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(x||p)&&(this.isLayoutDirty=!0),a){let b,v=0;const j=()=>this.root.updateBlockedByResize=!1;_e.read(()=>{v=window.innerWidth}),a(h,()=>{const D=window.innerWidth;D!==v&&(v=D,this.root.updateBlockedByResize=!0,b&&b(),b=eT(j,250),er.hasAnimatedSinceResize&&(er.hasAnimatedSinceResize=!1,this.nodes.forEach(yy)))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&y&&(p||x)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:v,hasRelativeLayoutChanged:j,layout:D})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||y.getDefaultTransition()||yT,{onLayoutAnimationStart:L,onLayoutAnimationComplete:H}=y.getProps(),B=!this.targetLayout||!dg(this.targetLayout,D),G=!v&&j;if(this.options.layoutRoot||this.resumeFrom||G||v&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...Iu(k,"layout"),onPlay:L,onComplete:H};(y.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(b,G)}else v||yy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=D})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const h=this.getStack();h&&h.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(fT),this.animationId++)}getTransformTemplate(){const{visualElement:h}=this.options;return h&&h.getProps().transformTemplate}willUpdate(h=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mg(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let b=0;b<this.path.length;b++){const v=this.path[b];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:p,layout:x}=this.options;if(p===void 0&&!x)return;const y=this.getTransformTemplate();this.prevTransformTemplateValue=y?y(this.latestValues,""):void 0,this.updateSnapshot(),h&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(my);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(py);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(cT),this.nodes.forEach(sT),this.nodes.forEach(iT)):this.nodes.forEach(py),this.clearAllSnapshots();const p=ct.now();st.delta=en(0,1e3/60,p-st.timestamp),st.timestamp=p,st.isProcessing=!0,Hc.update.process(st),Hc.preRender.process(st),Hc.render.process(st),st.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wu.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oT),this.sharedNodes.forEach(hT)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ut(this.snapshot.measuredBox.x)&&!ut(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let x=0;x<this.path.length;x++)this.path[x].updateScroll();const h=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:p}=this.options;p&&p.notify("LayoutMeasure",this.layout.layoutBox,h?h.layoutBox:void 0)}updateScroll(h="measure"){let p=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===h&&(p=!1),p&&this.instance){const x=c(this.instance);this.scroll={animationId:this.root.animationId,phase:h,isRoot:x,offset:o(this.instance),wasRoot:this.scroll?this.scroll.isRoot:x}}}resetTransform(){if(!d)return;const h=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,p=this.projectionDelta&&!ug(this.projectionDelta),x=this.getTransformTemplate(),y=x?x(this.latestValues,""):void 0,b=y!==this.prevTransformTemplateValue;h&&this.instance&&(p||ba(this.latestValues)||b)&&(d(this.instance,y),this.shouldResetTransform=!1,this.scheduleRender())}measure(h=!0){const p=this.measurePageBox();let x=this.removeElementScroll(p);return h&&(x=this.removeTransform(x)),gT(x),{animationId:this.root.animationId,measuredBox:p,layoutBox:x,latestValues:{},source:this.id}}measurePageBox(){var y;const{visualElement:h}=this.options;if(!h)return Qe();const p=h.measureViewportBox();if(!(((y=this.scroll)==null?void 0:y.wasRoot)||this.path.some(xT))){const{scroll:b}=this.root;b&&(ds(p.x,b.offset.x),ds(p.y,b.offset.y))}return p}removeElementScroll(h){var x;const p=Qe();if(Yt(p,h),(x=this.scroll)!=null&&x.wasRoot)return p;for(let y=0;y<this.path.length;y++){const b=this.path[y],{scroll:v,options:j}=b;b!==this.root&&v&&j.layoutScroll&&(v.wasRoot&&Yt(p,h),ds(p.x,v.offset.x),ds(p.y,v.offset.y))}return p}applyTransform(h,p=!1){const x=Qe();Yt(x,h);for(let y=0;y<this.path.length;y++){const b=this.path[y];!p&&b.options.layoutScroll&&b.scroll&&b!==b.root&&fs(x,{x:-b.scroll.offset.x,y:-b.scroll.offset.y}),ba(b.latestValues)&&fs(x,b.latestValues)}return ba(this.latestValues)&&fs(x,this.latestValues),x}removeTransform(h){const p=Qe();Yt(p,h);for(let x=0;x<this.path.length;x++){const y=this.path[x];if(!y.instance||!ba(y.latestValues))continue;ju(y.latestValues)&&y.updateSnapshot();const b=Qe(),v=y.measurePageBox();Yt(b,v),iy(p,y.latestValues,y.snapshot?y.snapshot.layoutBox:void 0,b)}return ba(this.latestValues)&&iy(p,this.latestValues),p}setTargetDelta(h){this.targetDelta=h,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(h){this.options={...this.options,...h,crossfade:h.crossfade!==void 0?h.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==st.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(h=!1){var D;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const x=!!this.resumingFrom||this!==p;if(!(h||x&&this.isSharedProjectionDirty||this.isProjectionDirty||(D=this.parent)!=null&&D.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:v}=this.options;if(!this.layout||!(b||v))return;this.resolvedRelativeTargetAt=st.timestamp;const j=this.getClosestProjectingParent();j&&this.linkedParentVersion!==j.layoutVersion&&!j.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(j&&j.layout?this.createRelativeTarget(j,this.layout.layoutBox,j.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Qe(),this.targetWithTransforms=Qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Hj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yt(this.target,this.layout.layoutBox),J0(this.target,this.targetDelta)):Yt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,j&&!!j.resumingFrom==!!this.resumingFrom&&!j.options.layoutScroll&&j.target&&this.animationProgress!==1?this.createRelativeTarget(j,this.target,j.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ju(this.parent.latestValues)||W0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(h,p,x){this.relativeParent=h,this.linkedParentVersion=h.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qe(),this.relativeTargetOrigin=Qe(),ur(this.relativeTargetOrigin,p,x),Yt(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var k;const h=this.getLead(),p=!!this.resumingFrom||this!==h;let x=!0;if((this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty)&&(x=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(x=!1),this.resolvedRelativeTargetAt===st.timestamp&&(x=!1),x)return;const{layout:y,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||b))return;Yt(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,j=this.treeScale.y;yj(this.layoutCorrected,this.treeScale,this.path,p),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=Qe());const{target:D}=h;if(!D){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($p(this.prevProjectionDelta.x,this.projectionDelta.x),$p(this.prevProjectionDelta.y,this.projectionDelta.y)),gi(this.projectionDelta,this.layoutCorrected,D,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==j||!uy(this.projectionDelta.x,this.prevProjectionDelta.x)||!uy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",D))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(h=!0){var p;if((p=this.options.visualElement)==null||p.scheduleRender(),h){const x=this.getStack();x&&x.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=us(),this.projectionDelta=us(),this.projectionDeltaWithTransform=us()}setAnimationOrigin(h,p=!1){const x=this.snapshot,y=x?x.latestValues:{},b={...this.latestValues},v=us();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!p;const j=Qe(),D=x?x.source:void 0,k=this.layout?this.layout.source:void 0,L=D!==k,H=this.getStack(),B=!H||H.members.length<=1,G=!!(L&&!B&&this.options.crossfade===!0&&!this.path.some(pT));this.animationProgress=0;let P;this.mixTargetDelta=$=>{const Y=$/1e3;gy(v.x,h.x,Y),gy(v.y,h.y,Y),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ur(j,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mT(this.relativeTarget,this.relativeTargetOrigin,j,Y),P&&Yj(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=Qe()),Yt(P,this.relativeTarget)),L&&(this.animationValues=b,Qj(b,y,this.latestValues,Y,G,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Y},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(h){var p,x,y;this.notifyListeners("animationStart"),(p=this.currentAnimation)==null||p.stop(),(y=(x=this.resumingFrom)==null?void 0:x.currentAnimation)==null||y.stop(),this.pendingAnimation&&(Fn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_e.update(()=>{er.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ms(0)),this.currentAnimation=Wj(this.motionValue,[0,1e3],{...h,velocity:0,isSync:!0,onUpdate:b=>{this.mixTargetDelta(b),h.onUpdate&&h.onUpdate(b)},onStop:()=>{},onComplete:()=>{h.onComplete&&h.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const h=this.getStack();h&&h.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(nT),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const h=this.getLead();let{targetWithTransforms:p,target:x,layout:y,latestValues:b}=h;if(!(!p||!x||!y)){if(this!==h&&this.layout&&y&&yg(this.options.animationType,this.layout.layoutBox,y.layoutBox)){x=this.target||Qe();const v=ut(this.layout.layoutBox.x);x.x.min=h.target.x.min,x.x.max=x.x.min+v;const j=ut(this.layout.layoutBox.y);x.y.min=h.target.y.min,x.y.max=x.y.min+j}Yt(p,x),fs(p,b),gi(this.projectionDeltaWithTransform,this.layoutCorrected,p,b)}}registerSharedNode(h,p){this.sharedNodes.has(h)||this.sharedNodes.set(h,new tT),this.sharedNodes.get(h).add(p);const y=p.options.initialPromotionConfig;p.promote({transition:y?y.transition:void 0,preserveFollowOpacity:y&&y.shouldPreserveFollowOpacity?y.shouldPreserveFollowOpacity(p):void 0})}isLead(){const h=this.getStack();return h?h.lead===this:!0}getLead(){var p;const{layoutId:h}=this.options;return h?((p=this.getStack())==null?void 0:p.lead)||this:this}getPrevLead(){var p;const{layoutId:h}=this.options;return h?(p=this.getStack())==null?void 0:p.prevLead:void 0}getStack(){const{layoutId:h}=this.options;if(h)return this.root.sharedNodes.get(h)}promote({needsReset:h,transition:p,preserveFollowOpacity:x}={}){const y=this.getStack();y&&y.promote(this,x),h&&(this.projectionDelta=void 0,this.needsReset=!0),p&&this.setOptions({transition:p})}relegate(){const h=this.getStack();return h?h.relegate(this):!1}resetSkewAndRotation(){const{visualElement:h}=this.options;if(!h)return;let p=!1;const{latestValues:x}=h;if((x.z||x.rotate||x.rotateX||x.rotateY||x.rotateZ||x.skewX||x.skewY)&&(p=!0),!p)return;const y={};x.z&&Fc("z",h,y,this.animationValues);for(let b=0;b<Zc.length;b++)Fc(`rotate${Zc[b]}`,h,y,this.animationValues),Fc(`skew${Zc[b]}`,h,y,this.animationValues);h.render();for(const b in y)h.setStaticValue(b,y[b]),this.animationValues&&(this.animationValues[b]=y[b]);h.scheduleRender()}applyProjectionStyles(h,p){if(!this.instance||this.isSVG)return;if(!this.isVisible){h.visibility="hidden";return}const x=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,h.visibility="",h.opacity="",h.pointerEvents=$l(p==null?void 0:p.pointerEvents)||"",h.transform=x?x(this.latestValues,""):"none";return}const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=$l(p==null?void 0:p.pointerEvents)||""),this.hasProjected&&!ba(this.latestValues)&&(h.transform=x?x({},""):"none",this.hasProjected=!1);return}h.visibility="";const b=y.animationValues||y.latestValues;this.applyTransformsToTarget();let v=Ij(this.projectionDeltaWithTransform,this.treeScale,b);x&&(v=x(b,v)),h.transform=v;const{x:j,y:D}=this.projectionDelta;h.transformOrigin=`${j.origin*100}% ${D.origin*100}% 0`,y.animationValues?h.opacity=y===this?b.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:b.opacityExit:h.opacity=y===this?b.opacity!==void 0?b.opacity:"":b.opacityExit!==void 0?b.opacityExit:0;for(const k in Nu){if(b[k]===void 0)continue;const{correct:L,applyTo:H,isCSSVariable:B}=Nu[k],G=v==="none"?b[k]:L(b[k],y);if(H){const P=H.length;for(let $=0;$<P;$++)h[H[$]]=G}else B?this.options.visualElement.renderState.vars[k]=G:h[k]=G}this.options.layoutId&&(h.pointerEvents=y===this?$l(p==null?void 0:p.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(h=>{var p;return(p=h.currentAnimation)==null?void 0:p.stop()}),this.root.nodes.forEach(my),this.root.sharedNodes.clear()}}}function sT(a){a.updateLayout()}function iT(a){var o;const i=((o=a.resumeFrom)==null?void 0:o.snapshot)||a.snapshot;if(a.isLead()&&a.layout&&i&&a.hasListeners("didUpdate")){const{layoutBox:c,measuredBox:d}=a.layout,{animationType:m}=a.options,h=i.source!==a.layout.source;m==="size"?Jt(v=>{const j=h?i.measuredBox[v]:i.layoutBox[v],D=ut(j);j.min=c[v].min,j.max=j.min+D}):yg(m,i.layoutBox,c)&&Jt(v=>{const j=h?i.measuredBox[v]:i.layoutBox[v],D=ut(c[v]);j.max=j.min+D,a.relativeTarget&&!a.currentAnimation&&(a.isProjectionDirty=!0,a.relativeTarget[v].max=a.relativeTarget[v].min+D)});const p=us();gi(p,c,i.layoutBox);const x=us();h?gi(x,a.applyTransform(d,!0),i.measuredBox):gi(x,c,i.layoutBox);const y=!ug(p);let b=!1;if(!a.resumeFrom){const v=a.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:j,layout:D}=v;if(j&&D){const k=Qe();ur(k,i.layoutBox,j.layoutBox);const L=Qe();ur(L,c,D.layoutBox),dg(k,L)||(b=!0),v.options.layoutRoot&&(a.relativeTarget=L,a.relativeTargetOrigin=k,a.relativeParent=v)}}}a.notifyListeners("didUpdate",{layout:c,snapshot:i,delta:x,layoutDelta:p,hasLayoutChanged:y,hasRelativeLayoutChanged:b})}else if(a.isLead()){const{onExitComplete:c}=a.options;c&&c()}a.options.transition=void 0}function lT(a){a.parent&&(a.isProjecting()||(a.isProjectionDirty=a.parent.isProjectionDirty),a.isSharedProjectionDirty||(a.isSharedProjectionDirty=!!(a.isProjectionDirty||a.parent.isProjectionDirty||a.parent.isSharedProjectionDirty)),a.isTransformDirty||(a.isTransformDirty=a.parent.isTransformDirty))}function rT(a){a.isProjectionDirty=a.isSharedProjectionDirty=a.isTransformDirty=!1}function oT(a){a.clearSnapshot()}function my(a){a.clearMeasurements()}function py(a){a.isLayoutDirty=!1}function cT(a){const{visualElement:i}=a.options;i&&i.getProps().onBeforeLayoutMeasure&&i.notify("BeforeLayoutMeasure"),a.resetTransform()}function yy(a){a.finishAnimation(),a.targetDelta=a.relativeTarget=a.target=void 0,a.isProjectionDirty=!0}function uT(a){a.resolveTargetDelta()}function dT(a){a.calcProjection()}function fT(a){a.resetSkewAndRotation()}function hT(a){a.removeLeadSnapshot()}function gy(a,i,o){a.translate=ke(i.translate,0,o),a.scale=ke(i.scale,1,o),a.origin=i.origin,a.originPoint=i.originPoint}function xy(a,i,o,c){a.min=ke(i.min,o.min,c),a.max=ke(i.max,o.max,c)}function mT(a,i,o,c){xy(a.x,i.x,o.x,c),xy(a.y,i.y,o.y,c)}function pT(a){return a.animationValues&&a.animationValues.opacityExit!==void 0}const yT={duration:.45,ease:[.4,0,.1,1]},by=a=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(a),vy=by("applewebkit/")&&!by("chrome/")?Math.round:Ht;function Sy(a){a.min=vy(a.min),a.max=vy(a.max)}function gT(a){Sy(a.x),Sy(a.y)}function yg(a,i,o){return a==="position"||a==="preserve-aspect"&&!Pj(cy(i),cy(o),.2)}function xT(a){var i;return a!==a.root&&((i=a.scroll)==null?void 0:i.wasRoot)}const bT=pg({attachResizeListener:(a,i)=>Ti(a,"resize",i),measureScroll:()=>{var a,i;return{x:document.documentElement.scrollLeft||((a=document.body)==null?void 0:a.scrollLeft)||0,y:document.documentElement.scrollTop||((i=document.body)==null?void 0:i.scrollTop)||0}},checkIsScrollRoot:()=>!0}),Wc={current:void 0},gg=pg({measureScroll:a=>({x:a.scrollLeft,y:a.scrollTop}),defaultParent:()=>{if(!Wc.current){const a=new bT({});a.mount(window),a.setOptions({layoutScroll:!0}),Wc.current=a}return Wc.current},resetTransform:(a,i)=>{a.style.transform=i!==void 0?i:"none"},checkIsScrollRoot:a=>window.getComputedStyle(a).position==="fixed"}),xg=F.createContext({transformPagePoint:a=>a,isStatic:!1,reducedMotion:"never"});function vT(a=!0){const i=F.useContext(Du);if(i===null)return[!0,null];const{isPresent:o,onExitComplete:c,register:d}=i,m=F.useId();F.useEffect(()=>{if(a)return d(m)},[a]);const h=F.useCallback(()=>a&&c&&c(m),[m,c,a]);return!o&&c?[!1,h]:[!0]}const bg=F.createContext({strict:!1}),jy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Ty=!1;function ST(){if(Ty)return;const a={};for(const i in jy)a[i]={isEnabled:o=>jy[i].some(c=>!!o[c])};Q0(a),Ty=!0}function vg(){return ST(),fj()}function jT(a){const i=vg();for(const o in a)i[o]={...i[o],...a[o]};Q0(i)}const TT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function dr(a){return a.startsWith("while")||a.startsWith("drag")&&a!=="draggable"||a.startsWith("layout")||a.startsWith("onTap")||a.startsWith("onPan")||a.startsWith("onLayout")||TT.has(a)}let Sg=a=>!dr(a);function NT(a){typeof a=="function"&&(Sg=i=>i.startsWith("on")?!dr(i):a(i))}try{NT(require("@emotion/is-prop-valid").default)}catch{}function AT(a,i,o){const c={};for(const d in a)d==="values"&&typeof a.values=="object"||(Sg(d)||o===!0&&dr(d)||!i&&!dr(d)||a.draggable&&d.startsWith("onDrag"))&&(c[d]=a[d]);return c}const mr=F.createContext({});function ET(a,i){if(hr(a)){const{initial:o,animate:c}=a;return{initial:o===!1||ji(o)?o:void 0,animate:ji(c)?c:void 0}}return a.inherit!==!1?i:{}}function _T(a){const{initial:i,animate:o}=ET(a,F.useContext(mr));return F.useMemo(()=>({initial:i,animate:o}),[Ny(i),Ny(o)])}function Ny(a){return Array.isArray(a)?a.join(" "):a}const sd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jg(a,i,o){for(const c in i)!lt(i[c])&&!tg(c,o)&&(a[c]=i[c])}function wT({transformTemplate:a},i){return F.useMemo(()=>{const o=sd();return nd(o,i,a),Object.assign({},o.vars,o.style)},[i])}function CT(a,i){const o=a.style||{},c={};return jg(c,o,a),Object.assign(c,wT(a,i)),c}function DT(a,i){const o={},c=CT(a,i);return a.drag&&a.dragListener!==!1&&(o.draggable=!1,c.userSelect=c.WebkitUserSelect=c.WebkitTouchCallout="none",c.touchAction=a.drag===!0?"none":`pan-${a.drag==="x"?"y":"x"}`),a.tabIndex===void 0&&(a.onTap||a.onTapStart||a.whileTap)&&(o.tabIndex=0),o.style=c,o}const Tg=()=>({...sd(),attrs:{}});function MT(a,i,o,c){const d=F.useMemo(()=>{const m=Tg();return ng(m,i,sg(c),a.transformTemplate,a.style),{...m.attrs,style:{...m.style}}},[i]);if(a.style){const m={};jg(m,a.style,a),d.style={...m,...d.style}}return d}const RT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function id(a){return typeof a!="string"||a.includes("-")?!1:!!(RT.indexOf(a)>-1||/[A-Z]/u.test(a))}function OT(a,i,o,{latestValues:c},d,m=!1,h){const x=(h??id(a)?MT:DT)(i,c,d,a),y=AT(i,typeof a=="string",m),b=a!==F.Fragment?{...y,...x,ref:o}:{},{children:v}=i,j=F.useMemo(()=>lt(v)?v.get():v,[v]);return F.createElement(a,{...b,children:j})}function kT({scrapeMotionValuesFromProps:a,createRenderState:i},o,c,d){return{latestValues:zT(o,c,d,a),renderState:i()}}function zT(a,i,o,c){const d={},m=c(a,{});for(const j in m)d[j]=$l(m[j]);let{initial:h,animate:p}=a;const x=hr(a),y=I0(a);i&&y&&!x&&a.inherit!==!1&&(h===void 0&&(h=i.initial),p===void 0&&(p=i.animate));let b=o?o.initial===!1:!1;b=b||h===!1;const v=b?p:h;if(v&&typeof v!="boolean"&&!fr(v)){const j=Array.isArray(v)?v:[v];for(let D=0;D<j.length;D++){const k=Qu(a,j[D]);if(k){const{transitionEnd:L,transition:H,...B}=k;for(const G in B){let P=B[G];if(Array.isArray(P)){const $=b?P.length-1:0;P=P[$]}P!==null&&(d[G]=P)}for(const G in L)d[G]=L[G]}}}return d}const Ng=a=>(i,o)=>{const c=F.useContext(mr),d=F.useContext(Du),m=()=>kT(a,i,c,d);return o?m():B1(m)},UT=Ng({scrapeMotionValuesFromProps:ad,createRenderState:sd}),BT=Ng({scrapeMotionValuesFromProps:ig,createRenderState:Tg}),VT=Symbol.for("motionComponentSymbol");function LT(a,i,o){const c=F.useRef(o);F.useInsertionEffect(()=>{c.current=o});const d=F.useRef(null);return F.useCallback(m=>{var p;m&&((p=a.onMount)==null||p.call(a,m)),i&&(m?i.mount(m):i.unmount());const h=c.current;if(typeof h=="function")if(m){const x=h(m);typeof x=="function"&&(d.current=x)}else d.current?(d.current(),d.current=null):h(m);else h&&(h.current=m)},[i])}const Ag=F.createContext({});function rs(a){return a&&typeof a=="object"&&Object.prototype.hasOwnProperty.call(a,"current")}function PT(a,i,o,c,d,m){var P,$;const{visualElement:h}=F.useContext(mr),p=F.useContext(bg),x=F.useContext(Du),y=F.useContext(xg),b=y.reducedMotion,v=y.skipAnimations,j=F.useRef(null),D=F.useRef(!1);c=c||p.renderer,!j.current&&c&&(j.current=c(a,{visualState:i,parent:h,props:o,presenceContext:x,blockInitialAnimation:x?x.initial===!1:!1,reducedMotionConfig:b,skipAnimations:v,isSVG:m}),D.current&&j.current&&(j.current.manuallyAnimateOnMount=!0));const k=j.current,L=F.useContext(Ag);k&&!k.projection&&d&&(k.type==="html"||k.type==="svg")&&HT(j.current,o,d,L);const H=F.useRef(!1);F.useInsertionEffect(()=>{k&&H.current&&k.update(o,x)});const B=o[O0],G=F.useRef(!!B&&!((P=window.MotionHandoffIsComplete)!=null&&P.call(window,B))&&(($=window.MotionHasOptimisedAnimation)==null?void 0:$.call(window,B)));return V1(()=>{D.current=!0,k&&(H.current=!0,window.MotionIsMounted=!0,k.updateFeatures(),k.scheduleRenderMicrotask(),G.current&&k.animationState&&k.animationState.animateChanges())}),F.useEffect(()=>{k&&(!G.current&&k.animationState&&k.animationState.animateChanges(),G.current&&(queueMicrotask(()=>{var Y;(Y=window.MotionHandoffMarkAsComplete)==null||Y.call(window,B)}),G.current=!1),k.enteringChildren=void 0)}),k}function HT(a,i,o,c){const{layoutId:d,layout:m,drag:h,dragConstraints:p,layoutScroll:x,layoutRoot:y,layoutCrossfade:b}=i;a.projection=new o(a.latestValues,i["data-framer-portal-id"]?void 0:Eg(a.parent)),a.projection.setOptions({layoutId:d,layout:m,alwaysMeasureLayout:!!h||p&&rs(p),visualElement:a,animationType:typeof m=="string"?m:"both",initialPromotionConfig:c,crossfade:b,layoutScroll:x,layoutRoot:y})}function Eg(a){if(a)return a.options.allowProjection!==!1?a.projection:Eg(a.parent)}function Jc(a,{forwardMotionProps:i=!1,type:o}={},c,d){c&&jT(c);const m=o?o==="svg":id(a),h=m?BT:UT;function p(y,b){let v;const j={...F.useContext(xg),...y,layoutId:qT(y)},{isStatic:D}=j,k=_T(y),L=h(y,D);if(!D&&Qy){GT();const H=KT(j);v=H.MeasureLayout,k.visualElement=PT(a,L,j,d,H.ProjectionNode,m)}return l.jsxs(mr.Provider,{value:k,children:[v&&k.visualElement?l.jsx(v,{visualElement:k.visualElement,...j}):null,OT(a,y,LT(L,k.visualElement,b),L,D,i,m)]})}p.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const x=F.forwardRef(p);return x[VT]=a,x}function qT({layoutId:a}){const i=F.useContext(Xy).id;return i&&a!==void 0?i+"-"+a:a}function GT(a,i){F.useContext(bg).strict}function KT(a){const i=vg(),{drag:o,layout:c}=i;if(!o&&!c)return{};const d={...o,...c};return{MeasureLayout:o!=null&&o.isEnabled(a)||c!=null&&c.isEnabled(a)?d.MeasureLayout:void 0,ProjectionNode:d.ProjectionNode}}function YT(a,i){if(typeof Proxy>"u")return Jc;const o=new Map,c=(m,h)=>Jc(m,h,a,i),d=(m,h)=>c(m,h);return new Proxy(d,{get:(m,h)=>h==="create"?c:(o.has(h)||o.set(h,Jc(h,void 0,a,i)),o.get(h))})}const IT=(a,i)=>i.isSVG??id(a)?new Cj(i):new Tj(i,{allowProjection:a!==F.Fragment});class XT extends Jn{constructor(i){super(i),i.animationState||(i.animationState=kj(i))}updateAnimationControlsSubscription(){const{animate:i}=this.node.getProps();fr(i)&&(this.unmountControls=i.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:i}=this.node.getProps(),{animate:o}=this.node.prevProps||{};i!==o&&this.updateAnimationControlsSubscription()}unmount(){var i;this.node.animationState.reset(),(i=this.unmountControls)==null||i.call(this)}}let QT=0;class ZT extends Jn{constructor(){super(...arguments),this.id=QT++}update(){if(!this.node.presenceContext)return;const{isPresent:i,onExitComplete:o}=this.node.presenceContext,{isPresent:c}=this.node.prevPresenceContext||{};if(!this.node.animationState||i===c)return;const d=this.node.animationState.setActive("exit",!i);o&&!i&&d.then(()=>{o(this.id)})}mount(){const{register:i,onExitComplete:o}=this.node.presenceContext||{};o&&o(this.id),i&&(this.unmount=i(this.id))}unmount(){}}const FT={animation:{Feature:XT},exit:{Feature:ZT}};function _i(a){return{point:{x:a.pageX,y:a.pageY}}}const WT=a=>i=>Ju(i)&&a(i,_i(i));function xi(a,i,o,c){return Ti(a,i,WT(o),c)}const _g=({current:a})=>a?a.ownerDocument.defaultView:null,Ay=(a,i)=>Math.abs(a-i);function JT(a,i){const o=Ay(a.x,i.x),c=Ay(a.y,i.y);return Math.sqrt(o**2+c**2)}const Ey=new Set(["auto","scroll"]);class wg{constructor(i,o,{transformPagePoint:c,contextWindow:d=window,dragSnapToOrigin:m=!1,distanceThreshold:h=3,element:p}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=D=>{this.handleScroll(D.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=eu(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,L=JT(D.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!L)return;const{point:H}=D,{timestamp:B}=st;this.history.push({...H,timestamp:B});const{onStart:G,onMove:P}=this.handlers;k||(G&&G(this.lastMoveEvent,D),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,D)},this.handlePointerMove=(D,k)=>{this.lastMoveEvent=D,this.lastMoveEventInfo=$c(k,this.transformPagePoint),_e.update(this.updatePoint,!0)},this.handlePointerUp=(D,k)=>{this.end();const{onEnd:L,onSessionEnd:H,resumeAnimation:B}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&B&&B(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const G=eu(D.type==="pointercancel"?this.lastMoveEventInfo:$c(k,this.transformPagePoint),this.history);this.startEvent&&L&&L(D,G),H&&H(D,G)},!Ju(i))return;this.dragSnapToOrigin=m,this.handlers=o,this.transformPagePoint=c,this.distanceThreshold=h,this.contextWindow=d||window;const x=_i(i),y=$c(x,this.transformPagePoint),{point:b}=y,{timestamp:v}=st;this.history=[{...b,timestamp:v}];const{onSessionStart:j}=o;j&&j(i,eu(y,this.history)),this.removeListeners=Ni(xi(this.contextWindow,"pointermove",this.handlePointerMove),xi(this.contextWindow,"pointerup",this.handlePointerUp),xi(this.contextWindow,"pointercancel",this.handlePointerUp)),p&&this.startScrollTracking(p)}startScrollTracking(i){let o=i.parentElement;for(;o;){const c=getComputedStyle(o);(Ey.has(c.overflowX)||Ey.has(c.overflowY))&&this.scrollPositions.set(o,{x:o.scrollLeft,y:o.scrollTop}),o=o.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(i){const o=this.scrollPositions.get(i);if(!o)return;const c=i===window,d=c?{x:window.scrollX,y:window.scrollY}:{x:i.scrollLeft,y:i.scrollTop},m={x:d.x-o.x,y:d.y-o.y};m.x===0&&m.y===0||(c?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=m.x,this.lastMoveEventInfo.point.y+=m.y):this.history.length>0&&(this.history[0].x-=m.x,this.history[0].y-=m.y),this.scrollPositions.set(i,d),_e.update(this.updatePoint,!0))}updateHandlers(i){this.handlers=i}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Fn(this.updatePoint)}}function $c(a,i){return i?{point:i(a.point)}:a}function _y(a,i){return{x:a.x-i.x,y:a.y-i.y}}function eu({point:a},i){return{point:a,delta:_y(a,Cg(i)),offset:_y(a,$T(i)),velocity:eN(i,.1)}}function $T(a){return a[0]}function Cg(a){return a[a.length-1]}function eN(a,i){if(a.length<2)return{x:0,y:0};let o=a.length-1,c=null;const d=Cg(a);for(;o>=0&&(c=a[o],!(d.timestamp-c.timestamp>Xt(i)));)o--;if(!c)return{x:0,y:0};c===a[0]&&a.length>2&&d.timestamp-c.timestamp>Xt(i)*2&&(c=a[1]);const m=Pt(d.timestamp-c.timestamp);if(m===0)return{x:0,y:0};const h={x:(d.x-c.x)/m,y:(d.y-c.y)/m};return h.x===1/0&&(h.x=0),h.y===1/0&&(h.y=0),h}function tN(a,{min:i,max:o},c){return i!==void 0&&a<i?a=c?ke(i,a,c.min):Math.max(a,i):o!==void 0&&a>o&&(a=c?ke(o,a,c.max):Math.min(a,o)),a}function wy(a,i,o){return{min:i!==void 0?a.min+i:void 0,max:o!==void 0?a.max+o-(a.max-a.min):void 0}}function nN(a,{top:i,left:o,bottom:c,right:d}){return{x:wy(a.x,o,d),y:wy(a.y,i,c)}}function Cy(a,i){let o=i.min-a.min,c=i.max-a.max;return i.max-i.min<a.max-a.min&&([o,c]=[c,o]),{min:o,max:c}}function aN(a,i){return{x:Cy(a.x,i.x),y:Cy(a.y,i.y)}}function sN(a,i){let o=.5;const c=ut(a),d=ut(i);return d>c?o=bi(i.min,i.max-c,a.min):c>d&&(o=bi(a.min,a.max-d,i.min)),en(0,1,o)}function iN(a,i){const o={};return i.min!==void 0&&(o.min=i.min-a.min),i.max!==void 0&&(o.max=i.max-a.min),o}const Au=.35;function lN(a=Au){return a===!1?a=0:a===!0&&(a=Au),{x:Dy(a,"left","right"),y:Dy(a,"top","bottom")}}function Dy(a,i,o){return{min:My(a,i),max:My(a,o)}}function My(a,i){return typeof a=="number"?a:a[i]||0}const rN=new WeakMap;class oN{constructor(i){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=i}start(i,{snapToCursor:o=!1,distanceThreshold:c}={}){const{presenceContext:d}=this.visualElement;if(d&&d.isPresent===!1)return;const m=v=>{o&&this.snapToCursor(_i(v).point),this.stopAnimation()},h=(v,j)=>{const{drag:D,dragPropagation:k,onDragStart:L}=this.getProps();if(D&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qS(D),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=j,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Jt(B=>{let G=this.getAxisMotionValue(B).get()||0;if($t.test(G)){const{projection:P}=this.visualElement;if(P&&P.layout){const $=P.layout.layoutBox[B];$&&(G=ut($)*(parseFloat(G)/100))}}this.originPoint[B]=G}),L&&_e.update(()=>L(v,j),!1,!0),xu(this.visualElement,"transform");const{animationState:H}=this.visualElement;H&&H.setActive("whileDrag",!0)},p=(v,j)=>{this.latestPointerEvent=v,this.latestPanInfo=j;const{dragPropagation:D,dragDirectionLock:k,onDirectionLock:L,onDrag:H}=this.getProps();if(!D&&!this.openDragLock)return;const{offset:B}=j;if(k&&this.currentDirection===null){this.currentDirection=uN(B),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",j.point,B),this.updateAxis("y",j.point,B),this.visualElement.render(),H&&_e.update(()=>H(v,j),!1,!0)},x=(v,j)=>{this.latestPointerEvent=v,this.latestPanInfo=j,this.stop(v,j),this.latestPointerEvent=null,this.latestPanInfo=null},y=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:b}=this.getProps();this.panSession=new wg(i,{onSessionStart:m,onStart:h,onMove:p,onSessionEnd:x,resumeAnimation:y},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:b,distanceThreshold:c,contextWindow:_g(this.visualElement),element:this.visualElement.current})}stop(i,o){const c=i||this.latestPointerEvent,d=o||this.latestPanInfo,m=this.isDragging;if(this.cancel(),!m||!d||!c)return;const{velocity:h}=d;this.startAnimation(h);const{onDragEnd:p}=this.getProps();p&&_e.postRender(()=>p(c,d))}cancel(){this.isDragging=!1;const{projection:i,animationState:o}=this.visualElement;i&&(i.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:c}=this.getProps();!c&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),o&&o.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(i,o,c){const{drag:d}=this.getProps();if(!c||!Ql(i,d,this.currentDirection))return;const m=this.getAxisMotionValue(i);let h=this.originPoint[i]+c[i];this.constraints&&this.constraints[i]&&(h=tN(h,this.constraints[i],this.elastic[i])),m.set(h)}resolveConstraints(){var m;const{dragConstraints:i,dragElastic:o}=this.getProps(),c=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(m=this.visualElement.projection)==null?void 0:m.layout,d=this.constraints;i&&rs(i)?this.constraints||(this.constraints=this.resolveRefConstraints()):i&&c?this.constraints=nN(c.layoutBox,i):this.constraints=!1,this.elastic=lN(o),d!==this.constraints&&!rs(i)&&c&&this.constraints&&!this.hasMutatedConstraints&&Jt(h=>{this.constraints!==!1&&this.getAxisMotionValue(h)&&(this.constraints[h]=iN(c.layoutBox[h],this.constraints[h]))})}resolveRefConstraints(){const{dragConstraints:i,onMeasureDragConstraints:o}=this.getProps();if(!i||!rs(i))return!1;const c=i.current,{projection:d}=this.visualElement;if(!d||!d.layout)return!1;const m=gj(c,d.root,this.visualElement.getTransformPagePoint());let h=aN(d.layout.layoutBox,m);if(o){const p=o(mj(h));this.hasMutatedConstraints=!!p,p&&(h=F0(p))}return h}startAnimation(i){const{drag:o,dragMomentum:c,dragElastic:d,dragTransition:m,dragSnapToOrigin:h,onDragTransitionEnd:p}=this.getProps(),x=this.constraints||{},y=Jt(b=>{if(!Ql(b,o,this.currentDirection))return;let v=x&&x[b]||{};h&&(v={min:0,max:0});const j=d?200:1e6,D=d?40:1e7,k={type:"inertia",velocity:c?i[b]:0,bounceStiffness:j,bounceDamping:D,timeConstant:750,restDelta:1,restSpeed:10,...m,...v};return this.startAxisValueAnimation(b,k)});return Promise.all(y).then(p)}startAxisValueAnimation(i,o){const c=this.getAxisMotionValue(i);return xu(this.visualElement,i),c.start(Xu(i,c,0,o,this.visualElement,!1))}stopAnimation(){Jt(i=>this.getAxisMotionValue(i).stop())}getAxisMotionValue(i){const o=`_drag${i.toUpperCase()}`,c=this.visualElement.getProps(),d=c[o];return d||this.visualElement.getValue(i,(c.initial?c.initial[i]:void 0)||0)}snapToCursor(i){Jt(o=>{const{drag:c}=this.getProps();if(!Ql(o,c,this.currentDirection))return;const{projection:d}=this.visualElement,m=this.getAxisMotionValue(o);if(d&&d.layout){const{min:h,max:p}=d.layout.layoutBox[o],x=m.get()||0;m.set(i[o]-ke(h,p,.5)+x)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:i,dragConstraints:o}=this.getProps(),{projection:c}=this.visualElement;if(!rs(o)||!c||!this.constraints)return;this.stopAnimation();const d={x:0,y:0};Jt(h=>{const p=this.getAxisMotionValue(h);if(p&&this.constraints!==!1){const x=p.get();d[h]=sN({min:x,max:x},this.constraints[h])}});const{transformTemplate:m}=this.visualElement.getProps();this.visualElement.current.style.transform=m?m({},""):"none",c.root&&c.root.updateScroll(),c.updateLayout(),this.constraints=!1,this.resolveConstraints(),Jt(h=>{if(!Ql(h,i,null))return;const p=this.getAxisMotionValue(h),{min:x,max:y}=this.constraints[h];p.set(ke(x,y,d[h]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;rN.set(this.visualElement,this);const i=this.visualElement.current,o=xi(i,"pointerdown",y=>{const{drag:b,dragListener:v=!0}=this.getProps(),j=y.target,D=j!==i&&QS(j);b&&v&&!D&&this.start(y)});let c;const d=()=>{const{dragConstraints:y}=this.getProps();rs(y)&&y.current&&(this.constraints=this.resolveRefConstraints(),c||(c=cN(i,y.current,()=>this.scalePositionWithinConstraints())))},{projection:m}=this.visualElement,h=m.addEventListener("measure",d);m&&!m.layout&&(m.root&&m.root.updateScroll(),m.updateLayout()),_e.read(d);const p=Ti(window,"resize",()=>this.scalePositionWithinConstraints()),x=m.addEventListener("didUpdate",(({delta:y,hasLayoutChanged:b})=>{this.isDragging&&b&&(Jt(v=>{const j=this.getAxisMotionValue(v);j&&(this.originPoint[v]+=y[v].translate,j.set(j.get()+y[v].translate))}),this.visualElement.render())}));return()=>{p(),o(),h(),x&&x(),c&&c()}}getProps(){const i=this.visualElement.getProps(),{drag:o=!1,dragDirectionLock:c=!1,dragPropagation:d=!1,dragConstraints:m=!1,dragElastic:h=Au,dragMomentum:p=!0}=i;return{...i,drag:o,dragDirectionLock:c,dragPropagation:d,dragConstraints:m,dragElastic:h,dragMomentum:p}}}function Ry(a){let i=!0;return()=>{if(i){i=!1;return}a()}}function cN(a,i,o){const c=Hp(a,Ry(o)),d=Hp(i,Ry(o));return()=>{c(),d()}}function Ql(a,i,o){return(i===!0||i===a)&&(o===null||o===a)}function uN(a,i=10){let o=null;return Math.abs(a.y)>i?o="y":Math.abs(a.x)>i&&(o="x"),o}class dN extends Jn{constructor(i){super(i),this.removeGroupControls=Ht,this.removeListeners=Ht,this.controls=new oN(i)}mount(){const{dragControls:i}=this.node.getProps();i&&(this.removeGroupControls=i.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ht}update(){const{dragControls:i}=this.node.getProps(),{dragControls:o}=this.node.prevProps||{};i!==o&&(this.removeGroupControls(),i&&(this.removeGroupControls=i.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const tu=a=>(i,o)=>{a&&_e.update(()=>a(i,o),!1,!0)};class fN extends Jn{constructor(){super(...arguments),this.removePointerDownListener=Ht}onPointerDown(i){this.session=new wg(i,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_g(this.node)})}createPanHandlers(){const{onPanSessionStart:i,onPanStart:o,onPan:c,onPanEnd:d}=this.node.getProps();return{onSessionStart:tu(i),onStart:tu(o),onMove:tu(c),onEnd:(m,h)=>{delete this.session,d&&_e.postRender(()=>d(m,h))}}}mount(){this.removePointerDownListener=xi(this.node.current,"pointerdown",i=>this.onPointerDown(i))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let nu=!1;class hN extends F.Component{componentDidMount(){const{visualElement:i,layoutGroup:o,switchLayoutGroup:c,layoutId:d}=this.props,{projection:m}=i;m&&(o.group&&o.group.add(m),c&&c.register&&d&&c.register(m),nu&&m.root.didUpdate(),m.addEventListener("animationComplete",()=>{this.safeToRemove()}),m.setOptions({...m.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),er.hasEverUpdated=!0}getSnapshotBeforeUpdate(i){const{layoutDependency:o,visualElement:c,drag:d,isPresent:m}=this.props,{projection:h}=c;return h&&(h.isPresent=m,i.layoutDependency!==o&&h.setOptions({...h.options,layoutDependency:o}),nu=!0,d||i.layoutDependency!==o||o===void 0||i.isPresent!==m?h.willUpdate():this.safeToRemove(),i.isPresent!==m&&(m?h.promote():h.relegate()||_e.postRender(()=>{const p=h.getStack();(!p||!p.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:i}=this.props.visualElement;i&&(i.root.didUpdate(),Wu.postRender(()=>{!i.currentAnimation&&i.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:i,layoutGroup:o,switchLayoutGroup:c}=this.props,{projection:d}=i;nu=!0,d&&(d.scheduleCheckAfterUnmount(),o&&o.group&&o.group.remove(d),c&&c.deregister&&c.deregister(d))}safeToRemove(){const{safeToRemove:i}=this.props;i&&i()}render(){return null}}function Dg(a){const[i,o]=vT(),c=F.useContext(Xy);return l.jsx(hN,{...a,layoutGroup:c,switchLayoutGroup:F.useContext(Ag),isPresent:i,safeToRemove:o})}const mN={pan:{Feature:fN},drag:{Feature:dN,ProjectionNode:gg,MeasureLayout:Dg}};function Oy(a,i,o){const{props:c}=a;a.animationState&&c.whileHover&&a.animationState.setActive("whileHover",o==="Start");const d="onHover"+o,m=c[d];m&&_e.postRender(()=>m(i,_i(i)))}class pN extends Jn{mount(){const{current:i}=this.node;i&&(this.unmount=KS(i,(o,c)=>(Oy(this.node,c,"Start"),d=>Oy(this.node,d,"End"))))}unmount(){}}class yN extends Jn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let i=!1;try{i=this.node.current.matches(":focus-visible")}catch{i=!0}!i||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ni(Ti(this.node.current,"focus",()=>this.onFocus()),Ti(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ky(a,i,o){const{props:c}=a;if(a.current instanceof HTMLButtonElement&&a.current.disabled)return;a.animationState&&c.whileTap&&a.animationState.setActive("whileTap",o==="Start");const d="onTap"+(o==="End"?"":o),m=c[d];m&&_e.postRender(()=>m(i,_i(i)))}class gN extends Jn{mount(){const{current:i}=this.node;if(!i)return;const{globalTapTarget:o,propagate:c}=this.node.props;this.unmount=FS(i,(d,m)=>(ky(this.node,m,"Start"),(h,{success:p})=>ky(this.node,h,p?"End":"Cancel")),{useGlobalTarget:o,stopPropagation:(c==null?void 0:c.tap)===!1})}unmount(){}}const Eu=new WeakMap,au=new WeakMap,xN=a=>{const i=Eu.get(a.target);i&&i(a)},bN=a=>{a.forEach(xN)};function vN({root:a,...i}){const o=a||document;au.has(o)||au.set(o,{});const c=au.get(o),d=JSON.stringify(i);return c[d]||(c[d]=new IntersectionObserver(bN,{root:a,...i})),c[d]}function SN(a,i,o){const c=vN(i);return Eu.set(a,o),c.observe(a),()=>{Eu.delete(a),c.unobserve(a)}}const jN={some:0,all:1};class TN extends Jn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:i={}}=this.node.getProps(),{root:o,margin:c,amount:d="some",once:m}=i,h={root:o?o.current:void 0,rootMargin:c,threshold:typeof d=="number"?d:jN[d]},p=x=>{const{isIntersecting:y}=x;if(this.isInView===y||(this.isInView=y,m&&!y&&this.hasEnteredView))return;y&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",y);const{onViewportEnter:b,onViewportLeave:v}=this.node.getProps(),j=y?b:v;j&&j(x)};return SN(this.node.current,h,p)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:i,prevProps:o}=this.node;["amount","margin","root"].some(NN(i,o))&&this.startObserver()}unmount(){}}function NN({viewport:a={}},{viewport:i={}}={}){return o=>a[o]!==i[o]}const AN={inView:{Feature:TN},tap:{Feature:gN},focus:{Feature:yN},hover:{Feature:pN}},EN={layout:{ProjectionNode:gg,MeasureLayout:Dg}},_N={...FT,...AN,...mN,...EN},wN=YT(_N,IT),ye=({children:a,variant:i="default",className:o})=>{const c={default:"bg-slate-100 text-slate-700 border-slate-200",neutral:"bg-gray-100 text-gray-700 border-gray-200",success:"bg-emerald-50 text-emerald-700 border-emerald-200",warning:"bg-amber-50 text-amber-700 border-amber-200",danger:"bg-rose-50 text-rose-700 border-rose-200",info:"bg-blue-50 text-blue-700 border-blue-200"};return l.jsx("span",{className:Iy("inline-flex items-center rounded-md border px-2 py-1 text-xs font-medium",c[i],o),children:a})},zy=()=>{const[a,i]=F.useState(0),o=[{title:"Client Initiates",desc:"Client selects service & 'Pay Online'. Supports full payment or deposit.",actors:["Client","B2C App"],detail:"POST /api/client/v1/payments/checkout { booking_type, booking_id, payment_type: 'deposit' }"},{title:"Dependency Injection",desc:"API loads config & resolves Gateway via Factory.",actors:["bookit API","GatewayFactory"],detail:"GatewayFactory.createForBusiness()  Resolves KashierGateway or PaymobGateway based on admin config."},{title:"Session Creation",desc:"Gateway creates session/intention (Server-to-Server).",actors:["bookit API","Provider API"],detail:"POST /sessions (Kashier) OR POST /intention (Paymob). Returns session_url to API."},{title:"DB Tracking",desc:"Store PaymentSession in Database.",actors:["bookit API","DB"],detail:"Create PaymentSession: { provider_session_id, status: 'created', payment_type: 'deposit' }"},{title:"User Redirect",desc:"Client redirected to Provider Hosted Page.",actors:["Client","Provider"],detail:"Client enters card details. 3DS verification handled by provider page."},{title:"Parallel Completion",desc:"Redirect (UX) & Webhook (Truth) happen in parallel.",actors:["Provider","bookit API"],detail:"Redirect  /redirect (Update to 'processing'). Webhook  /webhook (Verify HMAC  Update to 'paid')."}];return l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[l.jsxs("div",{className:"flex justify-between items-start mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Executive Summary"}),l.jsx("p",{className:"text-slate-600 mt-2",children:"B2C Payment Integration  Multi-Provider Architecture (Kashier + Paymob)."})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(ye,{variant:"info",children:"Branch: dev"}),l.jsx(ye,{variant:"warning",children:"Target: 2026-02-16"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-100",children:[l.jsxs("h3",{className:"font-semibold text-slate-800 mb-2 flex items-center gap-2",children:[l.jsx(su,{size:16})," Multi-Provider DI"]}),l.jsxs("p",{className:"text-sm text-slate-600",children:[l.jsx("strong",{children:"Abstraction:"})," ",l.jsx("code",{children:"GatewayFactory"})," resolves ",l.jsx("strong",{children:"Kashier"})," or ",l.jsx("strong",{children:"Paymob"})," at runtime via a unified ",l.jsx("code",{children:"PaymentGatewayProvider"})," interface."]})]}),l.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-100",children:[l.jsxs("h3",{className:"font-semibold text-slate-800 mb-2 flex items-center gap-2",children:[l.jsx(tr,{size:16})," Admin Control"]}),l.jsxs("p",{className:"text-sm text-slate-600",children:[l.jsx("strong",{children:"Assignment:"})," Admins assign providers per business. ",l.jsx("strong",{children:"No per-business secrets stored"}),"only public Merchant IDs."]})]}),l.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border border-slate-100",children:[l.jsxs("h3",{className:"font-semibold text-slate-800 mb-2 flex items-center gap-2",children:[l.jsx(nr,{size:16})," Env Auto-Switching"]}),l.jsxs("p",{className:"text-sm text-slate-600",children:[l.jsx("strong",{children:"Zero-Config:"})," ",l.jsx("code",{children:"NODE_ENV"})," automatically selects Test/Live credentials and URLs for both providers."]})]})]}),l.jsxs("div",{className:"mt-10 pt-10 border-t border-slate-200",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Detailed Payment Flow  Deposit Payment"}),l.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[l.jsx("div",{className:"flex-1 space-y-2",children:o.map((c,d)=>l.jsx("div",{onClick:()=>i(d),className:`p-4 rounded-lg border cursor-pointer transition-all ${a===d?"border-primary-500 bg-primary-50 shadow-md ring-1 ring-primary-200":"border-slate-200 hover:border-slate-300 hover:bg-slate-50"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{className:`text-sm font-bold ${a===d?"text-primary-700":"text-slate-700"}`,children:[d+1,". ",c.title]}),a===d&&l.jsx(bv,{size:16,className:"text-primary-500"})]})},d))}),l.jsx("div",{className:"flex-1 bg-slate-900 rounded-xl p-6 text-white flex flex-col justify-center min-h-[300px]",children:l.jsxs(wN.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4 text-primary-300",children:[a===0&&l.jsx(v1,{size:24}),a===1&&l.jsx(ar,{size:24}),a===2&&l.jsx(nr,{size:24}),a===3&&l.jsx(tr,{size:24}),a===4&&l.jsx(su,{size:24}),a===5&&l.jsx(CN,{size:24}),l.jsx("span",{className:"text-lg font-mono font-bold",children:o[a].title})]}),l.jsx("p",{className:"text-lg mb-6 leading-relaxed",children:o[a].desc}),l.jsxs("div",{className:"bg-slate-800 rounded p-4 font-mono text-xs text-green-300 border border-slate-700",children:[l.jsx("p",{className:"text-slate-400 mb-1",children:"// Technical Detail"}),o[a].detail]}),l.jsx("div",{className:"mt-6 flex flex-wrap gap-2",children:o[a].actors.map(c=>l.jsx("span",{className:"px-2 py-1 bg-slate-700 rounded text-xs text-slate-300",children:c},c))})]},a)})]})]})]})})},CN=({size:a})=>l.jsxs("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("polyline",{points:"9 11 12 14 22 4"}),l.jsx("path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"})]});var Oe=(a=>(a.P0="P0",a.P1="P1",a.P2="P2",a))(Oe||{});const Uy={admin:[{id:"SA-1",story:"Configure platform-level payment provider credentials (Kashier + Paymob keys in .env)",priority:Oe.P0},{id:"SA-2",story:"Enable/disable the pay_online PaymentMethod globally",priority:Oe.P0},{id:"SA-3",story:"View all payment transactions across all businesses with gateway/status/date filters",priority:Oe.P1},{id:"SA-4",story:"Initiate full/partial refunds for any completed online transaction",priority:Oe.P1},{id:"SA-5",story:"Assign a payment provider to a business (via admin text field)",priority:Oe.P0},{id:"SA-6",story:"See which payment provider was used per transaction (payment_gateway field)",priority:Oe.P1},{id:"SA-7",story:"Set system-wide default_payment_provider in DB",priority:Oe.P0},{id:"SA-8",story:"Register a business's connected account Merchant ID",priority:Oe.P0}],business:[{id:"BO-1",story:'Enable "Pay Online" for my business (requires admin config)',priority:Oe.P0},{id:"BO-3",story:"Configure services to accept full payment, deposit-only, or both",priority:Oe.P0},{id:"BO-4",story:"View online payment transactions for my business with filters",priority:Oe.P1},{id:"BO-5",story:"Request refunds (full or partial) for my business's transactions",priority:Oe.P1},{id:"BO-6",story:"See real-time payment status on each appointment/booking",priority:Oe.P1}],client:[{id:"CL-1",story:'Choose "Pay Online" when booking',priority:Oe.P0},{id:"CL-2",story:"Be redirected to provider payment page (Kashier or Paymob)",priority:Oe.P0},{id:"CL-3",story:"Be redirected back to B2C app after payment with confirmation",priority:Oe.P0},{id:"CL-4",story:"See clear payment status (paid_in_full, paid_deposit)",priority:Oe.P1},{id:"CL-5",story:"Pay deposit amount to reserve booking, with remaining balance shown",priority:Oe.P1},{id:"CL-6",story:"Receive notification on payment success/failure",priority:Oe.P2},{id:"CL-7",story:"Receive refund to original payment method when booking cancelled",priority:Oe.P2}]},DN=()=>{const[a,i]=F.useState("business");return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-slate-200",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"Domain Analysis"}),l.jsx("p",{className:"text-slate-600 mt-2",children:"User stories and entity impact analysis broken down by persona."})]}),l.jsx("div",{className:"flex border-b border-slate-200 bg-slate-50",children:Object.keys(Uy).map(o=>l.jsxs("button",{onClick:()=>i(o),className:`flex-1 py-4 text-sm font-medium capitalize transition-colors ${a===o?"bg-white text-primary-600 border-t-2 border-t-primary-600":"text-slate-500 hover:text-slate-700 hover:bg-slate-100"}`,children:[o," Persona"]},o))}),l.jsx("div",{className:"p-6",children:l.jsxs("table",{className:"w-full text-left border-collapse",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{className:"py-3 px-4 text-xs font-semibold text-slate-500 uppercase tracking-wider bg-slate-50 border-b",children:"ID"}),l.jsx("th",{className:"py-3 px-4 text-xs font-semibold text-slate-500 uppercase tracking-wider bg-slate-50 border-b",children:"Story"}),l.jsx("th",{className:"py-3 px-4 text-xs font-semibold text-slate-500 uppercase tracking-wider bg-slate-50 border-b",children:"Priority"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:Uy[a].map(o=>l.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[l.jsx("td",{className:"py-3 px-4 font-mono text-sm text-slate-600",children:o.id}),l.jsx("td",{className:"py-3 px-4 text-sm text-slate-800",children:o.story}),l.jsx("td",{className:"py-3 px-4",children:l.jsx(ye,{variant:o.priority===Oe.P0?"danger":o.priority===Oe.P1?"warning":"info",children:o.priority})})]},o.id))})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[l.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"Affected Modules"}),l.jsxs("ul",{className:"space-y-3",children:[l.jsxs("li",{className:"flex items-start justify-between",children:[l.jsx("span",{className:"font-mono text-sm text-purple-600",children:"modules/payments/"}),l.jsx(ye,{variant:"danger",children:"MAJOR"})]}),l.jsx("li",{className:"text-xs text-slate-500 mb-2",children:"New gateway layer, checkout/webhook controllers, session model, config model."}),l.jsxs("li",{className:"flex items-start justify-between border-t pt-2",children:[l.jsx("span",{className:"font-mono text-sm text-purple-600",children:"modules/appointments/"}),l.jsx(ye,{variant:"warning",children:"MEDIUM"})]}),l.jsx("li",{className:"text-xs text-slate-500 mb-2",children:"Expand payment_status ENUM (paid_in_full, paid_deposit, cancelled)."}),l.jsxs("li",{className:"flex items-start justify-between border-t pt-2",children:[l.jsx("span",{className:"font-mono text-sm text-purple-600",children:"modules/bookings/"}),l.jsx(ye,{variant:"warning",children:"MEDIUM"})]}),l.jsx("li",{className:"text-xs text-slate-500 mb-2",children:"Same as appointments for ClassBooking."}),l.jsxs("li",{className:"flex items-start justify-between border-t pt-2",children:[l.jsx("span",{className:"font-mono text-sm text-purple-600",children:"modules/businesses/"}),l.jsx(ye,{variant:"info",children:"MINOR"})]}),l.jsx("li",{className:"text-xs text-slate-500",children:"New hasOne BusinessPaymentConfig association."})]})]}),l.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[l.jsx("h3",{className:"font-bold text-slate-900 mb-4",children:"New Entity Map"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-3 bg-slate-50 rounded border border-slate-200",children:[l.jsx("div",{className:"font-semibold text-sm",children:"BusinessPaymentConfig"}),l.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:[l.jsx("code",{children:"payment_provider"})," ('kashier'|'paymob')",l.jsx("br",{}),l.jsx("code",{children:"provider_merchant_id"})," (MID/SubAccount)",l.jsx("br",{}),l.jsx("code",{children:"provider_config"})," (Integration ID)"]})]}),l.jsxs("div",{className:"p-3 bg-slate-50 rounded border border-slate-200",children:[l.jsx("div",{className:"font-semibold text-sm",children:"PaymentSession"}),l.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:["Lifecycle tracking. ",l.jsx("code",{children:"provider_session_id"}),". Status: created, pending, paid, failed, expired."]})]}),l.jsxs("div",{className:"p-3 bg-slate-50 rounded border border-slate-200",children:[l.jsx("div",{className:"font-semibold text-sm",children:"ServicePaymentConfig"}),l.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:["Per-service rules. ",l.jsx("code",{children:"payment_type"})," (full/deposit/both)."]})]}),l.jsxs("div",{className:"p-3 bg-slate-50 rounded border border-slate-200",children:[l.jsx("div",{className:"font-semibold text-sm",children:"SystemSettings"}),l.jsxs("div",{className:"text-xs text-slate-600 mt-1",children:["Global KV Store. ",l.jsx("code",{children:"default_payment_provider"}),"."]})]})]})]})]})]})},Me=({language:a="json",code:i,title:o})=>l.jsxs("div",{className:"my-6 rounded-lg border border-slate-200 bg-slate-900 overflow-hidden shadow-sm",children:[o&&l.jsxs("div",{className:"flex items-center justify-between bg-slate-800 px-4 py-2 text-xs font-medium text-slate-400 border-b border-slate-700",children:[l.jsx("span",{children:o}),l.jsx("span",{className:"uppercase",children:a})]}),l.jsx("pre",{className:"overflow-x-auto p-4 text-sm text-slate-300 font-mono leading-relaxed",children:l.jsx("code",{children:i.trim()})})]}),MN=()=>l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"bg-slate-900 rounded-xl p-8 shadow-sm border border-slate-700 text-slate-300",children:[l.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[l.jsx(Pc,{size:20,className:"text-primary-400"})," Appendix A: Complete File Structure"]}),l.jsx("pre",{className:"text-xs font-mono leading-relaxed bg-slate-950 p-4 rounded border border-slate-800",children:`bookit-api/
 controllers/                       [HTTP HANDLERS]
    checkoutController.js          [B2C checkout initiation + status polling]
    webhookController.js           [Provider callback + redirect handling]
    refundController.js            [Admin refund endpoint]
    settingsController.js          [Provider assignment + service config]
 gateways/                          [PROVIDER LAYER]
    PaymentGatewayProvider.js      [Abstract base class]
    KashierGateway.js              [Kashier v3 implementation]
    PaymobGateway.js               [Paymob Intention implementation]
    GatewayFactory.js              [DI factory  only entry point for consumers]
 middleware/                        [SECURITY]
    verifyKashierWebhook.js        [HMAC-SHA256  x-kashier-signature header]
    verifyPaymobWebhook.js         [HMAC-SHA512  20 predefined fields]
 models/                            [SEQUELIZE MODELS]
    businesspaymentconfig.js       [Per-business provider assignment]
    paymentsession.js              [Session lifecycle tracking]
    systemsettings.js              [Global platform defaults (key/value)]
    servicepaymentconfig.js        [Deposit rules per service]
    paymenttransaction.js          [Payment ledger  never delete rows]
    paymentrefund.js               [Refund audit trail]
 services/                          [BUSINESS LOGIC]
    onlinePaymentService.js        [initiateCheckout, handleWebhook, processRefund]
    reconciliationService.js       [Cron: resolve stale sessions via gateway poll]
 routes/                            [ROUTING]
    payments.js                    [All payment routes (modular router)]
 utils/                             [HELPERS]
    amountHelpers.js               [toCents, toDecimalString, calculateDepositAmount]
 index.js                           [Express server  mounts all routes]`})]}),l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"3. Tech Architecture (Backend)"}),l.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[l.jsx(ar,{size:18,className:"text-primary-600"})," 3.3 Gateway Layer"]}),l.jsxs("div",{className:"mb-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 text-xs text-amber-800",children:[l.jsx("p",{className:"font-bold mb-1",children:"Kashier v3 Field Corrections"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[l.jsxs("li",{children:[l.jsx("code",{children:"order"}),"  not ",l.jsx("code",{children:"orderId"})]}),l.jsxs("li",{children:[l.jsx("code",{children:"merchantRedirect"}),"  not ",l.jsx("code",{children:"backUrl"})]}),l.jsxs("li",{children:[l.jsx("code",{children:"type: 'one-time'"}),"  not ",l.jsx("code",{children:"'CHECKOUT'"})]}),l.jsxs("li",{children:["Response: ",l.jsx("code",{children:"_id"}),"  not ",l.jsx("code",{children:"session_id"})]}),l.jsxs("li",{children:["Response: use ",l.jsx("code",{children:"sessionUrl"})," directly from API"]})]})]}),l.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 text-xs text-amber-800",children:[l.jsx("p",{className:"font-bold mb-1",children:"Paymob Intention Corrections"}),l.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[l.jsxs("li",{children:["Response returns ",l.jsx("code",{children:"client_secret"}),"  drives checkout URL"]}),l.jsxs("li",{children:["URL: ",l.jsx("code",{children:"/unifiedcheckout/?publicKey=&clientSecret="})]}),l.jsxs("li",{children:[l.jsx("code",{children:"publicKey"})," required in config + factory mapping"]}),l.jsxs("li",{children:[l.jsx("code",{children:"payment_methods[0].url"})," is NOT the checkout URL"]})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(Me,{title:"gateways/PaymentGatewayProvider.js",language:"javascript",code:`// gateways/PaymentGatewayProvider.js
// Abstract base class. All gateway implementations MUST extend this.
// The rest of the app depends only on this interface  never on a concrete class.

class PaymentGatewayProvider {
  constructor(config) {
    // Prevent direct instantiation  this is an abstract class pattern in JS
    if (new.target === PaymentGatewayProvider) {
      throw new Error('Cannot instantiate abstract class PaymentGatewayProvider');
    }
    this.config  = config;        // Full config object from GatewayFactory
    this.providerName = 'unknown';
  }

  /**
   * Create a payment session and return a redirect URL for the customer.
   * @param {Object} params
   * @param {number}   params.amount      - Amount in EGP (decimal, e.g. 150.00)
   * @param {string}   params.currency    - ISO currency code (e.g. 'EGP')
   * @param {string}   params.orderId     - Your internal reference (TXN-xxxx)
   * @param {string}   params.merchantId  - Business's gateway merchant ID
   * @param {string}   params.redirectUrl - URL provider sends customer back to
   * @param {string}   params.webhookUrl  - URL provider sends server notifications to
   * @param {Object}   params.customer    - { email, phone, name, reference }
   * @param {Object}   params.metadata    - Arbitrary key/value stored on the session
   * @param {string}   params.display     - Locale for checkout UI ('en' | 'ar')
   * @returns {Promise<{ sessionId: string, sessionUrl: string, providerResponse: object }>}
   */
  async createSession(params)        { throw new Error('createSession() not implemented'); }

  /**
   * Poll the gateway for the current status of a session.
   * Used by the reconciliation cron when a webhook was never received.
   * @param {string} sessionId - The provider's session/intention ID
   * @returns {Promise<{ status: string, transactionId: string, amount: number, providerResponse: object }>}
   */
  async getSessionStatus(sessionId)  { throw new Error('getSessionStatus() not implemented'); }

  /**
   * Initiate a refund for a completed transaction.
   * @param {Object} params
   * @param {string}  params.orderId      - Gateway's own transaction ID (not our reference)
   * @param {number}  params.amount       - Amount to refund in EGP
   * @param {string}  params.reason       - Human-readable reason for audit trail
   * @param {boolean} params.isFullRefund - Hint to the gateway (some treat this differently)
   * @returns {Promise<{ refundId: string, status: string, providerResponse: object }>}
   */
  async refund(params)               { throw new Error('refund() not implemented'); }

  /**
   * Verify merchant credentials against the live gateway API.
   * Called during admin onboarding to validate a new provider_merchant_id before saving.
   * @returns {Promise<{ isValid: boolean, error?: string }>}
   */
  async verifyCredentials()          { throw new Error('verifyCredentials() not implemented'); }

  /** @returns {string} Provider name identifier  'kashier' | 'paymob' */
  getProviderName() { return this.providerName; }
}

module.exports = PaymentGatewayProvider;`}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(Me,{title:"gateways/KashierGateway.js",language:"javascript",code:`// gateways/KashierGateway.js
// Kashier v3 API  https://developers.kashier.io/payment/payment-sessions

const axios = require('axios');
const crypto = require('crypto');
const PaymentGatewayProvider = require('./PaymentGatewayProvider');

class KashierGateway extends PaymentGatewayProvider {
  constructor(config) {
    super(config);
    this.providerName = 'kashier';
    this.apiUrl       = config.apiUrl;      // e.g. https://api.kashier.io (from .env)
    this.secretKey    = config.secretKey;   // KASHIER_{ENV}_SECRET_KEY
    this.apiKey       = config.apiKey;      // KASHIER_{ENV}_API_KEY
    this.merchantId   = config.merchantId;  // Business's Kashier MID (from DB)
  }

  /** Returns the auth headers required by every Kashier v3 API call. */
  _headers() {
    return {
      'Authorization': this.secretKey,
      'api-key':       this.apiKey,
      'Content-Type':  'application/json',
    };
  }

  async createSession(params) {
    const payload = {
      amount:          params.amount.toFixed(2),  // Kashier requires a decimal STRING e.g. "150.00"
      currency:        params.currency,
      order:           params.orderId,             // NOTE: field is "order", not "orderId"
      merchantId:      this.merchantId,
      customer:        params.customer,            // { email, reference }
      merchantRedirect: params.redirectUrl,        // NOTE: field is "merchantRedirect", not "backUrl"
      serverWebhook:   params.webhookUrl,
      metaData:        params.metadata,
      type:            'one-time',                 // NOTE: "one-time", not "CHECKOUT"
      display:         params.display || 'en',
      enable3DS:       params.enable3DS !== false, // Default true
      allowedMethods:  params.allowedMethods || 'card', // Comma-separated string
    };

    const response = await axios.post(
      \`\${this.apiUrl}/v3/payment/sessions\`,
      payload,
      { headers: this._headers() }
    );

    // Kashier v3 response contains sessionUrl directly  no manual URL construction needed.
    // The session ID is the MongoDB "_id" field (not "session_id").
    return {
      sessionId:        response.data._id,         // NOTE: "_id", not "session_id"
      sessionUrl:       response.data.sessionUrl,  // NOTE: direct from API, no construction
      providerResponse: response.data,
    };
  }

  async getSessionStatus(sessionId) {
    // GET /v3/payment/sessions/:sessionId/payment
    const response = await axios.get(
      \`\${this.apiUrl}/v3/payment/sessions/\${sessionId}/payment\`,
      { headers: this._headers() }
    );

    // Normalize to a common status string used by reconciliationService
    const statusMap = { PAID: 'PAID', SUCCESS: 'PAID', PENDING: 'PENDING', FAILED: 'FAILED' };

    return {
      status:           statusMap[response.data.status] || 'PENDING',
      transactionId:    response.data.transactionId,
      amount:           response.data.capturedAmount,
      providerResponse: response.data,
    };
  }

  async refund(params) {
    // TODO: Confirm Kashier's exact refund endpoint in their dashboard docs
    const payload = {
      orderId: params.orderId,         // Kashier's own transaction/order ID
      amount:  params.amount.toFixed(2),
      reason:  params.reason,
    };

    const response = await axios.post(
      \`\${this.apiUrl}/v3/payment/refund\`,
      payload,
      { headers: this._headers() }
    );

    return {
      refundId:         response.data.refundId,
      status:           response.data.status,
      providerResponse: response.data,
    };
  }

  async verifyCredentials() {
    // Attempts a lightweight authenticated call to validate the keys.
    // TODO: Replace with Kashier's actual merchant profile endpoint if available.
    try {
      await axios.get(\`\${this.apiUrl}/v3/merchants/me\`, { headers: this._headers() });
      return { isValid: true };
    } catch (err) {
      return { isValid: false, error: err.response?.data?.message || err.message };
    }
  }
}

module.exports = KashierGateway;`}),l.jsx(Me,{title:"gateways/PaymobGateway.js",language:"javascript",code:`// gateways/PaymobGateway.js
// Paymob Modern Intention API  https://developers.paymob.com (Egypt)
// Endpoint: POST https://accept.paymob.com/v1/intention/

const axios = require('axios');
const crypto = require('crypto');
const PaymentGatewayProvider = require('./PaymentGatewayProvider');

// These fields are concatenated in this EXACT predefined order for HMAC-SHA512
const PAYMOB_HMAC_FIELDS = [
  'amount_cents', 'created_at', 'currency', 'error_occured',
  'has_parent_transaction', 'id', 'integration_id', 'is_3d_secure',
  'is_auth', 'is_capture', 'is_refunded', 'is_standalone_payment',
  'is_voided', 'order.id', 'owner', 'pending',
  'source_data.pan', 'source_data.sub_type', 'source_data.type', 'success',
];

class PaymobGateway extends PaymentGatewayProvider {
  constructor(config) {
    super(config);
    this.providerName  = 'paymob';
    this.baseUrl       = config.baseUrl;      // https://accept.paymob.com (from .env)
    this.secretKey     = config.secretKey;    // "egy_sk_..."  used for API auth
    this.publicKey     = config.publicKey;    // "egy_pk_..."  used to build checkout URL
    this.integrationId = config.integrationId; // From businessPaymentConfig.provider_config
    this.hmacSecret    = config.hmacSecret;   // From Paymob dashboard  Developers
  }

  /** Returns the Authorization header used by Paymob API calls. */
  _authHeader() {
    return { 'Authorization': \`Token \${this.secretKey}\` };
  }

  async createSession(params) {
    /**
     * Paymob Intention Flow (modern, replaces the 3-step legacy flow):
     * 1. POST /v1/intention/  creates the payment entity
     * 2. Response returns: { id, client_secret, payment_methods, ... }
     * 3. Redirect customer to unified checkout using publicKey + client_secret
     *
     * The client_secret is one-time use and drives the checkout redirect URL.
     * Store the intention id (not client_secret) in the DB for later lookups.
     */
    const payload = {
      amount:           Math.round(params.amount * 100), // Paymob uses INTEGER cents
      currency:         params.currency,
      payment_methods:  [this.integrationId],            // Array of integration IDs
      billing_data: {
        first_name:      params.customer.name?.split(' ')[0] || 'NA',
        last_name:       params.customer.name?.split(' ')[1] || 'NA',
        email:           params.customer.email,
        phone_number:    params.customer.phone || 'NA',
        // The following are required by Paymob's schema  use 'NA' if not applicable
        apartment: 'NA', floor: 'NA', street: 'NA', building: 'NA',
        shipping_method: 'NA', postal_code: 'NA', city: 'NA', country: 'NA', state: 'NA',
      },
      extras:            params.metadata,      // Passed through to webhooks (booking_id, etc.)
      special_reference: params.orderId,       // Our internal TXN reference
      redirection_url:   params.redirectUrl,
    };

    const response = await axios.post(
      \`\${this.baseUrl}/v1/intention/\`,
      payload,
      { headers: { ...this._authHeader(), 'Content-Type': 'application/json' } }
    );

    // response.data.client_secret is the one-time token for the unified checkout URL
    // response.data.id is the intention ID used for status lookups and stored in DB
    const { id, client_secret } = response.data;

    return {
      sessionId:  id,  // Store this in DB  used by getSessionStatus() for reconciliation
      sessionUrl: \`https://accept.paymob.com/unifiedcheckout/?publicKey=\${this.publicKey}&clientSecret=\${client_secret}\`,
      providerResponse: response.data, // Contains client_secret, payment_methods, status, etc.
    };
  }

  async getSessionStatus(sessionId) {
    // GET /v1/intention/{id}/  fetch current intention status
    const response = await axios.get(
      \`\${this.baseUrl}/v1/intention/\${sessionId}/\`,
      { headers: this._authHeader() }
    );

    // Map Paymob status  normalized status used by reconciliationService
    const isPaid = response.data.status === 'PAID' ||
                   response.data.transactions?.some(t => t.success === true);

    return {
      status:           isPaid ? 'PAID' : 'PENDING',
      transactionId:    response.data.transactions?.[0]?.id?.toString(),
      amount:           response.data.amount_cents / 100,
      providerResponse: response.data,
    };
  }

  async refund(params) {
    // POST /api/acceptance/void_refund/refund
    // NOTE: params.orderId here is the gateway's own *transaction* ID (not the intention ID)
    // This is stored in PaymentTransaction.gateway_transaction_id after webhook success
    const payload = {
      transaction_id: params.orderId,
      amount_cents:   Math.round(params.amount * 100),
    };

    const response = await axios.post(
      \`\${this.baseUrl}/api/acceptance/void_refund/refund\`,
      payload,
      { headers: this._authHeader() }
    );

    return {
      refundId:         response.data.id?.toString(),
      status:           response.data.success ? 'completed' : 'failed',
      providerResponse: response.data,
    };
  }

  async verifyCredentials() {
    // Validates the secret key by calling a lightweight authenticated endpoint
    try {
      await axios.get(\`\${this.baseUrl}/api/ecommerce/orders\`, {
        headers: this._authHeader(),
        params:  { page_size: 1 }, // Minimal response
      });
      return { isValid: true };
    } catch (err) {
      return { isValid: false, error: err.response?.data?.detail || err.message };
    }
  }
}

module.exports = PaymobGateway;`})]}),l.jsx(Me,{title:"gateways/GatewayFactory.js",language:"javascript",code:`// gateways/GatewayFactory.js
// Resolves the correct gateway class and injects per-provider config from .env.
// Callers never reference KashierGateway or PaymobGateway directly.

const KashierGateway = require('./KashierGateway');
const PaymobGateway  = require('./PaymobGateway');

class GatewayFactory {
  /**
   * The primary factory method used throughout the app.
   * Reads the business's assigned provider from DB, then resolves
   * the correct .env keys based on provider name + current NODE_ENV.
   *
   * @param {Object} businessPaymentConfig - A BusinessPaymentConfig Sequelize instance
   * @returns {PaymentGatewayProvider}
   */
  static createForBusiness(businessPaymentConfig) {
    const provider = businessPaymentConfig.payment_provider; // 'kashier' | 'paymob'
    const env      = process.env.NODE_ENV === 'production' ? 'LIVE' : 'TEST';
    const prefix   = \`\${provider.toUpperCase()}_\${env}\`; // e.g. 'KASHIER_TEST'

    const config = {
      // Shared fields
      secretKey:   process.env[\`\${prefix}_SECRET_KEY\`],
      hmacSecret:  process.env[\`\${prefix}_HMAC_SECRET\`],

      // Kashier-specific
      apiUrl:      process.env[\`\${prefix}_API_URL\`],
      apiKey:      process.env[\`\${prefix}_API_KEY\`],

      // Paymob-specific
      baseUrl:     process.env[\`\${prefix}_BASE_URL\`],
      publicKey:   process.env[\`\${prefix}_PUBLIC_KEY\`], // Required for checkout URL construction

      // Merchant-specific  stored per-business in the DB, not in .env
      merchantId:    businessPaymentConfig.provider_merchant_id,
      integrationId: businessPaymentConfig.provider_config?.integration_id,
    };

    return GatewayFactory.create(provider, config);
  }

  /**
   * Lower-level factory  use this when you have a config object already (e.g. in settingsController
   * during credential verification before a BusinessPaymentConfig record exists).
   *
   * @param {string} providerName - 'kashier' | 'paymob'
   * @param {Object} config       - Fully populated config object
   * @returns {PaymentGatewayProvider}
   */
  static create(providerName, config) {
    switch (providerName) {
      case 'kashier': return new KashierGateway(config);
      case 'paymob':  return new PaymobGateway(config);
      default: throw new Error(\`GatewayFactory: Unknown provider "\${providerName}"\`);
    }
  }
}

module.exports = GatewayFactory;`})]})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[l.jsx(nr,{size:18,className:"text-primary-600"})," 3.9 Environment Strategy"]}),l.jsxs("div",{className:"bg-slate-50 p-6 rounded-lg border border-slate-200 text-sm",children:[l.jsx("div",{className:"overflow-hidden border border-slate-200 rounded-lg mb-6 bg-white shadow-sm",children:l.jsxs("table",{className:"w-full text-xs text-left",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 font-bold border-b border-slate-200 uppercase tracking-wider",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3",children:"Provider"}),l.jsx("th",{className:"px-4 py-3",children:"Environment"}),l.jsx("th",{className:"px-4 py-3",children:"API Endpoint"}),l.jsx("th",{className:"px-4 py-3",children:"Checkout URL"})]})}),l.jsxs("tbody",{className:"divide-y divide-slate-100",children:[l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-bold text-slate-900",children:"Kashier"}),l.jsx("td",{className:"px-4 py-3",children:l.jsx(ye,{variant:"neutral",children:"TEST"})}),l.jsx("td",{className:"px-4 py-3 font-mono text-primary-600",children:"https://test-api.kashier.io"}),l.jsx("td",{className:"px-4 py-3 font-mono text-slate-500",children:"response.data.sessionUrl"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-bold text-slate-900",children:"Kashier"}),l.jsx("td",{className:"px-4 py-3",children:l.jsx(ye,{variant:"success",children:"LIVE"})}),l.jsx("td",{className:"px-4 py-3 font-mono text-primary-600",children:"https://api.kashier.io"}),l.jsx("td",{className:"px-4 py-3 font-mono text-slate-500",children:"response.data.sessionUrl"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-bold text-slate-900",children:"Paymob"}),l.jsx("td",{className:"px-4 py-3",children:l.jsx(ye,{variant:"neutral",children:"TEST"})}),l.jsx("td",{className:"px-4 py-3 font-mono text-primary-600",children:"https://accept.paymob.com"}),l.jsx("td",{className:"px-4 py-3 font-mono text-slate-500",children:"/unifiedcheckout/?publicKey=&clientSecret="})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-bold text-slate-900",children:"Paymob"}),l.jsx("td",{className:"px-4 py-3",children:l.jsx(ye,{variant:"success",children:"LIVE"})}),l.jsx("td",{className:"px-4 py-3 font-mono text-primary-600",children:"https://accept.paymob.com"}),l.jsx("td",{className:"px-4 py-3 font-mono text-slate-500",children:"/unifiedcheckout/?publicKey=&clientSecret="})]})]})]})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h4",{className:"font-bold text-slate-800 flex items-center gap-2",children:[l.jsx(Cu,{size:16,className:"text-emerald-600"})," Complete .env Configuration"]}),l.jsx(Me,{title:".env",language:"bash",code:`# --- BOOKIT CORE PAYMENT GATEWAY CONFIG ---

# KASHIER (SANDBOX/TEST)
KASHIER_TEST_API_URL=https://test-api.kashier.io
KASHIER_TEST_API_KEY=e485f3a8-175a-481a-b139-29a4d4b62290
KASHIER_TEST_SECRET_KEY=51f6e600163bb8936dae3fb34b2f6958$72b2b62ce603db9dfa232d28ecaecbfb29629871c8d9cfd8f64ca70ae4eadc89e8b9d266653468907f7c2bddbab99efe
KASHIER_TEST_MERCHANT_ID=MID-42480-642

# KASHIER (LIVE/PRODUCTION)
KASHIER_LIVE_API_URL=https://api.kashier.io
KASHIER_LIVE_API_KEY=...
KASHIER_LIVE_SECRET_KEY=...

# PAYMOB (SANDBOX/TEST)
PAYMOB_TEST_BASE_URL=https://accept.paymob.com
PAYMOB_TEST_PUBLIC_KEY=egy_pk_test_TkCnyF75HE1Rm99XfiQD8TmtWElQWfps
PAYMOB_TEST_SECRET_KEY=egy_sk_test_66056377e4b07773394023f69c47fbe248c6a50d6d839b291c5c5c31eb5abbb6
PAYMOB_TEST_HMAC_SECRET=24A86C32358970E6FC842A6DA1E0FC72

# PAYMOB (LIVE/PRODUCTION)
PAYMOB_LIVE_BASE_URL=https://accept.paymob.com
PAYMOB_LIVE_PUBLIC_KEY=...
PAYMOB_LIVE_SECRET_KEY=...
PAYMOB_LIVE_HMAC_SECRET=...`})]})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[l.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[l.jsx(x1,{size:18,className:"text-red-600"})," 3.4 Middleware  Webhook Signature Verification"]}),l.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["Runs ",l.jsx("strong",{children:"before"})," the webhook controller. Returns ",l.jsx("code",{children:"401"})," on mismatch  the controller and service layer never execute. Use ",l.jsx("code",{children:"crypto.timingSafeEqual"})," to prevent timing attacks."]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(Me,{title:"middleware/verifyKashierWebhook.js",language:"javascript",code:`// middleware/verifyKashierWebhook.js
// Express middleware  applied to the Kashier webhook route BEFORE the controller.
// Returns 401 on failure; provider sees this and may retry  handled by reconciliation cron.
//
// Kashier webhook body shape:
// {
//   event: 'pay' | 'refund' | 'authorize' | 'void' | 'capture',
//   data: {
//     amount, currency, status, transactionId, merchantOrderId, ...
//     signatureKeys: ['amount', 'currency', 'status', ...] // which fields were signed
//   }
// }

const crypto = require('crypto');

const verifyKashierWebhook = (req, res, next) => {
  const signature = req.headers['x-kashier-signature'];

  if (!signature) {
    return res.status(401).json({ error: 'Missing x-kashier-signature header' });
  }

  const data = req.body?.data;
  if (!data) {
    return res.status(400).json({ error: 'Malformed webhook body  missing data field' });
  }

  // signatureKeys is an array Kashier includes telling you which fields to use for verification
  const signatureKeys = Array.isArray(data.signatureKeys) ? data.signatureKeys : [];

  // Step 1: Sort keys alphabetically (Kashier spec requires this)
  const sortedKeys = [...signatureKeys].sort();

  // Step 2: Build query string from sorted key=value pairs
  const queryString = sortedKeys.map(k => \`\${k}=\${data[k]}\`).join('&');

  // Step 3: HMAC-SHA256 using the Payment API key (KASHIER_TEST_API_KEY or KASHIER_LIVE_API_KEY)
  // TODO: Resolve the correct env var based on NODE_ENV  or pass it into the middleware factory
  const apiKey = process.env.NODE_ENV === 'production'
    ? process.env.KASHIER_LIVE_API_KEY
    : process.env.KASHIER_TEST_API_KEY;

  const computedSig = crypto
    .createHmac('sha256', apiKey)
    .update(queryString)
    .digest('hex');

  // Step 4: Timing-safe comparison to prevent timing attacks
  let signaturesMatch;
  try {
    signaturesMatch = crypto.timingSafeEqual(
      Buffer.from(computedSig, 'hex'),
      Buffer.from(signature,   'hex')
    );
  } catch {
    // Buffers have different lengths  definitely not equal
    signaturesMatch = false;
  }

  if (!signaturesMatch) {
    console.warn('[verifyKashierWebhook] Signature mismatch', { computed: computedSig, received: signature });
    return res.status(401).json({ error: 'Invalid webhook signature' });
  }

  next(); // Verified  proceed to webhookController
};

module.exports = verifyKashierWebhook;`}),l.jsx(Me,{title:"middleware/verifyPaymobWebhook.js",language:"javascript",code:`// middleware/verifyPaymobWebhook.js
// Express middleware  applied to the Paymob webhook route BEFORE the controller.
//
// Paymob webhook body shape:
// {
//   type: 'TRANSACTION',
//   obj: { id, amount_cents, currency, success, integration_id, order: { id }, source_data: { ... }, ... },
//   hmac: 'abc123...'  // May also arrive as req.query.hmac
// }

const crypto = require('crypto');

// Paymob HMAC: concatenate these specific field values from req.body.obj
// in this EXACT predefined order (no separator between values).
const HMAC_FIELDS = [
  'amount_cents', 'created_at', 'currency', 'error_occured',
  'has_parent_transaction', 'id', 'integration_id', 'is_3d_secure',
  'is_auth', 'is_capture', 'is_refunded', 'is_standalone_payment',
  'is_voided', 'order.id', 'owner', 'pending',
  'source_data.pan', 'source_data.sub_type', 'source_data.type', 'success',
];

const verifyPaymobWebhook = (req, res, next) => {
  // Paymob may send the HMAC in the body OR as a query param  check both
  const receivedHmac = req.body?.hmac || req.query?.hmac;

  if (!receivedHmac) {
    return res.status(401).json({ error: 'Missing HMAC signature' });
  }

  const txn = req.body?.obj;
  if (!txn) {
    return res.status(400).json({ error: 'Malformed webhook body  missing obj field' });
  }

  // Step 1: Extract field values in predefined order, resolving dot-notation paths
  const concatenated = HMAC_FIELDS.map(field => {
    if (field.includes('.')) {
      const [parent, child] = field.split('.');
      return String(txn[parent]?.[child] ?? '');
    }
    return String(txn[field] ?? '');
  }).join(''); // Concatenate with NO separator

  // Step 2: HMAC-SHA512 using the HMAC secret from Paymob dashboard  Developers  HMAC Secret
  const hmacSecret = process.env.NODE_ENV === 'production'
    ? process.env.PAYMOB_LIVE_HMAC_SECRET
    : process.env.PAYMOB_TEST_HMAC_SECRET;

  const computedHmac = crypto
    .createHmac('sha512', hmacSecret)
    .update(concatenated)
    .digest('hex');

  // Step 3: Timing-safe comparison
  let signaturesMatch;
  try {
    signaturesMatch = crypto.timingSafeEqual(
      Buffer.from(computedHmac,  'hex'),
      Buffer.from(receivedHmac,  'hex')
    );
  } catch {
    signaturesMatch = false;
  }

  if (!signaturesMatch) {
    console.warn('[verifyPaymobWebhook] HMAC mismatch');
    return res.status(401).json({ error: 'Invalid HMAC signature' });
  }

  next(); // Verified  proceed to webhookController
};

module.exports = verifyPaymobWebhook;`})]})]}),l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[l.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[l.jsx(e1,{size:18,className:"text-primary-600"})," 3.5 Controllers  HTTP Handlers"]}),l.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Thin adapters: validate input, delegate to services, map to HTTP responses. No business logic here."}),l.jsxs("div",{className:"space-y-6",children:[l.jsx(Me,{title:"controllers/checkoutController.js",language:"javascript",code:`// controllers/checkoutController.js
// Thin HTTP adapter  validates input, delegates to service, maps to response.
// No business logic lives here.

const OnlinePaymentService = require('../services/onlinePaymentService');
// TODO: Import your custom error class
// const { CustomError } = require('../../utils/errors');

/**
 * POST /api/client/v1/payments/checkout
 * Creates a payment session for a booking and returns the redirect URL.
 * Requires auth middleware to populate req.user.id.
 */
const createSession = async (req, res) => {
  const { booking_type, booking_id, payment_type } = req.body;

  // --- Input validation ---
  if (!booking_type || !['appointment', 'class_booking'].includes(booking_type)) {
    return res.status(400).json({ error: 'booking_type must be "appointment" or "class_booking"' });
  }
  if (!booking_id) {
    return res.status(400).json({ error: 'booking_id is required' });
  }
  if (!payment_type || !['full', 'deposit'].includes(payment_type)) {
    return res.status(400).json({ error: 'payment_type must be "full" or "deposit"' });
  }

  try {
    const result = await OnlinePaymentService.initiateCheckout(
      req.user.id,    // Populated by authenticate middleware
      booking_type,
      booking_id,
      payment_type
    );

    return res.status(200).json({
      data: {
        session_id:            result.session_id,
        session_url:           result.session_url,    // Redirect the customer to this URL
        transaction_reference: result.transaction_reference,
        amount:                result.amount,
        currency:              result.currency,
        payment_type:          result.payment_type,
        expires_at:            result.expires_at,
      },
    });
  } catch (error) {
    // TODO: Replace with your CustomError handling pattern
    if (error.statusCode) {
      return res.status(error.statusCode).json({ error: error.message });
    }
    console.error('[checkoutController.createSession]', error);
    return res.status(500).json({ error: 'Internal server error' });
  }
};

/**
 * GET /api/client/v1/payments/session/:id/status
 * Allows the client to poll the session status after returning from the checkout page.
 * The webhook is the source of truth  this is just for UI feedback.
 */
const getSessionStatus = async (req, res) => {
  const { id: sessionId } = req.params;

  try {
    // TODO: Replace with your Sequelize model import
    // const { PaymentSession } = require('../../models');

    const session = await PaymentSession.findOne({
      where: { provider_session_id: sessionId, user_id: req.user.id },
      include: [{ model: PaymentTransaction, as: 'transaction' }],
    });

    if (!session) {
      return res.status(404).json({ error: 'Session not found' });
    }

    return res.status(200).json({
      data: {
        session_status:        session.session_status,
        payment_status:        session.transaction?.payment_status,
        transaction_reference: session.transaction?.transaction_reference,
        amount:                session.amount,
        payment_type:          session.payment_type,
      },
    });
  } catch (error) {
    console.error('[checkoutController.getSessionStatus]', error);
    return res.status(500).json({ error: 'Internal server error' });
  }
};

module.exports = { createSession, getSessionStatus };`}),l.jsx(Me,{title:"controllers/webhookController.js",language:"javascript",code:`// controllers/webhookController.js
// Receives provider callbacks after HMAC middleware has already verified authenticity.
// Normalizes the raw provider payload before handing it to the service layer.
// CRITICAL: Always return HTTP 200  providers retry on any non-2xx response.

const OnlinePaymentService = require('../services/onlinePaymentService');

/**
 * Normalize provider-specific webhook shapes into a unified format.
 * The service layer only ever sees normalizedSessionId + normalizedStatus.
 *
 * @param {string} provider - 'kashier' | 'paymob'
 * @param {Object} body     - Raw webhook body (already HMAC-verified)
 * @returns {{ normalizedSessionId, normalizedStatus, transactionId, message }}
 */
const normalizePayload = (provider, body) => {
  if (provider === 'kashier') {
    const { data } = body;
    return {
      // merchantOrderId is our orderId (the TXN reference we sent at session creation)
      normalizedSessionId: data.merchantOrderId,
      normalizedStatus:    data.status === 'SUCCESS' ? 'SUCCESS'
                         : data.status === 'FAILURE' ? 'FAILURE' : 'DECLINED',
      transactionId:       data.transactionId,
      message:             data.transactionResponseCode,
    };
  }

  if (provider === 'paymob') {
    const txn = body.obj;
    return {
      // special_reference is our orderId, passed at intention creation via extras
      // TODO: Confirm your field mapping  may be in txn.order.merchant_order_id
      normalizedSessionId: txn.special_reference || txn.order?.merchant_order_id,
      normalizedStatus:    txn.success === true   ? 'SUCCESS'
                         : txn.error_occured      ? 'FAILURE' : 'DECLINED',
      transactionId:       txn.id?.toString(),
      message:             txn.data_message,
    };
  }

  throw new Error(\`normalizePayload: Unknown provider "\${provider}"\`);
};

/**
 * POST /api/v1/payments/online/webhook/kashier
 * POST /api/v1/payments/online/webhook/paymob
 * Route param :provider determines which normalization path is used.
 */
const handleWebhook = async (req, res) => {
  const { provider } = req.params; // 'kashier' | 'paymob'

  // Always acknowledge immediately  heavy processing is async
  res.status(200).json({ acknowledged: true });

  try {
    const normalizedBody = normalizePayload(provider, req.body);
    await OnlinePaymentService.handleWebhook(provider, req.headers, normalizedBody);
  } catch (error) {
    // Log the failure  the reconciliation cron will catch any missed updates
    console.error('[webhookController.handleWebhook] Processing error', {
      provider,
      error: error.message,
      body: req.body,
    });
  }
};

/**
 * GET /api/v1/payments/online/redirect
 * Provider redirects the customer back here after they leave the checkout page.
 * This is NOT the source of truth for payment success  the webhook is.
 * We only mark the session as 'pending' here; the webhook will resolve it to 'paid' or 'failed'.
 */
const handleRedirect = async (req, res) => {
  // TODO: Import your models
  // const { PaymentSession } = require('../../models');

  // Query params differ by provider  extract whatever ref is available
  const sessionId = req.query.session_id   // Kashier
                 || req.query.id;          // Paymob

  if (sessionId) {
    try {
      // Optimistically advance the status  webhook will overwrite this
      await PaymentSession.update(
        { session_status: 'pending' },
        { where: { provider_session_id: sessionId, session_status: 'created' } }
      );
    } catch (err) {
      console.error('[webhookController.handleRedirect] Update failed', err);
    }
  }

  // Redirect user to app's result page  frontend polls GET /session/:id/status
  const appUrl = process.env.APP_BASE_URL || 'https://bookit-b2c-dev.vercel.app';
  return res.redirect(\`\${appUrl}/payment/result?ref=\${sessionId || ''}\`);
};

module.exports = { handleWebhook, handleRedirect };`}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(Me,{title:"controllers/refundController.js",language:"javascript",code:`// controllers/refundController.js
// Admin-only endpoint. Validates the refund request then delegates to service.

const OnlinePaymentService = require('../services/onlinePaymentService');

/**
 * POST /api/admin/v1/payments/transactions/:id/refund
 * Body: { refund_type: 'full'|'partial', amount?: number, reason: string }
 * Requires admin auth middleware to populate req.admin.id.
 */
const processRefund = async (req, res) => {
  const { id: transactionId } = req.params;
  const { refund_type, amount, reason } = req.body;

  // --- Input validation ---
  if (!refund_type || !['full', 'partial'].includes(refund_type)) {
    return res.status(400).json({ error: 'refund_type must be "full" or "partial"' });
  }
  if (refund_type === 'partial') {
    if (!amount || typeof amount !== 'number' || amount <= 0) {
      return res.status(400).json({ error: 'amount is required and must be a positive number for partial refunds' });
    }
  }
  if (!reason || typeof reason !== 'string' || reason.trim().length === 0) {
    return res.status(400).json({ error: 'reason is required' });
  }

  try {
    const refund = await OnlinePaymentService.processRefund(
      transactionId,
      refund_type,
      amount,        // Undefined for full refunds  service calculates it
      reason.trim(),
      req.admin.id   // Populated by authorizeAdmin middleware  for audit trail
    );

    return res.status(200).json({
      data: {
        refund_reference:  refund.refund_reference,
        refund_status:     refund.refund_status,
        refund_amount:     refund.refund_amount,
        gateway_refund_id: refund.gateway_refund_id,
        completed_at:      refund.completed_at,
      },
    });
  } catch (error) {
    if (error.statusCode) {
      return res.status(error.statusCode).json({ error: error.message });
    }
    console.error('[refundController.processRefund]', error);
    return res.status(500).json({ error: 'Internal server error' });
  }
};

module.exports = { processRefund };`}),l.jsx(Me,{title:"controllers/settingsController.js",language:"javascript",code:`// controllers/settingsController.js
// Admin endpoints: assign a payment gateway provider to a business + verify credentials.
// Business endpoints: read-only view of their assigned provider.

const GatewayFactory = require('../gateways/GatewayFactory');
// TODO: Import your models
// const { BusinessPaymentConfig, Business, ServicePaymentConfig } = require('../../models');

/**
 * Builds a gateway config object from .env for credential verification.
 * Used before a BusinessPaymentConfig record is saved/updated.
 */
const buildTestConfig = (provider, merchantId, providerConfig = {}) => {
  const env    = process.env.NODE_ENV === 'production' ? 'LIVE' : 'TEST';
  const prefix = \`\${provider.toUpperCase()}_\${env}\`;
  return {
    secretKey:    process.env[\`\${prefix}_SECRET_KEY\`],
    publicKey:    process.env[\`\${prefix}_PUBLIC_KEY\`],
    apiKey:       process.env[\`\${prefix}_API_KEY\`],
    apiUrl:       process.env[\`\${prefix}_API_URL\`],
    baseUrl:      process.env[\`\${prefix}_BASE_URL\`],
    merchantId,
    integrationId: providerConfig.integration_id,
  };
};

/**
 * POST /api/admin/v1/payments/payment-configs/:businessId
 * Assigns a payment gateway provider to a business and verifies the merchant credentials.
 * Body: { payment_provider, provider_merchant_id, provider_config? }
 */
const createConfig = async (req, res) => {
  const { businessId } = req.params;
  const { payment_provider, provider_merchant_id, provider_config } = req.body;

  if (!payment_provider || !['kashier', 'paymob'].includes(payment_provider)) {
    return res.status(400).json({ error: 'payment_provider must be "kashier" or "paymob"' });
  }
  if (!provider_merchant_id) {
    return res.status(400).json({ error: 'provider_merchant_id is required' });
  }

  try {
    // Step 1: Confirm the business exists
    const business = await Business.findByPk(businessId);
    if (!business) {
      return res.status(404).json({ error: 'Business not found' });
    }

    // Step 2: Test credentials against the live gateway API before saving
    const testConfig = buildTestConfig(payment_provider, provider_merchant_id, provider_config);
    const gateway    = GatewayFactory.create(payment_provider, testConfig);
    const check      = await gateway.verifyCredentials();

    if (!check.isValid) {
      return res.status(400).json({
        error:  'Merchant credentials are invalid or could not be verified',
        detail: check.error,
      });
    }

    // Step 3: Upsert the config (create or update  one config per business)
    // beforeUpdate hook on the model will auto-reset is_verified if payment_provider changed
    const [config] = await BusinessPaymentConfig.upsert({
      business_id:          businessId,
      payment_provider,
      provider_merchant_id,
      provider_config:      provider_config || {},
      is_active:            true,
      is_verified:          true,
      verified_at:          new Date(),
    });

    return res.status(201).json({ data: config });
  } catch (error) {
    console.error('[settingsController.createConfig]', error);
    return res.status(500).json({ error: 'Internal server error' });
  }
};

/**
 * PUT /api/admin/v1/payments/payment-configs/:businessId
 * Updates provider or merchant ID. Runs same credential check before saving.
 */
const updateConfig = async (req, res) => {
  // TODO: Implement  same validation + upsert flow as createConfig above
  // The model's beforeUpdate hook will auto-reset is_verified if payment_provider changes
};

/**
 * GET /api/admin/v1/payments/payment-configs/:businessId
 * Returns the full config record for admin review.
 */
const getConfig = async (req, res) => {
  try {
    const config = await BusinessPaymentConfig.findOne({
      where: { business_id: req.params.businessId },
    });
    if (!config) return res.status(404).json({ error: 'No payment config found for this business' });
    return res.status(200).json({ data: config });
  } catch (error) {
    return res.status(500).json({ error: 'Internal server error' });
  }
};

/**
 * GET /api/business/v1/payments/payment-config
 * Read-only view for the logged-in business. Does NOT expose secret keys.
 */
const getBusinessConfig = async (req, res) => {
  try {
    const config = await BusinessPaymentConfig.findOne({
      where: { business_id: req.business.id },
      attributes: ['payment_provider', 'is_active', 'is_verified'],
    });
    if (!config) return res.status(404).json({ error: 'Payment not configured for this business' });
    return res.status(200).json({ data: config });
  } catch (error) {
    return res.status(500).json({ error: 'Internal server error' });
  }
};

/**
 * PUT /api/business/v1/services/:id/payment-config
 * Business sets full/deposit payment options per service.
 * Body: { online_payment_enabled, payment_type, deposit_type?, deposit_value? }
 */
const updateServiceConfig = async (req, res) => {
  const { id: serviceDetailId } = req.params;
  const { online_payment_enabled, payment_type, deposit_type, deposit_value } = req.body;

  // --- Validation ---
  if (typeof online_payment_enabled !== 'boolean') {
    return res.status(400).json({ error: 'online_payment_enabled must be a boolean' });
  }
  if (online_payment_enabled) {
    if (!['full', 'deposit', 'both'].includes(payment_type)) {
      return res.status(400).json({ error: 'payment_type must be "full", "deposit", or "both"' });
    }
    if (payment_type !== 'full') {
      if (!['fixed', 'percentage'].includes(deposit_type)) {
        return res.status(400).json({ error: 'deposit_type must be "fixed" or "percentage"' });
      }
      if (!deposit_value || deposit_value <= 0) {
        return res.status(400).json({ error: 'deposit_value must be a positive number' });
      }
      if (deposit_type === 'percentage' && deposit_value >= 100) {
        return res.status(400).json({ error: 'Percentage deposit must be less than 100' });
      }
    }
  }

  try {
    const [config] = await ServicePaymentConfig.upsert({
      service_detail_id: serviceDetailId,
      business_id:       req.business.id,
      online_payment_enabled,
      payment_type,
      deposit_type:  deposit_type  || null,
      deposit_value: deposit_value || null,
    });
    return res.status(200).json({ data: config });
  } catch (error) {
    console.error('[settingsController.updateServiceConfig]', error);
    return res.status(500).json({ error: 'Internal server error' });
  }
};

module.exports = { createConfig, updateConfig, getConfig, getBusinessConfig, updateServiceConfig };`})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[l.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[l.jsx(tr,{size:18,className:"text-primary-600"})," 3.6 Models  Sequelize Definitions"]}),l.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["Each file exports a function ",l.jsx("code",{children:"(sequelize) => Model"}),"  the standard Sequelize pattern. Register them in your central ",l.jsx("code",{children:"models/index.js"}),"."]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(Me,{title:"models/businesspaymentconfig.js",language:"javascript",code:`// models/businesspaymentconfig.js
// Per-business payment gateway assignment. One record per business.

const { DataTypes, Model } = require('sequelize');
const { v4: uuidv4 } = require('uuid');

module.exports = (sequelize) => {
  class BusinessPaymentConfig extends Model {
    static associate(models) {
      BusinessPaymentConfig.belongsTo(models.Business, { foreignKey: 'business_id', as: 'business' });
      BusinessPaymentConfig.hasMany(models.PaymentTransaction, { foreignKey: 'business_id', as: 'transactions' });
      BusinessPaymentConfig.hasMany(models.PaymentSession,     { foreignKey: 'business_id', as: 'sessions' });
    }
  }

  BusinessPaymentConfig.init({
    id: {
      type:         DataTypes.UUID,
      defaultValue: () => uuidv4(),
      primaryKey:   true,
    },
    business_id: {
      type:       DataTypes.UUID,
      allowNull:  false,
      unique:     true, // One config per business
      references: { model: 'Businesses', key: 'id' },
    },
    payment_provider: {
      type:      DataTypes.ENUM('kashier', 'paymob'),
      allowNull: false,
    },
    provider_merchant_id: {
      type:      DataTypes.STRING,
      allowNull: false,
      // Kashier: MID e.g. 'MID-42480-642'
      // Paymob:  SubAccount ID or merchant account identifier
    },
    provider_config: {
      type:         DataTypes.JSONB,
      defaultValue: {},
      // Flexible store for provider-specific extras:
      // Paymob: { integration_id: 12345 }
      // Kashier: {} (no extras needed currently)
    },
    is_active: {
      type:         DataTypes.BOOLEAN,
      defaultValue: true,
    },
    is_verified: {
      type:         DataTypes.BOOLEAN,
      defaultValue: false,
      // Automatically reset to false when payment_provider changes (see hook below)
    },
    verified_at: {
      type:      DataTypes.DATE,
      allowNull: true,
    },
  }, {
    sequelize,
    modelName:  'BusinessPaymentConfig',
    tableName:  'BusinessPaymentConfigs',
    timestamps: true,
    createdAt:  'created_at',
    updatedAt:  'updated_at',
    hooks: {
      beforeUpdate: (instance) => {
        // Auto-revoke verification if the provider is switched
        if (instance.changed('payment_provider')) {
          instance.is_verified = false;
          instance.verified_at = null;
        }
      },
    },
  });

  return BusinessPaymentConfig;
};`}),l.jsx(Me,{title:"models/paymentsession.js",language:"javascript",code:`// models/paymentsession.js
// Tracks the lifecycle of a single checkout session from creation to terminal state.

const { DataTypes, Model } = require('sequelize');
const { v4: uuidv4 } = require('uuid');

module.exports = (sequelize) => {
  class PaymentSession extends Model {
    static associate(models) {
      PaymentSession.belongsTo(models.PaymentTransaction, { foreignKey: 'payment_transaction_id', as: 'transaction' });
      PaymentSession.belongsTo(models.Business,           { foreignKey: 'business_id',            as: 'business' });
      PaymentSession.belongsTo(models.User,               { foreignKey: 'user_id',                as: 'user' });
    }
  }

  PaymentSession.init({
    id: {
      type:         DataTypes.UUID,
      defaultValue: () => uuidv4(),
      primaryKey:   true,
    },
    payment_transaction_id: {
      type:       DataTypes.UUID,
      allowNull:  false,
      references: { model: 'PaymentTransactions', key: 'id' },
    },
    business_id: {
      type:      DataTypes.UUID,
      allowNull: false,
    },
    user_id: {
      type:      DataTypes.UUID,
      allowNull: false,
    },
    payment_provider: {
      type:      DataTypes.ENUM('kashier', 'paymob'),
      allowNull: false,
    },
    provider_session_id: {
      type:      DataTypes.STRING,
      allowNull: false,
      unique:    true, // Used for webhook lookup and deduplication
      // Kashier: _id from the session response
      // Paymob:  id from the intention response
    },
    session_url: {
      type:      DataTypes.TEXT,
      allowNull: false,
      // The full redirect URL sent to the client.
      // Kashier: direct sessionUrl from API
      // Paymob:  /unifiedcheckout/?publicKey=...&clientSecret=...
      // NOTE: For Paymob, this contains the client_secret  treat as sensitive.
    },
    session_status: {
      type:         DataTypes.ENUM('created', 'pending', 'paid', 'failed', 'expired'),
      defaultValue: 'created',
      // created   session exists, customer not yet redirected
      // pending   customer returned from checkout (redirect handler)
      // paid      webhook confirmed payment
      // failed    webhook confirmed failure or card declined
      // expired   reconciliation cron marked stale
    },
    payment_type: {
      type:      DataTypes.ENUM('full', 'deposit'),
      allowNull: false,
    },
    amount: {
      type:      DataTypes.DECIMAL(10, 2),
      allowNull: false, // Amount actually charged (may be deposit, not full price)
    },
    currency: {
      type:         DataTypes.STRING(3),
      defaultValue: 'EGP',
    },
    provider_response: {
      type:      DataTypes.JSONB,
      allowNull: true,
      // Full raw response from the gateway stored for audit and debugging
    },
    paid_at:    { type: DataTypes.DATE, allowNull: true },
    failed_at:  { type: DataTypes.DATE, allowNull: true },
    expire_at: {
      type:      DataTypes.DATE,
      allowNull: false,
      // Set at creation: NOW + PAYMENT_SESSION_EXPIRY_MINUTES (default 30)
    },
  }, {
    sequelize,
    modelName:  'PaymentSession',
    tableName:  'PaymentSessions',
    timestamps: true,
    createdAt:  'created_at',
    updatedAt:  'updated_at',
    indexes: [
      { fields: ['provider_session_id'] }, // Webhook lookup
      { fields: ['session_status'] },      // Reconciliation queries
    ],
  });

  return PaymentSession;
};`})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(Me,{title:"models/systemsettings.js",language:"javascript",code:`// models/systemsettings.js
// Global key/value store for platform-wide defaults.
// Pre-seeded via migration  do not hardcode these values in application code.

const { DataTypes, Model } = require('sequelize');

module.exports = (sequelize) => {
  class SystemSetting extends Model {
    /** Helper: fetch a setting value by key. Returns null if not found. */
    static async getValue(key) {
      const setting = await SystemSetting.findByPk(key);
      return setting?.value ?? null;
    }
  }

  SystemSetting.init({
    key: {
      type:      DataTypes.STRING,
      primaryKey: true,
      // Examples:
      // 'default_payment_provider'       'kashier'
      // 'payment_session_expiry_minutes'  '30'
      // 'max_refund_window_days'          '7'
    },
    value: {
      type:      DataTypes.STRING,
      allowNull: false,
    },
    description: {
      type:      DataTypes.STRING,
      allowNull: true,
    },
  }, {
    sequelize,
    modelName:  'SystemSetting',
    tableName:  'SystemSettings',
    timestamps: true,
    createdAt:  'created_at',
    updatedAt:  'updated_at',
  });

  return SystemSetting;
};

// --- Migration seed (run once) ---
// await SystemSetting.bulkCreate([
//   { key: 'default_payment_provider',       value: 'kashier', description: 'Provider used when a business has no config' },
//   { key: 'payment_session_expiry_minutes',  value: '30',      description: 'How long before an unpaid session is expired' },
//   { key: 'max_refund_window_days',          value: '7',       description: 'Days after payment within which refunds are allowed' },
// ], { ignoreDuplicates: true });`}),l.jsx(Me,{title:"models/servicepaymentconfig.js",language:"javascript",code:`// models/servicepaymentconfig.js
// Per-service payment settings. Businesses control whether a service
// accepts online payment and what deposit rules apply.

const { DataTypes, Model } = require('sequelize');
const { v4: uuidv4 } = require('uuid');

module.exports = (sequelize) => {
  class ServicePaymentConfig extends Model {
    static associate(models) {
      ServicePaymentConfig.belongsTo(models.ServiceDetail, { foreignKey: 'service_detail_id', as: 'serviceDetail' });
      ServicePaymentConfig.belongsTo(models.Business,      { foreignKey: 'business_id',       as: 'business' });
    }
  }

  ServicePaymentConfig.init({
    id: {
      type:         DataTypes.UUID,
      defaultValue: () => uuidv4(),
      primaryKey:   true,
    },
    service_detail_id: {
      type:      DataTypes.UUID,
      allowNull: false,
      references: { model: 'ServiceDetails', key: 'id' },
    },
    business_id: {
      type:      DataTypes.UUID,
      allowNull: false,
    },
    online_payment_enabled: {
      type:         DataTypes.BOOLEAN,
      defaultValue: false,
    },
    payment_type: {
      type:      DataTypes.ENUM('full', 'deposit', 'both'),
      allowNull: false,
      // 'full'     customer must pay the full amount online
      // 'deposit'  customer must pay a deposit online
      // 'both'     customer can choose at checkout
    },
    deposit_type: {
      type:      DataTypes.ENUM('fixed', 'percentage'),
      allowNull: true, // Null when payment_type = 'full'
    },
    deposit_value: {
      type:      DataTypes.DECIMAL(10, 2),
      allowNull: true, // Null when payment_type = 'full'
      // fixed:      exact EGP amount e.g. 50.00
      // percentage: e.g. 20.00 means 20%
    },
  }, {
    sequelize,
    modelName:  'ServicePaymentConfig',
    tableName:  'ServicePaymentConfigs',
    timestamps: true,
    createdAt:  'created_at',
    updatedAt:  'updated_at',
    indexes: [
      { unique: true, fields: ['service_detail_id', 'business_id'] },
    ],
  });

  return ServicePaymentConfig;
};`})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsx(Me,{title:"models/paymenttransaction.js (MODIFIED)",language:"javascript",code:`// models/paymenttransaction.js
// MODIFIED  new columns: payment_type, deposit_amount, total_service_amount, gateway_session_id
// Immutable ledger of every payment attempt. Never delete rows  only append.

const { DataTypes, Model } = require('sequelize');
const { v4: uuidv4 } = require('uuid');

module.exports = (sequelize) => {
  class PaymentTransaction extends Model {
    static associate(models) {
      PaymentTransaction.belongsTo(models.Business,      { foreignKey: 'business_id', as: 'business' });
      PaymentTransaction.belongsTo(models.User,          { foreignKey: 'user_id',     as: 'user' });
      PaymentTransaction.hasOne(models.PaymentSession,   { foreignKey: 'payment_transaction_id', as: 'session' });
      PaymentTransaction.hasMany(models.PaymentRefund,   { foreignKey: 'payment_transaction_id', as: 'refunds' });
    }
  }

  PaymentTransaction.init({
    id: {
      type:         DataTypes.UUID,
      defaultValue: () => uuidv4(),
      primaryKey:   true,
    },
    transaction_reference: {
      type:      DataTypes.STRING,
      allowNull: false,
      unique:    true,
      // Format: 'TXN-{bookingId.slice(0,8)}-{Date.now()}'
      // This is what we send to the gateway as the order/special_reference
    },
    business_id:  { type: DataTypes.UUID,    allowNull: false },
    user_id:      { type: DataTypes.UUID,    allowNull: false },
    booking_type: { type: DataTypes.ENUM('appointment', 'class_booking'), allowNull: false },
    booking_id:   { type: DataTypes.UUID,    allowNull: false }, // Polymorphic FK
    payment_method_id: { type: DataTypes.UUID, allowNull: true }, // The 'Online' PaymentMethod row
    amount: {
      type:      DataTypes.DECIMAL(10, 2),
      allowNull: false, // The amount actually charged (may be deposit amount, not full price)
    },
    currency:       { type: DataTypes.STRING(3), defaultValue: 'EGP' },
    payment_status: {
      type:         DataTypes.ENUM('pending', 'completed', 'failed', 'refunded', 'partially_refunded'),
      defaultValue: 'pending',
    },
    payment_gateway: { type: DataTypes.ENUM('kashier', 'paymob'), allowNull: false },

    //  NEW COLUMNS  add these in a migration
    payment_type: {
      type:      DataTypes.ENUM('full', 'deposit'),
      allowNull: false,
    },
    deposit_amount: {
      type:      DataTypes.DECIMAL(10, 2),
      allowNull: true, // Null for full payments
    },
    total_service_amount: {
      type:      DataTypes.DECIMAL(10, 2),
      allowNull: true, // Full service price before deposit  useful for "remaining balance" display
    },
    gateway_session_id: {
      type:      DataTypes.STRING,
      allowNull: true, // Foreign reference to PaymentSession.provider_session_id
    },
    //  NEW COLUMNS

    gateway_transaction_id: {
      type:      DataTypes.STRING,
      allowNull: true,
      // Paymob: the transaction ID from the webhook obj.id  needed for refunds
      // Kashier: the transactionId from the webhook data
    },
    gateway_response: { type: DataTypes.JSONB,       allowNull: true },
    ip_address:       { type: DataTypes.STRING(45),  allowNull: true },
    error_message:    { type: DataTypes.TEXT,        allowNull: true },
    completed_at:     { type: DataTypes.DATE,        allowNull: true },
    failed_at:        { type: DataTypes.DATE,        allowNull: true },
  }, {
    sequelize,
    modelName:  'PaymentTransaction',
    tableName:  'PaymentTransactions',
    timestamps: true,
    createdAt:  'created_at',
    updatedAt:  'updated_at',
    indexes: [
      { fields: ['booking_type', 'booking_id'] }, // Used by initiateCheckout to find existing sessions
      { fields: ['payment_status'] },
    ],
  });

  return PaymentTransaction;
};`}),l.jsx(Me,{title:"models/paymentrefund.js",language:"javascript",code:`// models/paymentrefund.js
// Audit trail of every refund attempt. Rows are created with status 'processing'
// before the gateway call and updated to 'completed' or 'failed' after.

const { DataTypes, Model } = require('sequelize');
const { v4: uuidv4 } = require('uuid');

module.exports = (sequelize) => {
  class PaymentRefund extends Model {
    static associate(models) {
      PaymentRefund.belongsTo(models.PaymentTransaction, { foreignKey: 'payment_transaction_id', as: 'transaction' });
      // TODO: Associate with your AdminUser model
      // PaymentRefund.belongsTo(models.AdminUser, { foreignKey: 'requested_by', as: 'requestedByAdmin' });
    }
  }

  PaymentRefund.init({
    id: {
      type:         DataTypes.UUID,
      defaultValue: () => uuidv4(),
      primaryKey:   true,
    },
    payment_transaction_id: {
      type:       DataTypes.UUID,
      allowNull:  false,
      references: { model: 'PaymentTransactions', key: 'id' },
    },
    refund_reference: {
      type:      DataTypes.STRING,
      allowNull: false,
      unique:    true,
      // Format: 'REF-{transactionId.slice(0,8)}-{Date.now()}'
    },
    original_amount: { type: DataTypes.DECIMAL(10, 2), allowNull: false },
    refund_amount:   { type: DataTypes.DECIMAL(10, 2), allowNull: false },
    refund_reason:   { type: DataTypes.TEXT,           allowNull: false },
    refund_type: {
      type:      DataTypes.ENUM('full', 'partial'),
      allowNull: false,
    },
    refund_status: {
      type:         DataTypes.ENUM('processing', 'completed', 'failed'),
      defaultValue: 'processing',
      // Record is created as 'processing' BEFORE the gateway API call.
      // Updated to 'completed' or 'failed' after the gateway responds.
      // This ensures the attempt is always logged even if the gateway times out.
    },
    payment_gateway:   { type: DataTypes.ENUM('kashier', 'paymob'), allowNull: false },
    gateway_refund_id: { type: DataTypes.STRING, allowNull: true },
    gateway_response:  { type: DataTypes.JSONB,  allowNull: true },
    requested_by:      { type: DataTypes.UUID,   allowNull: false }, // Admin user ID
    error_message:     { type: DataTypes.TEXT,   allowNull: true },
    completed_at:      { type: DataTypes.DATE,   allowNull: true },
  }, {
    sequelize,
    modelName:  'PaymentRefund',
    tableName:  'PaymentRefunds',
    timestamps: true,
    createdAt:  'created_at',
    updatedAt:  'updated_at',
  });

  return PaymentRefund;
};`})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[l.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[l.jsx(ar,{size:18,className:"text-primary-600"})," 3.7 Services  Reconciliation Cron"]}),l.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["Safety net for missed webhooks. Polls gateways every 5 minutes for sessions past expiry. Schedule via ",l.jsx("code",{children:"node-cron"}),", ",l.jsx("code",{children:"BullMQ"}),", or your existing job queue."]}),l.jsx(Me,{title:"services/reconciliationService.js",language:"javascript",code:`// services/reconciliationService.js
// Cron job  poll gateways for sessions stuck past their expiry.
// This is the safety net for missed or failed webhook deliveries.
// Schedule: every 5 minutes (configure in your cron setup  node-cron, BullMQ, etc.)

const { Op }         = require('sequelize');
const GatewayFactory = require('../gateways/GatewayFactory');
// TODO: Import your models
// const { PaymentSession, PaymentTransaction, BusinessPaymentConfig, ... } = require('../../models');
// TODO: Import sequelize instance for transactions
// const sequelize = require('../../config/database');

/**
 * Main reconciliation function. Call this on a cron schedule.
 * Finds all sessions past their expiry in non-terminal states and resolves them.
 */
const reconcileStalePaymentSessions = async () => {
  const staleSessions = await PaymentSession.findAll({
    where: {
      session_status: { [Op.in]: ['created', 'pending'] },
      expire_at:      { [Op.lt]: new Date() },
    },
    include: [{ model: PaymentTransaction, as: 'transaction' }],
  });

  console.log(\`[reconciliation] Found \${staleSessions.length} stale session(s)\`);

  // Process sequentially to avoid overwhelming the gateway APIs
  for (const session of staleSessions) {
    try {
      const paymentConfig = await BusinessPaymentConfig.findOne({
        where: { business_id: session.business_id },
      });

      if (!paymentConfig) {
        console.warn(\`[reconciliation] No payment config for business \${session.business_id}\`);
        await markSessionExpired(session);
        continue;
      }

      const gateway     = GatewayFactory.createForBusiness(paymentConfig);
      const statusResult = await gateway.getSessionStatus(session.provider_session_id);

      if (statusResult.status === 'PAID') {
        // Webhook was missed  recover the payment as if we received it
        await handleRecoveredPayment(session, statusResult);
        console.log(\`[reconciliation] Recovered missed payment for session \${session.id}\`);
      } else {
        // Not paid and expired  mark it done
        await markSessionExpired(session);
        console.log(\`[reconciliation] Expired session \${session.id}\`);
      }
    } catch (error) {
      // Log and continue  one failure shouldn't halt the entire reconciliation pass
      console.error(\`[reconciliation] Error processing session \${session.id}\`, error.message);
    }
  }
};

/**
 * Mark a session and its linked transaction + booking as expired/failed.
 */
const markSessionExpired = async (session) => {
  const t = await sequelize.transaction();
  try {
    await PaymentSession.update(
      { session_status: 'expired' },
      { where: { id: session.id }, transaction: t }
    );
    await PaymentTransaction.update(
      { payment_status: 'failed', failed_at: new Date() },
      { where: { id: session.payment_transaction_id }, transaction: t }
    );

    // Update the booking payment status
    // TODO: Import Appointment and ClassBooking models
    const BookingModel = session.transaction.booking_type === 'appointment'
      ? Appointment : ClassBooking;

    await BookingModel.update(
      { payment_status: 'failed' },
      { where: { id: session.transaction.booking_id }, transaction: t }
    );

    await t.commit();

    // TODO: Emit event for notifications (non-blocking)
    // EventBridgeService.emitEvent('payment.session.expired', { sessionId: session.id });
  } catch (error) {
    await t.rollback();
    throw error;
  }
};

/**
 * Recover a payment that succeeded but whose webhook was never received.
 * Replicates the terminal SUCCESS path from handleWebhook in onlinePaymentService.
 */
const handleRecoveredPayment = async (session, statusResult) => {
  const t = await sequelize.transaction();
  try {
    await PaymentSession.update(
      { session_status: 'paid', paid_at: new Date() },
      { where: { id: session.id }, transaction: t }
    );
    await PaymentTransaction.update(
      {
        payment_status:         'completed',
        gateway_transaction_id: statusResult.transactionId,
        completed_at:           new Date(),
      },
      { where: { id: session.payment_transaction_id }, transaction: t }
    );

    // TODO: Import Appointment and ClassBooking
    const BookingModel = session.transaction.booking_type === 'appointment'
      ? Appointment : ClassBooking;
    const newBookingStatus = session.payment_type === 'full' ? 'paid_in_full' : 'paid_deposit';

    await BookingModel.update(
      { payment_status: newBookingStatus },
      { where: { id: session.transaction.booking_id }, transaction: t }
    );

    await t.commit();

    // TODO: Emit event for notifications (non-blocking)
    // EventBridgeService.emitEvent('payment.success', { sessionId: session.id, source: 'reconciliation' });
  } catch (error) {
    await t.rollback();
    throw error;
  }
};

module.exports = { reconcileStalePaymentSessions };`})]}),l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[l.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[l.jsx(k1,{size:18,className:"text-primary-600"})," 3.8 Utils  Amount Helpers"]}),l.jsx("p",{className:"text-sm text-slate-600 mb-6",children:"Pure functions, no side effects. Handles all amount format translations between EGP decimals, integer cents (Paymob), and decimal strings (Kashier)."}),l.jsx(Me,{title:"utils/amountHelpers.js",language:"javascript",code:`// utils/amountHelpers.js
// Pure utility functions for monetary amount handling.
// Centralising these prevents scattered * 100 and .toFixed(2) calls.
// All internal amounts are stored as DECIMAL EGP e.g. 150.00.

/**
 * Convert EGP decimal  integer cents (required by Paymob).
 * @example toCents(149.99)  14999
 */
const toCents = (amount) => Math.round(amount * 100);

/**
 * Convert integer cents  EGP decimal (used when reading Paymob responses).
 * @example fromCents(14999)  149.99
 */
const fromCents = (amountCents) => amountCents / 100;

/**
 * Format as a decimal string with exactly 2 decimal places (required by Kashier).
 * @example toDecimalString(150)  "150.00"
 * @example toDecimalString(149.9)  "149.90"
 */
const toDecimalString = (amount) => Number(amount).toFixed(2);

/**
 * Validate that a monetary amount is a positive finite number.
 * Throws on invalid input  call this before any gateway interaction.
 */
const validateAmount = (amount) => {
  if (typeof amount !== 'number' || !isFinite(amount) || amount <= 0) {
    throw new Error(\`Invalid amount: \${amount}. Must be a positive finite number.\`);
  }
};

/**
 * Calculate the deposit amount from the full service price.
 *
 * @param {number} fullAmount   - Full service price in EGP
 * @param {string} depositType  - 'fixed' | 'percentage'
 * @param {number} depositValue - EGP amount (fixed) or percentage e.g. 20 for 20%
 * @returns {number} Deposit amount in EGP, rounded to 2dp
 */
const calculateDepositAmount = (fullAmount, depositType, depositValue) => {
  validateAmount(fullAmount);

  if (depositType === 'fixed') {
    if (depositValue <= 0 || depositValue > fullAmount) {
      throw new Error('Fixed deposit must be greater than 0 and not exceed the full amount');
    }
    return Math.round(depositValue * 100) / 100;
  }

  if (depositType === 'percentage') {
    if (depositValue <= 0 || depositValue >= 100) {
      throw new Error('Percentage deposit must be between 1 and 99');
    }
    return Math.round((fullAmount * (depositValue / 100)) * 100) / 100;
  }

  throw new Error(\`Unknown deposit type: "\${depositType}"\`);
};

/**
 * Resolve the amounts to charge based on payment type.
 * Used by onlinePaymentService.initiateCheckout() to determine what to charge.
 *
 * @param {Object} booking       - The booking record (must have total_price)
 * @param {Object} serviceConfig - A ServicePaymentConfig instance
 * @param {string} paymentType   - 'full' | 'deposit'
 * @returns {{ amount: number, totalServiceAmount: number, depositAmount: number|null }}
 */
const resolvePaymentAmounts = (booking, serviceConfig, paymentType) => {
  const totalServiceAmount = parseFloat(booking.total_price);
  validateAmount(totalServiceAmount);

  if (paymentType === 'full') {
    return { amount: totalServiceAmount, totalServiceAmount, depositAmount: null };
  }

  if (paymentType === 'deposit') {
    const depositAmount = calculateDepositAmount(
      totalServiceAmount,
      serviceConfig.deposit_type,
      parseFloat(serviceConfig.deposit_value)
    );
    return { amount: depositAmount, totalServiceAmount, depositAmount };
  }

  throw new Error(\`Unknown paymentType: "\${paymentType}"\`);
};

module.exports = { toCents, fromCents, toDecimalString, validateAmount, calculateDepositAmount, resolvePaymentAmounts };`})]}),l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[l.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[l.jsx(Pc,{size:18,className:"text-primary-600"})," 3.10 Modular Payment Router"]}),l.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["All payment routes live in a single ",l.jsx("code",{children:"routes/payments.js"})," file. Routes use relative paths (e.g., ",l.jsx("code",{children:"/client/checkout"}),") so the same router can be mounted at multiple prefixes in ",l.jsx("code",{children:"index.js"})," to support different API versions and contexts."]}),l.jsx(Me,{title:"routes/payments.js",language:"javascript",code:`// routes/payments.js  Modular payment router
// Contains all payment routes organized by user context (B2C, Admin, Business, Public).
// Mounted at multiple prefixes in index.js to support different API versions.

const express = require('express');
const router  = express.Router();

const checkoutController   = require('../controllers/checkoutController');
const webhookController    = require('../controllers/webhookController');
const refundController     = require('../controllers/refundController');
const settingsController   = require('../controllers/settingsController');
const verifyKashierWebhook = require('../middleware/verifyKashierWebhook');
const verifyPaymobWebhook  = require('../middleware/verifyPaymobWebhook');

// TODO: Import your auth middleware
// const { authenticate, authorizeAdmin, authorizeBusiness } = require('../auth/middleware');

// Stub middleware if auth is not yet wired in
const authenticate = (req, res, next) => next();
const authorizeAdmin = (req, res, next) => next();
const authorizeBusiness = (req, res, next) => next();

//  B2C: Client-facing (requires user JWT) 
router.post(
  '/client/checkout',
  authenticate,
  checkoutController.createSession
);

router.get(
  '/client/session/:id/status',
  authenticate,
  checkoutController.getSessionStatus
);

//  Public: Provider callbacks  secured by HMAC middleware, not auth JWT 
router.get(
  '/online/redirect',
  webhookController.handleRedirect   // No auth  public redirect endpoint
);

router.post(
  '/online/webhook/kashier',
  verifyKashierWebhook,              // 401 if HMAC invalid  controller never runs
  webhookController.handleWebhook
);

router.post(
  '/online/webhook/paymob',
  verifyPaymobWebhook,
  webhookController.handleWebhook
);

//  Admin: Refund + config management 
router.post(
  '/admin/transactions/:id/refund',
  authenticate, authorizeAdmin,
  refundController.processRefund
);

router.post(
  '/admin/payment-configs/:businessId',
  authenticate, authorizeAdmin,
  settingsController.createConfig
);

router.put(
  '/admin/payment-configs/:businessId',
  authenticate, authorizeAdmin,
  settingsController.updateConfig
);

router.get(
  '/admin/payment-configs/:businessId',
  authenticate, authorizeAdmin,
  settingsController.getConfig
);

//  Business: Read-only config + per-service payment settings 
router.get(
  '/business/payment-config',
  authenticate, authorizeBusiness,
  settingsController.getBusinessConfig
);

router.put(
  '/business/services/:id/payment-config',
  authenticate, authorizeBusiness,
  settingsController.updateServiceConfig
);

module.exports = router;`})]}),l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[l.jsxs("h3",{className:"text-lg font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[l.jsx(Pc,{size:18,className:"text-primary-600"})," 3.11 Server Entry Point"]}),l.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["The main ",l.jsx("code",{children:"index.js"})," imports the payment router and mounts it at four different prefixes:"]}),l.jsxs("ul",{className:"text-sm text-slate-600 mb-6 space-y-2 ml-4",children:[l.jsxs("li",{children:[l.jsx("code",{children:"/api/v1/payments"}),"  Main API version routes"]}),l.jsxs("li",{children:[l.jsx("code",{children:"/api/client/v1/payments"}),"  B2C client routes"]}),l.jsxs("li",{children:[l.jsx("code",{children:"/api/admin/v1/payments"}),"  Admin-only routes"]}),l.jsxs("li",{children:[l.jsx("code",{children:"/api/business/v1/payments"}),"  Business-specific routes"]})]}),l.jsxs("p",{className:"text-sm text-slate-600 mb-6",children:["This modular approach keeps the main ",l.jsx("code",{children:"index.js"})," clean and allows routes to be reused across API versions without duplication."]}),l.jsx(Me,{title:"index.js (excerpt)",language:"javascript",code:`// index.js  Main server entry point
// Mounts all routes including the modular payment router at multiple API version prefixes.

const express = require('express');
const app = express();

// ... other middleware setup ...

// Mount payment router at multiple prefixes to support different API versions + contexts
const paymentRoutes = require('./routes/payments');
app.use(\`/api/\${apiVersion}/payments\`, paymentRoutes);     // Main API version
app.use('/api/client/v1/payments', paymentRoutes);           // B2C routes
app.use('/api/admin/v1/payments', paymentRoutes);            // Admin routes
app.use('/api/business/v1/payments', paymentRoutes);         // Business routes

// ... other routes and error handling ...

app.listen(port, '0.0.0.0', () => {
  logger.info(\`Server running on port \${port}\`);
});

module.exports = app;`})]})]}),RN=()=>l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Database Schema"}),l.jsxs("p",{className:"text-slate-600 mb-8",children:["Entity Relationship definitions for Postgres. New tables are highlighted in ",l.jsx("span",{className:"text-green-600 font-semibold",children:"green"}),"."]}),l.jsxs("div",{className:"mb-8 border rounded-lg overflow-hidden border-slate-200 shadow-sm",children:[l.jsxs("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-200 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-mono text-sm font-bold text-slate-700",children:"BusinessPaymentConfigs"}),l.jsx(ye,{variant:"success",children:"NEW"})]}),l.jsx("span",{className:"text-xs text-slate-500",children:"Provider assignment & credentials"})]}),l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-slate-50/50 text-slate-500 font-medium border-b border-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2",children:"Column"}),l.jsx("th",{className:"px-4 py-2",children:"Type"}),l.jsx("th",{className:"px-4 py-2",children:"Notes"})]})}),l.jsxs("tbody",{className:"divide-y divide-slate-100 bg-white",children:[l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"business_id"}),l.jsx("td",{className:"px-4 py-3 text-purple-600",children:"UUID (FK)"}),l.jsx("td",{className:"px-4 py-3 text-slate-500",children:"Unique per business"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"payment_provider"}),l.jsx("td",{className:"px-4 py-3 text-amber-600",children:"ENUM"}),l.jsx("td",{className:"px-4 py-3 text-slate-500",children:"'kashier' | 'paymob'. Set by Admin."})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"provider_merchant_id"}),l.jsx("td",{className:"px-4 py-3 text-teal-600",children:"VARCHAR"}),l.jsx("td",{className:"px-4 py-3 text-slate-500",children:"Connected Acct ID (MID or SubAccount)"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"provider_config"}),l.jsx("td",{className:"px-4 py-3 text-blue-600",children:"JSONB"}),l.jsx("td",{className:"px-4 py-3 text-slate-500",children:"Extra (e.g. Paymob integration_id)"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"is_verified"}),l.jsx("td",{className:"px-4 py-3 text-teal-600",children:"BOOLEAN"}),l.jsx("td",{className:"px-4 py-3 text-slate-500",children:"Resets to false on provider change"})]})]})]})]}),l.jsxs("div",{className:"mb-8 border rounded-lg overflow-hidden border-slate-200 shadow-sm",children:[l.jsxs("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-200 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-mono text-sm font-bold text-slate-700",children:"PaymentSessions"}),l.jsx(ye,{variant:"success",children:"NEW"})]}),l.jsx("span",{className:"text-xs text-slate-500",children:"Gateway lifecycle tracking"})]}),l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-slate-50/50 text-slate-500 font-medium border-b border-slate-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2",children:"Column"}),l.jsx("th",{className:"px-4 py-2",children:"Type"}),l.jsx("th",{className:"px-4 py-2",children:"Notes"})]})}),l.jsxs("tbody",{className:"divide-y divide-slate-100 bg-white",children:[l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"payment_transaction_id"}),l.jsx("td",{className:"px-4 py-3 text-purple-600",children:"UUID (FK)"}),l.jsx("td",{className:"px-4 py-3 text-slate-500",children:"Links to ledger"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"provider_session_id"}),l.jsx("td",{className:"px-4 py-3 text-teal-600",children:"VARCHAR"}),l.jsx("td",{className:"px-4 py-3 text-slate-500",children:"Unique. External ID."})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"session_status"}),l.jsx("td",{className:"px-4 py-3 text-amber-600",children:"ENUM"}),l.jsx("td",{className:"px-4 py-3 text-slate-500",children:"'created', 'pending', 'paid', 'failed', 'expired'"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"payment_type"}),l.jsx("td",{className:"px-4 py-3 text-amber-600",children:"ENUM"}),l.jsx("td",{className:"px-4 py-3 text-slate-500",children:"'full' | 'deposit'"})]})]})]})]}),l.jsxs("div",{className:"mb-8 border rounded-lg overflow-hidden border-slate-200 shadow-sm",children:[l.jsxs("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-200 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-mono text-sm font-bold text-slate-700",children:"ServicePaymentConfigs"}),l.jsx(ye,{variant:"success",children:"NEW"})]}),l.jsx("span",{className:"text-xs text-slate-500",children:"Deposit configuration per service"})]}),l.jsx("table",{className:"w-full text-sm text-left",children:l.jsxs("tbody",{className:"divide-y divide-slate-100 bg-white",children:[l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"service_detail_id"}),l.jsx("td",{className:"px-4 py-3 text-purple-600",children:"UUID (FK)"}),l.jsx("td",{className:"px-4 py-3 text-slate-500"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"payment_type"}),l.jsx("td",{className:"px-4 py-3 text-amber-600",children:"ENUM"}),l.jsx("td",{className:"px-4 py-3 text-slate-500",children:"'full' | 'deposit' | 'both'"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"deposit_type"}),l.jsx("td",{className:"px-4 py-3 text-amber-600",children:"ENUM"}),l.jsx("td",{className:"px-4 py-3 text-slate-500",children:"'fixed' | 'percentage'"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"deposit_value"}),l.jsx("td",{className:"px-4 py-3 text-teal-600",children:"DECIMAL"}),l.jsx("td",{className:"px-4 py-3 text-slate-500",children:"Value based on type"})]})]})})]}),l.jsxs("div",{className:"mb-8 border rounded-lg overflow-hidden border-slate-200 shadow-sm",children:[l.jsxs("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-200 flex justify-between items-center",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-mono text-sm font-bold text-slate-700",children:"SystemSettings"}),l.jsx(ye,{variant:"success",children:"NEW"})]}),l.jsx("span",{className:"text-xs text-slate-500",children:"Global platform settings"})]}),l.jsx("table",{className:"w-full text-sm text-left",children:l.jsxs("tbody",{className:"divide-y divide-slate-100 bg-white",children:[l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"key"}),l.jsx("td",{className:"px-4 py-3 text-teal-600",children:"VARCHAR"}),l.jsx("td",{className:"px-4 py-3 text-slate-500",children:"UNIQUE (e.g. 'default_payment_provider')"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"value"}),l.jsx("td",{className:"px-4 py-3 text-teal-600",children:"VARCHAR"}),l.jsx("td",{className:"px-4 py-3 text-slate-500",children:"'kashier'"})]})]})})]}),l.jsxs("div",{className:"mb-8 border rounded-lg overflow-hidden border-slate-200 shadow-sm",children:[l.jsx("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-200 flex justify-between items-center",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"font-mono text-sm font-bold text-slate-700",children:"PaymentTransactions"}),l.jsx(ye,{variant:"warning",children:"MODIFIED"})]})}),l.jsx("table",{className:"w-full text-sm text-left",children:l.jsxs("tbody",{className:"divide-y divide-slate-100 bg-white",children:[l.jsxs("tr",{className:"bg-yellow-50/50",children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"payment_type"}),l.jsx("td",{className:"px-4 py-3 text-teal-600",children:"VARCHAR"}),l.jsx("td",{className:"px-4 py-3 text-slate-500",children:"'full' | 'deposit'"})]}),l.jsxs("tr",{className:"bg-yellow-50/50",children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"deposit_amount"}),l.jsx("td",{className:"px-4 py-3 text-teal-600",children:"DECIMAL"}),l.jsx("td",{className:"px-4 py-3 text-slate-500",children:"Amount actually charged"})]}),l.jsxs("tr",{className:"bg-yellow-50/50",children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"total_service_amount"}),l.jsx("td",{className:"px-4 py-3 text-teal-600",children:"DECIMAL"}),l.jsx("td",{className:"px-4 py-3 text-slate-500",children:"Original price before deposit"})]}),l.jsxs("tr",{className:"bg-yellow-50/50",children:[l.jsx("td",{className:"px-4 py-3 font-mono text-slate-700",children:"gateway_session_id"}),l.jsx("td",{className:"px-4 py-3 text-teal-600",children:"VARCHAR"}),l.jsx("td",{className:"px-4 py-3 text-slate-500",children:"Ref to PaymentSession"})]})]})})]})]})}),ON=()=>l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Appendix B: Code Specifications"}),l.jsx("p",{className:"text-slate-600 mb-6",children:"Pseudocode for core service logic, ensuring data integrity and correct Gateway Factory usage."}),l.jsxs("div",{className:"space-y-10",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"B.1 initiateCheckout()"}),l.jsx(ye,{variant:"info",children:"Service Layer"})]}),l.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Handles validation, calculation, and session creation via DI."}),l.jsx(Me,{title:"OnlinePaymentService.initiateCheckout()",language:"javascript",code:`FUNCTION initiateCheckout(userId, bookingType, bookingId, paymentType):
  // 1. Load and validate booking
  booking = FIND booking by (bookingType, bookingId) INCLUDE Business
  IF NOT booking: THROW CustomError.notFound("Booking not found")
  IF booking.user_id != userId AND booking.booked_by != userId: THROW CustomError(403)

  // 2. Check for existing active session (with lock to prevent duplicates)
  existingSession = FIND PaymentSession WHERE
    payment_transaction_id IN (
      SELECT id FROM PaymentTransactions
      WHERE booking_type = bookingType AND booking_id = bookingId
    ) AND session_status IN ('created', 'pending')
    FOR UPDATE SKIP LOCKED
  IF existingSession AND existingSession.expire_at > NOW:
    RETURN { sessionId: existingSession.provider_session_id,
             sessionUrl: existingSession.session_url }

  // 3. Load business payment config (admin-assigned provider + connected account ID)
  paymentConfig = FIND BusinessPaymentConfig
    WHERE business_id = booking.business_id AND is_active = true AND is_verified = true
  IF NOT paymentConfig:
    THROW CustomError.badRequest("Online payments not configured for this business")

  // 4. Validate service payment config and calculate amount
  serviceConfig = FIND ServicePaymentConfig
    WHERE service_detail_id = booking.service_detail_id AND business_id = booking.business_id
  IF NOT serviceConfig OR NOT serviceConfig.online_payment_enabled:
    THROW CustomError.badRequest("Online payment not enabled for this service")
  IF paymentType == 'deposit' AND serviceConfig.payment_type NOT IN ('deposit', 'both'):
    THROW CustomError.badRequest("Deposit payment not available for this service")

  amounts = ServicePaymentConfigService.calculatePaymentAmount(
    booking.service_detail_id, paymentType
  )
  // amounts = { amount, totalServiceAmount, depositAmount }

  // 5. BEGIN DB TRANSACTION  all local DB writes are atomic
  dbTransaction = AWAIT sequelize.transaction()

  TRY:
    // 5a. Create PaymentTransaction
    txnRef = GENERATE "TXN-{booking.id.substring(0,8)}-{Date.now()}"
    transaction = CREATE PaymentTransaction {
      transaction_reference: txnRef,
      business_id: booking.business_id,
      user_id: userId,
      booking_type: bookingType,
      booking_id: bookingId,
      payment_method_id: PAY_ONLINE_METHOD_ID,
      amount: amounts.amount,
      currency: 'EGP',
      payment_status: 'pending',
      payment_gateway: paymentConfig.payment_provider,
      payment_type: paymentType,
      deposit_amount: amounts.depositAmount,
      total_service_amount: amounts.totalServiceAmount,
      ip_address: request.ip
    }, { transaction: dbTransaction }

    // 5b. Call payment gateway (external API call  outside DB transaction scope)
    //     GatewayFactory resolves provider from paymentConfig.payment_provider
    //     Uses PLATFORM keys from .env + business's connected account ID
    gateway = GatewayFactory.createForBusiness(paymentConfig)
    customer = FIND User WHERE id = userId
    gatewayResult = AWAIT gateway.createSession({
      amount: amounts.amount,
      currency: 'EGP',
      orderId: txnRef,
      merchantId: paymentConfig.provider_merchant_id,
      redirectUrl: \`\${API_BASE}/api/v1/payments/online/redirect\`,
      webhookUrl: \`\${API_BASE}/api/v1/payments/online/webhook/\${paymentConfig.payment_provider}\`,
      customer: { email: customer.email, reference: userId },
      metadata: { booking_type: bookingType, booking_id: bookingId,
                  payment_type: paymentType, business_id: booking.business_id },
      enable3DS: true,
      allowedMethods: 'card,wallet',
      display: request.locale || 'en'
    })

    // 5c. Create PaymentSession
    session = CREATE PaymentSession {
      payment_transaction_id: transaction.id,
      business_id: booking.business_id,
      user_id: userId,
      payment_provider: paymentConfig.payment_provider,
      provider_session_id: gatewayResult.sessionId,
      session_url: gatewayResult.sessionUrl,
      session_status: 'created',
      amount: amounts.amount,
      currency: 'EGP',
      payment_type: paymentType,
      provider_response: gatewayResult.providerResponse,
      expire_at: NOW + PAYMENT_SESSION_EXPIRY_MINUTES
    }, { transaction: dbTransaction }

    // 5d. Link session to transaction
    UPDATE transaction SET gateway_session_id = gatewayResult.sessionId
      { transaction: dbTransaction }

    AWAIT dbTransaction.commit()

  CATCH error:
    AWAIT dbTransaction.rollback()
    // If gateway was called but DB commit failed, the gateway session
    // will expire on its own (30 min TTL). No cleanup needed.
    THROW error

  RETURN {
    session_id: gatewayResult.sessionId,
    session_url: gatewayResult.sessionUrl,
    transaction_reference: txnRef,
    amount: amounts.amount,
    currency: 'EGP',
    payment_type: paymentType,
    expires_at: session.expire_at
  }`})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"B.2 handleWebhook()"}),l.jsx(ye,{variant:"danger",children:"Critical Path"})]}),l.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Normalized logic for both providers. Handles idempotency and final status updates."}),l.jsx(Me,{title:"OnlinePaymentService.handleWebhook()",language:"javascript",code:`FUNCTION handleWebhook(provider, headers, body):
  // NOTE: Signature verification already done by per-provider middleware
  //       (verifyKashierWebhook or verifyPaymobWebhook)
  //       This function receives a normalized payload.

  // 1. Extract session ID (provider-specific field names normalized by middleware)
  sessionId = body.normalizedSessionId
  webhookStatus = body.normalizedStatus   // 'SUCCESS' | 'FAILURE' | 'DECLINED'

  // 2. Load session with lock for idempotency
  dbTransaction = AWAIT sequelize.transaction()

  TRY:
    session = FIND PaymentSession
      WHERE provider_session_id = sessionId
      INCLUDE PaymentTransaction
      FOR UPDATE
      { transaction: dbTransaction }

    IF NOT session:
      AWAIT dbTransaction.rollback()
      LOG.warn('Webhook received for unknown session', { sessionId, provider })
      RETURN { acknowledged: true }

    // 3. Idempotency check  skip if already in a terminal state
    IF session.session_status IN ('paid', 'failed', 'expired'):
      AWAIT dbTransaction.rollback()
      RETURN { acknowledged: true }

    // 4. Load the booking via PaymentTransaction's polymorphic FK
    transaction = session.PaymentTransaction
    BookingModel = transaction.booking_type == 'appointment' ? Appointment : ClassBooking
    booking = FIND BookingModel WHERE id = transaction.booking_id
      FOR UPDATE
      { transaction: dbTransaction }

    // 5. Process based on webhook status
    IF webhookStatus == 'SUCCESS':
      UPDATE session SET
        session_status = 'paid', paid_at = NOW
        { transaction: dbTransaction }
      UPDATE transaction SET
        payment_status = 'completed',
        gateway_transaction_id = body.transactionId,
        gateway_response = body,
        completed_at = NOW
        { transaction: dbTransaction }
      IF session.payment_type == 'full':
        UPDATE booking SET payment_status = 'paid_in_full' { transaction: dbTransaction }
      ELSE:
        UPDATE booking SET payment_status = 'paid_deposit' { transaction: dbTransaction }

    ELSE IF webhookStatus IN ('FAILURE', 'DECLINED'):
      UPDATE session SET
        session_status = 'failed', failed_at = NOW
        { transaction: dbTransaction }
      UPDATE transaction SET
        payment_status = 'failed',
        gateway_response = body,
        error_message = body.message,
        failed_at = NOW
        { transaction: dbTransaction }
      UPDATE booking SET payment_status = 'failed' { transaction: dbTransaction }
      // Release booking slot (same as redirect failure handler)
      RELEASE_BOOKING_SLOT(booking, dbTransaction)

    AWAIT dbTransaction.commit()

  CATCH error:
    AWAIT dbTransaction.rollback()
    LOG.error('Webhook processing failed', { sessionId, provider, error })
    // Still return 200 to prevent provider retry storms  we'll reconcile via cron
    RETURN { acknowledged: true }

  // 6. Fire notification (non-blocking, after commit)
  EventBridgeService.emitEvent(
    'payment.' + (webhookStatus == 'SUCCESS' ? 'success' : 'failed'),
    { ... }
  )

  RETURN { acknowledged: true }`})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"B.3 processRefund()"}),l.jsx(ye,{variant:"warning",children:"Complex Logic"})]}),l.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"Ensures partial refunds do not exceed original amount and routes to correct gateway."}),l.jsx(Me,{title:"OnlinePaymentService.processRefund()",language:"javascript",code:`FUNCTION processRefund(transactionId, refundType, refundAmount, reason, requestedBy):
  dbTransaction = AWAIT sequelize.transaction()

  TRY:
    // 1. Load and lock transaction to prevent concurrent refund race conditions
    transaction = FIND PaymentTransaction WHERE id = transactionId
      FOR UPDATE
      { transaction: dbTransaction }
    IF NOT transaction: THROW CustomError.notFound("Transaction not found")
    IF transaction.payment_status NOT IN ('completed', 'partially_refunded'):
      THROW CustomError.badRequest("Transaction is not eligible for refund")

    // 2. Calculate refundable amount
    existingRefunds = SUM PaymentRefund.refund_amount WHERE
      payment_transaction_id = transactionId AND refund_status = 'completed'
    remainingRefundable = transaction.amount - existingRefunds

    IF refundType == 'full':
      actualRefundAmount = remainingRefundable
    ELSE:
      actualRefundAmount = refundAmount
      IF actualRefundAmount > remainingRefundable:
        THROW CustomError.badRequest("Refund amount exceeds refundable balance")

    // 3. Create refund record (audit trail  shows we attempted the refund)
    refundRef = GENERATE "REF-{transaction.id.substring(0,8)}-{Date.now()}"
    refund = CREATE PaymentRefund {
      payment_transaction_id: transactionId,
      refund_reference: refundRef,
      original_amount: transaction.amount,
      refund_amount: actualRefundAmount,
      refund_reason: reason,
      refund_type: refundType,
      refund_status: 'processing',
      payment_gateway: transaction.payment_gateway,
      requested_by: requestedBy
    }, { transaction: dbTransaction }

    // 4. Call gateway (external API  platform keys + business merchant ID)
    paymentConfig = FIND BusinessPaymentConfig WHERE business_id = transaction.business_id
    gateway = GatewayFactory.createForBusiness(paymentConfig)

    gatewayResult = AWAIT gateway.refund({
      orderId: transaction.gateway_transaction_id,
      amount: actualRefundAmount,
      reason: reason,
      isFullRefund: refundType == 'full'
    })

    // 5. Update refund record with gateway response
    UPDATE refund SET
      refund_status = 'completed',
      gateway_refund_id = gatewayResult.refundId,
      gateway_response = gatewayResult.providerResponse,
      completed_at = NOW
      { transaction: dbTransaction }

    // 6. Update transaction status
    IF (existingRefunds + actualRefundAmount) >= transaction.amount:
      UPDATE transaction SET payment_status = 'refunded' { transaction: dbTransaction }
    ELSE:
      UPDATE transaction SET payment_status = 'partially_refunded' { transaction: dbTransaction }

    // 7. Load and update booking via polymorphic FK
    BookingModel = transaction.booking_type == 'appointment' ? Appointment : ClassBooking
    booking = FIND BookingModel WHERE id = transaction.booking_id { transaction: dbTransaction }
    IF booking:
      UPDATE booking SET payment_status = 'refunded' { transaction: dbTransaction }

    AWAIT dbTransaction.commit()

    // 8. Fire notification (non-blocking, after commit)
    EventBridgeService.emitEvent('payment.refund.completed', { ... })

    RETURN refund

  CATCH error:
    // If gateway call failed, update refund record before rollback
    IF refund AND refund.refund_status == 'processing':
      UPDATE refund SET
        refund_status = 'failed',
        error_message = error.message,
        gateway_response = error.response
        { transaction: dbTransaction }
      AWAIT dbTransaction.commit()  // Commit the failure record for audit trail

      EventBridgeService.emitEvent('payment.refund.failed', { ... })
    ELSE:
      AWAIT dbTransaction.rollback()

    THROW error`})]})]})]})}),kN=[{finding:"Webhook Auth Bypass",severity:"HIGH",recommendation:"Middleware MUST verify signatures. Kashier: HMAC-SHA256 (api key). Paymob: HMAC-SHA512 (ordered fields)."},{finding:"Amount Tampering",severity:"CRITICAL",recommendation:"Ignore client amounts. Calculate server-side. Paymob requires cents (integer), Kashier requires decimal string."},{finding:"Business Config Access",severity:"HIGH",recommendation:"Enforce `req.user.business_id` check on all config routes. Do NOT trust params."},{finding:"Secrets Exposure",severity:"HIGH",recommendation:"Platform Keys in `.env` ONLY. Business Config in DB contains PUBLIC Merchant IDs only."},{finding:"Double Payment",severity:"HIGH",recommendation:"Check for existing pending session before creating new one. Idempotency on webhook."},{finding:"Rate Limiting",severity:"HIGH",recommendation:"Checkout endpoint abuse protection (5 req/min/user). Webhook IP allowlisting/rate limiting."},{finding:"PII Exposure",severity:"LOW",recommendation:"Only send email/reference to provider. Use 'NA' for optional Paymob billing fields."}],zN=[{id:"EC-1",title:"Webhook <-> Redirect Race",solution:"Webhook is source of truth. Redirect only updates to 'processing' (UX). Polling job ensures finality."},{id:"EC-2",title:"Webhook Never Arrives",solution:"Scheduled job polls gateway.getSessionStatus() for stale pending sessions."},{id:"EC-3",title:"Duplicate Webhooks",solution:"Idempotency check on PaymentSession.status. If 'paid', ignore subsequent calls. Use DB locking."},{id:"EC-6",title:"Amount Mismatch",solution:"Compare webhook amount with PaymentTransaction.amount. If mismatch, fail transaction & alert."},{id:"EC-7",title:"Revoked Account",solution:"Webhook processing uses platform keys to verify, so success can still be processed."},{id:"EC-11",title:"Deposit Rounding",solution:"Round to 2 decimals first. Paymob conversion to cents happens AFTER rounding."},{id:"EC-13",title:"Business Deactivated",solution:"If session created, process payment. Flag for admin review."}],UN=()=>l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[l.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[l.jsx(Cu,{className:"text-primary-600"})," Security Review"]}),l.jsx("div",{className:"grid gap-4",children:kN.map((a,i)=>l.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border border-l-4 border-l-rose-500 bg-white shadow-sm",children:[l.jsx(w1,{className:"text-rose-500 flex-shrink-0",size:20}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("h4",{className:"font-bold text-slate-800",children:a.finding}),l.jsx(ye,{variant:a.severity==="CRITICAL"||a.severity==="HIGH"?"danger":"warning",children:a.severity})]}),l.jsxs("p",{className:"text-sm text-slate-600",children:[l.jsx("span",{className:"font-semibold text-slate-700",children:"Mitigation:"})," ",a.recommendation]})]})]},i))})]}),l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[l.jsxs("h2",{className:"text-2xl font-bold text-slate-900 mb-6 flex items-center gap-2",children:[l.jsx(wu,{className:"text-primary-600"})," Edge Case Strategy"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:zN.map(a=>l.jsxs("div",{className:"p-5 bg-slate-50 rounded-lg border border-slate-200",children:[l.jsx("div",{className:"text-xs font-mono font-bold text-slate-400 mb-1",children:a.id}),l.jsx("h4",{className:"font-bold text-slate-800 mb-2",children:a.title}),l.jsx("p",{className:"text-sm text-slate-600",children:a.solution})]},a.id))})]})]}),By=[{name:"Phase 1: Foundation (Days 1-2)",tasks:[{id:"T1",title:"Gateway Interface & Factory Setup",size:"S"},{id:"T2",title:"DB Migrations (Configs, Enums, Refund Fields)",size:"S"},{id:"T3",title:"BusinessPaymentConfig & Model Logic",size:"M"},{id:"T4",title:"Admin API: Provider Assignment Logic",size:"M"}]},{name:"Phase 2: Gateway Implementation (Days 3-5)",tasks:[{id:"T5",title:"KashierGateway: Session & Verification",size:"L"},{id:"T6",title:"PaymobGateway: Intention & HMAC Logic",size:"L"},{id:"T7",title:"Unit Tests for Gateway Abstraction",size:"M"}]},{name:"Phase 3: B2B Merchant Portal (Days 4-7)",tasks:[{id:"T8",title:"UI: Accepting Payments Settings (iOS Toggle)",size:"M"},{id:"T9",title:"UI: Transaction List with Status Filters",size:"M"},{id:"T10",title:"UI: Service Configuration (Deposit %)",size:"M"},{id:"T11",title:"API: Merchant Refund Request Logic",size:"M"}]},{name:"Phase 4: B2C Client Experience (Days 6-8)",tasks:[{id:"T12",title:"UI: Checkout Summary (Pay Now/Later breakdown)",size:"L"},{id:"T13",title:"Integration: Deposit vs Full Payment Logic",size:"M"},{id:"T14",title:"Client-side Provider Redirection Flow",size:"S"}]},{name:"Phase 5: Webhooks & Reconciliation (Days 7-9)",tasks:[{id:"T15",title:"Normalized Webhook Controllers",size:"L"},{id:"T16",title:"Background Job: Stale Session Expiry",size:"M"},{id:"T17",title:"Notification Service (Payment Success/Fail)",size:"M"}]},{name:"Phase 6: QA & Launch Prep (Days 9-10)",tasks:[{id:"T18",title:"End-to-End Sandbox Transaction Testing",size:"L"},{id:"T19",title:"Performance & Security Audit",size:"M"},{id:"T20",title:"Swagger Documentation & Env Handover",size:"S"}]}],BN=()=>{const[a,i]=F.useState({}),o=d=>{i(m=>({...m,[d]:!m[d]}))},c=()=>{const d=By.reduce((h,p)=>h+p.tasks.length,0),m=Object.values(a).filter(Boolean).length;return Math.round(m/d*100)};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-500 mb-2",children:[l.jsx(Gy,{size:16})," ",l.jsx("span",{className:"text-xs font-bold uppercase",children:"Timeline"})]}),l.jsx("div",{className:"text-2xl font-black text-slate-900",children:"10 Days"}),l.jsx("div",{className:"text-[10px] text-slate-400 mt-1 uppercase font-semibold",children:"Total Duration"})]}),l.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-500 mb-2",children:[l.jsx(R1,{size:16})," ",l.jsx("span",{className:"text-xs font-bold uppercase",children:"Resources"})]}),l.jsx("div",{className:"text-2xl font-black text-slate-900",children:"3 People"}),l.jsx("div",{className:"text-[10px] text-slate-400 mt-1 uppercase font-semibold",children:"Senior Engineers"})]}),l.jsxs("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-slate-200",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-500 mb-2",children:[l.jsx(kv,{size:16})," ",l.jsx("span",{className:"text-xs font-bold uppercase",children:"Efficiency"})]}),l.jsx("div",{className:"text-2xl font-black text-slate-900",children:"30 MD"}),l.jsx("div",{className:"text-[10px] text-slate-400 mt-1 uppercase font-semibold",children:"Man-Days Available"})]}),l.jsxs("div",{className:"bg-primary-600 p-5 rounded-xl shadow-sm border border-primary-700 text-white",children:[l.jsxs("div",{className:"flex items-center gap-2 text-primary-200 mb-2",children:[l.jsx(Dv,{size:16})," ",l.jsx("span",{className:"text-xs font-bold uppercase",children:"Progress"})]}),l.jsxs("div",{className:"text-2xl font-black",children:[c(),"%"]}),l.jsx("div",{className:"text-[10px] text-primary-200 mt-1 uppercase font-semibold",children:"Real-time Tracker"})]})]}),l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[l.jsx(s1,{className:"text-primary-600"})," Execution Roadmap"]}),l.jsx("p",{className:"text-slate-600 mt-1",children:"High-parallelization plan for 3 engineers over 10 business days."})]}),l.jsx("div",{className:"hidden md:block",children:l.jsx(ye,{variant:"info",children:"Phase: V1 Release Cycle"})})]}),l.jsx("div",{className:"w-full bg-slate-100 rounded-full h-3 mb-10 overflow-hidden",children:l.jsx("div",{className:"bg-primary-600 h-full transition-all duration-700 ease-out shadow-[0_0_15px_rgba(37,99,235,0.4)]",style:{width:`${c()}%`}})}),l.jsx("div",{className:"space-y-12",children:By.map((d,m)=>l.jsxs("div",{className:"relative pl-8 border-l-2 border-slate-100 last:border-0",children:[l.jsx("div",{className:"absolute -left-[9px] top-0 h-4 w-4 rounded-full bg-white border-4 border-primary-500 shadow-sm"}),l.jsxs("h3",{className:"font-black text-lg text-slate-800 mb-4 uppercase tracking-tight flex items-center justify-between",children:[d.name,l.jsxs(ye,{variant:"neutral",className:"font-mono",children:[m+1,"/6"]})]}),l.jsx("div",{className:"grid grid-cols-1 gap-3",children:d.tasks.map(h=>l.jsxs("label",{className:`flex items-center gap-4 p-4 rounded-xl border transition-all cursor-pointer group ${a[h.id]?"bg-slate-50 border-slate-100 opacity-60":"bg-white border-slate-200 hover:border-primary-300 hover:shadow-md"}`,children:[l.jsx("input",{type:"checkbox",checked:!!a[h.id],onChange:()=>o(h.id),className:"w-5 h-5 text-primary-600 rounded-lg focus:ring-primary-500 border-slate-300 transition-all"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{className:`font-bold text-sm ${a[h.id]?"text-slate-400 line-through":"text-slate-800"}`,children:h.title})}),l.jsx("span",{className:"text-[10px] text-slate-400 font-mono font-bold tracking-widest",children:h.id})]}),l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsx(ye,{variant:h.size==="L"?"danger":h.size==="M"?"warning":"neutral",children:h.size}),l.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase",children:"Size"})]})]},h.id))})]},m))})]}),l.jsxs("div",{className:"bg-slate-900 rounded-xl p-8 text-white relative overflow-hidden",children:[l.jsxs("div",{className:"relative z-10",children:[l.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[l.jsx(VN,{size:20,className:"text-emerald-400"})," Feasibility Evaluation"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 text-sm",children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("p",{className:"text-slate-300 leading-relaxed",children:["A 10-day timeline for 3 engineers (30 man-days) is ",l.jsx("strong",{children:"highly feasible"})," given that the interface architecture, database schema, and core gateway logic are already pseudocoded and mapped out."]}),l.jsxs("ul",{className:"space-y-2 text-slate-400",children:[l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{className:"text-emerald-400 font-bold",children:""}),"Pre-defined Abstraction (GatewayFactory) eliminates design paralysis."]}),l.jsxs("li",{className:"flex gap-2",children:[l.jsx("span",{className:"text-emerald-400 font-bold",children:""}),"Parallelization: 1 Backend, 1 Frontend/B2B, 1 Integration/QA."]})]})]}),l.jsxs("div",{className:"bg-slate-800/50 p-6 rounded-lg border border-slate-700",children:[l.jsx("h4",{className:"text-xs font-bold uppercase text-slate-400 mb-3 tracking-widest",children:"Parallel Allocation"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs",children:"Eng 1 (Backend Specialist)"}),l.jsx(ye,{variant:"info",className:"bg-blue-500/10 text-blue-400 border-blue-500/20",children:"Gateways & Webhooks"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs",children:"Eng 2 (Frontend Specialist)"}),l.jsx(ye,{variant:"info",className:"bg-blue-500/10 text-blue-400 border-blue-500/20",children:"B2B Settings & B2C Flow"})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs",children:"Eng 3 (Integration & QA)"}),l.jsx(ye,{variant:"info",className:"bg-blue-500/10 text-blue-400 border-blue-500/20",children:"API, Tests & Reconciliation"})]})]})]})]})]}),l.jsx("div",{className:"absolute -bottom-12 -right-12 h-64 w-64 bg-primary-600/10 rounded-full blur-3xl"})]})]})},VN=({size:a,className:i})=>l.jsxs("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:i,children:[l.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}),l.jsx("path",{d:"m9 12 2 2 4-4"})]}),LN=()=>l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"API Design Review"}),l.jsx(ye,{variant:"success",children:"Score: 8/10"})]}),l.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"1. Client Endpoints (B2C)"}),l.jsx("div",{className:"overflow-x-auto mb-8",children:l.jsxs("table",{className:"w-full text-sm text-left border rounded-lg",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 border-b",children:"Method"}),l.jsx("th",{className:"px-4 py-2 border-b",children:"Path"}),l.jsx("th",{className:"px-4 py-2 border-b",children:"Description"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-purple-600 border-b",children:"POST"}),l.jsx("td",{className:"px-4 py-3 font-mono border-b",children:"/api/client/v1/payments/checkout"}),l.jsxs("td",{className:"px-4 py-3 border-b",children:["Create session. Returns ",l.jsx("code",{children:"session_url"}),"."]})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-purple-600 border-b",children:"GET"}),l.jsx("td",{className:"px-4 py-3 font-mono border-b",children:"/api/client/v1/payments/session/:id/status"}),l.jsx("td",{className:"px-4 py-3 border-b",children:"Poll session status."})]})]})]})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"2. Public Endpoints (Callbacks)"}),l.jsx("div",{className:"overflow-x-auto mb-8",children:l.jsxs("table",{className:"w-full text-sm text-left border rounded-lg",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 border-b",children:"Method"}),l.jsx("th",{className:"px-4 py-2 border-b",children:"Path"}),l.jsx("th",{className:"px-4 py-2 border-b",children:"Description"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-purple-600 border-b",children:"GET"}),l.jsx("td",{className:"px-4 py-3 font-mono border-b",children:"/api/v1/payments/online/redirect"}),l.jsx("td",{className:"px-4 py-3 border-b",children:"Provider redirect handler. Updates to 'processing'."})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-purple-600 border-b",children:"POST"}),l.jsx("td",{className:"px-4 py-3 font-mono border-b",children:"/api/v1/payments/online/webhook/kashier"}),l.jsx("td",{className:"px-4 py-3 border-b",children:"HMAC-SHA256 verified. Source of truth."})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-purple-600 border-b",children:"POST"}),l.jsx("td",{className:"px-4 py-3 font-mono border-b",children:"/api/v1/payments/online/webhook/paymob"}),l.jsx("td",{className:"px-4 py-3 border-b",children:"HMAC-SHA512 verified. Source of truth."})]})]})]})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"3. Admin Endpoints (SuperAdmin)"}),l.jsx("div",{className:"overflow-x-auto mb-8",children:l.jsxs("table",{className:"w-full text-sm text-left border rounded-lg",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 border-b",children:"Method"}),l.jsx("th",{className:"px-4 py-2 border-b",children:"Path"}),l.jsx("th",{className:"px-4 py-2 border-b",children:"Description"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-blue-600 border-b",children:"POST"}),l.jsx("td",{className:"px-4 py-3 font-mono border-b",children:"/api/admin/v1/payments/payment-configs/:businessId"}),l.jsx("td",{className:"px-4 py-3 border-b",children:"Create config (Assign Provider + Merchant ID)."})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-blue-600 border-b",children:"PUT"}),l.jsx("td",{className:"px-4 py-3 font-mono border-b",children:"/api/admin/v1/payments/payment-configs/:businessId"}),l.jsx("td",{className:"px-4 py-3 border-b",children:"Update provider or keys."})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-blue-600 border-b",children:"POST"}),l.jsx("td",{className:"px-4 py-3 font-mono border-b",children:"/api/admin/v1/payments/transactions/:id/refund"}),l.jsx("td",{className:"px-4 py-3 border-b",children:"Force refund."})]})]})]})}),l.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"4. Business Endpoints"}),l.jsx("div",{className:"overflow-x-auto mb-8",children:l.jsxs("table",{className:"w-full text-sm text-left border rounded-lg",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 border-b",children:"Method"}),l.jsx("th",{className:"px-4 py-2 border-b",children:"Path"}),l.jsx("th",{className:"px-4 py-2 border-b",children:"Description"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-blue-600 border-b",children:"GET"}),l.jsx("td",{className:"px-4 py-3 font-mono border-b",children:"/api/business/v1/payments/payment-config"}),l.jsx("td",{className:"px-4 py-3 border-b",children:"Read-only view of assigned provider."})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-3 font-mono text-blue-600 border-b",children:"PUT"}),l.jsx("td",{className:"px-4 py-3 font-mono border-b",children:"/api/business/v1/services/:id/payment-config"}),l.jsx("td",{className:"px-4 py-3 border-b",children:"Set full/deposit options per service."})]})]})]})})]})}),PN=()=>l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-6",children:"Test Strategy"}),l.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"1. Unit Tests (Jest)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[l.jsxs("div",{className:"border p-4 rounded-lg bg-slate-50",children:[l.jsx("h4",{className:"font-bold mb-2",children:"Gateways"}),l.jsxs("ul",{className:"list-disc list-inside text-sm text-slate-700 space-y-1",children:[l.jsxs("li",{children:[l.jsx("code",{children:"KashierGateway.createSession"})," (Mock API)"]}),l.jsxs("li",{children:[l.jsx("code",{children:"KashierGateway.verifyWebhook"})," (Valid/Invalid Sig)"]}),l.jsxs("li",{children:[l.jsx("code",{children:"PaymobGateway.createSession"})," (Cents Conversion)"]}),l.jsxs("li",{children:[l.jsx("code",{children:"PaymobGateway.verifyWebhook"})," (Field Order)"]}),l.jsxs("li",{children:[l.jsx("code",{children:"GatewayFactory"})," (Resolution Logic)"]})]})]}),l.jsxs("div",{className:"border p-4 rounded-lg bg-slate-50",children:[l.jsx("h4",{className:"font-bold mb-2",children:"Service Layer"}),l.jsxs("ul",{className:"list-disc list-inside text-sm text-slate-700 space-y-1",children:[l.jsxs("li",{children:[l.jsx("code",{children:"initiateCheckout"})," (Success/Fail/Config missing)"]}),l.jsxs("li",{children:[l.jsx("code",{children:"handleWebhook"})," (Success/Fail/Idempotency)"]}),l.jsxs("li",{children:[l.jsx("code",{children:"processRefund"})," (Full/Partial)"]}),l.jsxs("li",{children:[l.jsx("code",{children:"adminSetProvider"})," (Reset verification)"]})]})]})]}),l.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-4",children:"2. Integration Tests (Supertest)"}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full text-sm text-left border rounded-lg",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-2 border-b",children:"Flow"}),l.jsx("th",{className:"px-4 py-2 border-b",children:"Route"}),l.jsx("th",{className:"px-4 py-2 border-b",children:"Expected"})]})}),l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-2 border-b font-medium",children:"Checkout Success"}),l.jsx("td",{className:"px-4 py-2 border-b font-mono",children:"POST /checkout"}),l.jsx("td",{className:"px-4 py-2 border-b",children:"201 Created + Session URL"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-2 border-b font-medium",children:"Kashier Webhook"}),l.jsx("td",{className:"px-4 py-2 border-b font-mono",children:"POST /webhook/kashier"}),l.jsx("td",{className:"px-4 py-2 border-b",children:"200 + DB Update (HMAC Valid)"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-2 border-b font-medium",children:"Paymob Webhook"}),l.jsx("td",{className:"px-4 py-2 border-b font-mono",children:"POST /webhook/paymob"}),l.jsx("td",{className:"px-4 py-2 border-b",children:"200 + DB Update (Ordered Fields Valid)"})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"px-4 py-2 border-b font-medium",children:"Admin Assign"}),l.jsx("td",{className:"px-4 py-2 border-b font-mono",children:"PUT /payment-configs/:id"}),l.jsx("td",{className:"px-4 py-2 border-b",children:"200 + Provider Updated"})]})]})]})})]})}),HN=()=>{const[a,i]=F.useState("deposit");return l.jsxs("div",{className:"w-full bg-slate-900 rounded-xl border border-slate-700 shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"flex border-b border-slate-700 bg-slate-800",children:[l.jsx("button",{onClick:()=>i("deposit"),className:`px-4 py-3 text-sm font-medium transition-colors ${a==="deposit"?"text-white bg-slate-700 border-b-2 border-primary-500":"text-slate-400 hover:text-white"}`,children:"Deposit Payment Flow"}),l.jsx("button",{onClick:()=>i("failure"),className:`px-4 py-3 text-sm font-medium transition-colors ${a==="failure"?"text-white bg-slate-700 border-b-2 border-primary-500":"text-slate-400 hover:text-white"}`,children:"Failure Flow"}),l.jsx("button",{onClick:()=>i("env"),className:`px-4 py-3 text-sm font-medium transition-colors ${a==="env"?"text-white bg-slate-700 border-b-2 border-primary-500":"text-slate-400 hover:text-white"}`,children:"Env Resolution"})]}),l.jsxs("div",{className:"p-8 overflow-x-auto",children:[a==="deposit"&&l.jsx(qN,{}),a==="failure"&&l.jsx(GN,{}),a==="env"&&l.jsx(KN,{})]})]})},qN=()=>l.jsx("div",{className:"min-w-[800px] text-xs",children:l.jsxs("svg",{viewBox:"0 0 900 650",className:"w-full h-auto font-mono",children:[l.jsxs("defs",{children:[l.jsx("marker",{id:"arrow",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:l.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#94a3b8"})}),l.jsx("marker",{id:"arrow-blue",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:l.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#3b82f6"})}),l.jsx("marker",{id:"arrow-green",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:l.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#10b981"})}),l.jsx("marker",{id:"arrow-purple",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:l.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#a855f7"})})]}),l.jsxs("g",{transform:"translate(0, 0)",children:[l.jsx("text",{x:"50",y:"30",fill:"#cbd5e1",fontWeight:"bold",textAnchor:"middle",children:"CLIENT"}),l.jsx("line",{x1:"50",y1:"40",x2:"50",y2:"620",stroke:"#334155",strokeDasharray:"4"}),l.jsx("rect",{x:"20",y:"10",width:"60",height:"25",fill:"none",stroke:"#64748b",rx:"2"})]}),l.jsxs("g",{transform:"translate(200, 0)",children:[l.jsx("text",{x:"50",y:"30",fill:"#cbd5e1",fontWeight:"bold",textAnchor:"middle",children:"API"}),l.jsx("line",{x1:"50",y1:"40",x2:"50",y2:"620",stroke:"#334155",strokeDasharray:"4"}),l.jsx("rect",{x:"20",y:"10",width:"60",height:"25",fill:"none",stroke:"#64748b",rx:"2"})]}),l.jsxs("g",{transform:"translate(450, 0)",children:[l.jsx("text",{x:"50",y:"30",fill:"#cbd5e1",fontWeight:"bold",textAnchor:"middle",children:"DB"}),l.jsx("line",{x1:"50",y1:"40",x2:"50",y2:"620",stroke:"#334155",strokeDasharray:"4"}),l.jsx("rect",{x:"20",y:"10",width:"60",height:"25",fill:"none",stroke:"#64748b",rx:"2"})]}),l.jsxs("g",{transform:"translate(700, 0)",children:[l.jsx("text",{x:"50",y:"30",fill:"#cbd5e1",fontWeight:"bold",textAnchor:"middle",children:"GATEWAY (DI)"}),l.jsx("line",{x1:"50",y1:"40",x2:"50",y2:"620",stroke:"#334155",strokeDasharray:"4"}),l.jsx("rect",{x:"20",y:"10",width:"60",height:"25",fill:"none",stroke:"#64748b",rx:"2"})]}),l.jsxs("g",{transform:"translate(0, 70)",children:[l.jsx("line",{x1:"50",y1:"0",x2:"245",y2:"0",stroke:"#3b82f6",strokeWidth:"2",markerEnd:"url(#arrow-blue)"}),l.jsx("text",{x:"150",y:"-10",fill:"#60a5fa",textAnchor:"middle",children:"1. POST /checkout {booking, type='deposit'}"})]}),l.jsxs("g",{transform:"translate(0, 110)",children:[l.jsx("line",{x1:"250",y1:"0",x2:"495",y2:"0",stroke:"#94a3b8",strokeWidth:"2",markerEnd:"url(#arrow)"}),l.jsx("text",{x:"375",y:"-10",fill:"#94a3b8",textAnchor:"middle",children:"2. Create Txn (pending, amt=150)"})]}),l.jsxs("g",{transform:"translate(0, 150)",children:[l.jsx("line",{x1:"250",y1:"0",x2:"745",y2:"0",stroke:"#a855f7",strokeWidth:"2",markerEnd:"url(#arrow-purple)"}),l.jsx("text",{x:"500",y:"-10",fill:"#c084fc",textAnchor:"middle",children:"3. gateway.createSession() [Factory]"})]}),l.jsxs("g",{transform:"translate(0, 190)",children:[l.jsx("line",{x1:"750",y1:"0",x2:"255",y2:"0",stroke:"#94a3b8",strokeWidth:"2",strokeDasharray:"4",markerEnd:"url(#arrow)"}),l.jsx("text",{x:"500",y:"-10",fill:"#94a3b8",textAnchor:"middle",children:"4. Return { sessionId, sessionUrl }"})]}),l.jsxs("g",{transform:"translate(0, 230)",children:[l.jsx("line",{x1:"250",y1:"0",x2:"495",y2:"0",stroke:"#94a3b8",strokeWidth:"2",markerEnd:"url(#arrow)"}),l.jsx("text",{x:"375",y:"-10",fill:"#94a3b8",textAnchor:"middle",children:"5. Save PaymentSession"})]}),l.jsxs("g",{transform:"translate(0, 270)",children:[l.jsx("line",{x1:"250",y1:"0",x2:"55",y2:"0",stroke:"#3b82f6",strokeWidth:"2",strokeDasharray:"4",markerEnd:"url(#arrow-blue)"}),l.jsx("text",{x:"150",y:"-10",fill:"#60a5fa",textAnchor:"middle",children:"6. 201 Created { sessionUrl }"})]}),l.jsx("rect",{x:"50",y:"300",width:"700",height:"50",rx:"4",fill:"#1e293b",stroke:"#475569",strokeDasharray:"4"}),l.jsx("text",{x:"400",y:"330",fill:"#cbd5e1",textAnchor:"middle",fontStyle:"italic",children:"7. Client enters card details on Provider Hosted Page (3DS Auth)"}),l.jsx("text",{x:"400",y:"380",fill:"#fff",fontWeight:"bold",textAnchor:"middle",fontSize:"14",children:"--- PARALLEL COMPLETION FLOW ---"}),l.jsxs("g",{transform:"translate(0, 410)",children:[l.jsx("line",{x1:"750",y1:"0",x2:"255",y2:"0",stroke:"#10b981",strokeWidth:"2",markerEnd:"url(#arrow-green)"}),l.jsx("text",{x:"500",y:"-10",fill:"#6ee7b7",textAnchor:"middle",children:"8a. Redirect  /redirect?status=SUCCESS (UX)"})]}),l.jsxs("g",{transform:"translate(0, 450)",children:[l.jsx("line",{x1:"750",y1:"0",x2:"255",y2:"0",stroke:"#f43f5e",strokeWidth:"2",markerEnd:"url(#arrow)"}),l.jsx("text",{x:"500",y:"-10",fill:"#fda4af",textAnchor:"middle",children:"8b. Webhook  /webhook/{provider} (Truth)"})]}),l.jsxs("g",{transform:"translate(0, 490)",children:[l.jsx("line",{x1:"250",y1:"0",x2:"495",y2:"0",stroke:"#94a3b8",strokeWidth:"2",markerEnd:"url(#arrow)"}),l.jsx("text",{x:"375",y:"-10",fill:"#94a3b8",textAnchor:"middle",children:"9. Session='paid', Booking='paid_deposit'"})]}),l.jsxs("g",{transform:"translate(0, 530)",children:[l.jsx("text",{x:"250",y:"0",fill:"#e2e8f0",fontWeight:"bold",textAnchor:"end",children:"Fire EventBridge:"}),l.jsx("text",{x:"260",y:"0",fill:"#fbbf24",fontWeight:"bold",textAnchor:"start",children:'"payment.success"'})]}),l.jsxs("g",{transform:"translate(0, 570)",children:[l.jsx("line",{x1:"250",y1:"0",x2:"55",y2:"0",stroke:"#10b981",strokeWidth:"2",strokeDasharray:"4",markerEnd:"url(#arrow-green)"}),l.jsx("text",{x:"150",y:"-10",fill:"#6ee7b7",textAnchor:"middle",children:"10. 302 Redirect to Success Page"})]})]})}),GN=()=>l.jsx("div",{className:"min-w-[600px] text-xs",children:l.jsxs("svg",{viewBox:"0 0 700 400",className:"w-full h-auto font-mono",children:[l.jsxs("defs",{children:[l.jsx("marker",{id:"arrow-red",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:l.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#f43f5e"})}),l.jsx("marker",{id:"arrow-gray",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:l.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#94a3b8"})})]}),l.jsxs("g",{transform:"translate(0, 0)",children:[l.jsx("text",{x:"50",y:"30",fill:"#cbd5e1",fontWeight:"bold",textAnchor:"middle",children:"CLIENT"}),l.jsx("line",{x1:"50",y1:"40",x2:"50",y2:"380",stroke:"#334155",strokeDasharray:"4"})]}),l.jsxs("g",{transform:"translate(300, 0)",children:[l.jsx("text",{x:"50",y:"30",fill:"#cbd5e1",fontWeight:"bold",textAnchor:"middle",children:"API"}),l.jsx("line",{x1:"50",y1:"40",x2:"50",y2:"380",stroke:"#334155",strokeDasharray:"4"})]}),l.jsxs("g",{transform:"translate(600, 0)",children:[l.jsx("text",{x:"50",y:"30",fill:"#cbd5e1",fontWeight:"bold",textAnchor:"middle",children:"GATEWAY"}),l.jsx("line",{x1:"50",y1:"40",x2:"50",y2:"380",stroke:"#334155",strokeDasharray:"4"})]}),l.jsxs("g",{transform:"translate(0, 80)",children:[l.jsx("line",{x1:"50",y1:"0",x2:"645",y2:"0",stroke:"#f43f5e",strokeWidth:"2",markerEnd:"url(#arrow-red)"}),l.jsx("text",{x:"350",y:"-10",fill:"#fda4af",textAnchor:"middle",children:"1. Card Declined / Timeout"})]}),l.jsxs("g",{transform:"translate(0, 140)",children:[l.jsx("line",{x1:"650",y1:"0",x2:"355",y2:"0",stroke:"#f43f5e",strokeWidth:"2",markerEnd:"url(#arrow-red)"}),l.jsx("text",{x:"500",y:"-10",fill:"#fda4af",textAnchor:"middle",children:"2. Redirect with Failure Status"})]}),l.jsxs("g",{transform:"translate(0, 200)",children:[l.jsx("text",{x:"350",y:"0",fill:"#cbd5e1",textAnchor:"middle",children:"3. Update Session -> 'failed'"}),l.jsx("text",{x:"350",y:"20",fill:"#cbd5e1",textAnchor:"middle",children:"4. Release Booking Slot"})]}),l.jsxs("g",{transform:"translate(0, 280)",children:[l.jsx("line",{x1:"350",y1:"0",x2:"55",y2:"0",stroke:"#f43f5e",strokeWidth:"2",strokeDasharray:"4",markerEnd:"url(#arrow-red)"}),l.jsx("text",{x:"200",y:"-10",fill:"#fda4af",textAnchor:"middle",children:"5. Redirect to Failure Page"})]})]})}),KN=()=>l.jsx("div",{className:"min-w-[600px] text-xs",children:l.jsxs("svg",{viewBox:"0 0 800 450",className:"w-full h-auto font-mono",children:[l.jsxs("defs",{children:[l.jsx("marker",{id:"arrow-blue",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:l.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#3b82f6"})}),l.jsx("marker",{id:"arrow-red",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:l.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#f43f5e"})})]}),l.jsx("rect",{x:"50",y:"50",width:"180",height:"300",rx:"8",fill:"#1e293b",stroke:"#475569"}),l.jsx("text",{x:"140",y:"80",fill:"#fff",textAnchor:"middle",fontWeight:"bold",fontSize:"14",children:"NODE_ENV"}),l.jsx("line",{x1:"60",y1:"200",x2:"220",y2:"200",stroke:"#475569",strokeWidth:"1"}),l.jsx("text",{x:"140",y:"140",fill:"#a78bfa",textAnchor:"middle",fontSize:"12",children:"development"}),l.jsx("text",{x:"140",y:"260",fill:"#fb7185",textAnchor:"middle",fontSize:"12",children:"production"}),l.jsx("path",{d:"M 230 140 L 380 140",stroke:"#3b82f6",strokeWidth:"2",markerEnd:"url(#arrow-blue)",fill:"none"}),l.jsx("path",{d:"M 230 260 L 380 260",stroke:"#f43f5e",strokeWidth:"2",markerEnd:"url(#arrow-red)",fill:"none"}),l.jsx("rect",{x:"390",y:"90",width:"350",height:"100",rx:"6",fill:"#1e293b",stroke:"#3b82f6",strokeWidth:"2"}),l.jsx("text",{x:"410",y:"120",fill:"#60a5fa",fontSize:"12",fontWeight:"bold",children:"TEST Environment"}),l.jsxs("g",{transform:"translate(410, 140)",children:[l.jsx("text",{x:"0",y:"0",fill:"#94a3b8",fontSize:"11",children:"Kashier: test-api.kashier.io"}),l.jsx("text",{x:"0",y:"15",fill:"#94a3b8",fontSize:"11",children:"Paymob:  accept.paymob.com (Test Keys)"}),l.jsx("text",{x:"0",y:"30",fill:"#e2e8f0",fontSize:"11",children:"Creds:   KASHIER_TEST_*, PAYMOB_TEST_*"})]}),l.jsx("rect",{x:"390",y:"210",width:"350",height:"100",rx:"6",fill:"#1e293b",stroke:"#f43f5e",strokeWidth:"2"}),l.jsx("text",{x:"410",y:"240",fill:"#fda4af",fontSize:"12",fontWeight:"bold",children:"LIVE Environment"}),l.jsxs("g",{transform:"translate(410, 260)",children:[l.jsx("text",{x:"0",y:"0",fill:"#94a3b8",fontSize:"11",children:"Kashier: api.kashier.io"}),l.jsx("text",{x:"0",y:"15",fill:"#94a3b8",fontSize:"11",children:"Paymob:  accept.paymob.com (Live Keys)"}),l.jsx("text",{x:"0",y:"30",fill:"#e2e8f0",fontSize:"11",children:"Creds:   KASHIER_LIVE_*, PAYMOB_LIVE_*"})]}),l.jsx("text",{x:"400",y:"350",fill:"#cbd5e1",fontSize:"11",fontStyle:"italic",children:"* GatewayFactory selects credentials automatically based on NODE_ENV."}),l.jsx("text",{x:"400",y:"365",fill:"#cbd5e1",fontSize:"11",fontStyle:"italic",children:"* No code changes required to switch environments."})]})}),Vy=({label:a,value:i})=>l.jsxs("div",{className:"group relative",children:[l.jsxs("div",{className:"flex justify-between items-center mb-1",children:[l.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:a.replace("_"," ")}),i&&l.jsx(Vv,{size:12,className:"text-slate-400 cursor-pointer hover:text-primary-500"})]}),l.jsx("div",{className:`font-mono text-xs p-3 rounded border border-slate-200 break-all transition-colors ${i?"bg-white text-slate-700":"bg-slate-50 text-slate-400 italic"}`,children:i||"Pending update..."})]}),Ly=({baseUrl:a,docUrl:i})=>l.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 flex gap-4 text-xs",children:[l.jsxs("div",{className:"flex items-center gap-1.5 text-slate-600",children:[l.jsx(nr,{size:14,className:"text-slate-400"}),l.jsx("span",{className:"font-semibold",children:"API Base:"}),l.jsx("code",{className:"bg-slate-100 px-1.5 py-0.5 rounded text-slate-700",children:a})]}),l.jsxs("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-primary-600 hover:text-primary-700 hover:underline font-medium ml-auto",children:["Official Docs ",l.jsx(qv,{size:12})]})]}),YN=()=>{const a=[{key:"merchant_id",value:"MID-42480-642"},{key:"api_key",value:"e485f3a8-175a-481a-b139-29a4d4b62290"},{key:"secret_key",value:"51f6e600163bb8936dae3fb34b2f6958$72b2b62ce603db9dfa232d28ecaecbfb29629871c8d9cfd8f64ca70ae4eadc89e8b9d266653468907f7c2bddbab99efe"}],i=[{key:"public_key",value:"egy_pk_test_TkCnyF75HE1Rm99XfiQD8TmtWElQWfps"},{key:"secret_key",value:"egy_sk_test_66056377e4b07773394023f69c47fbe248c6a50d6d839b291c5c5c31eb5abbb6"},{key:"hmac_secret",value:"24A86C32358970E6FC842A6DA1E0FC72"},{key:"integration_id",value:""},{key:"iframe_id",value:""}];return l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[l.jsxs("div",{className:"flex justify-between items-start mb-6",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-2xl font-bold text-slate-900 flex items-center gap-2",children:[l.jsx(Ky,{className:"text-primary-600"})," API Info & Credentials"]}),l.jsx("p",{className:"text-slate-600 mt-2",children:"Platform-level secrets and endpoints now managed centrally via .env."})]}),l.jsx(ye,{variant:"danger",children:"CONFIDENTIAL"})]}),l.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4 mb-8 flex items-start gap-3",children:[l.jsx(wv,{className:"text-amber-600 shrink-0 mt-0.5",size:18}),l.jsxs("div",{className:"text-sm text-amber-800",children:[l.jsx("strong",{children:"Security Warning:"})," All provider endpoints (URLs) and keys MUST be injected via environment variables."]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[l.jsxs("div",{className:"rounded-xl border border-slate-200 overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-200 flex justify-between items-center",children:[l.jsx("h3",{className:"font-bold text-slate-800",children:"Kashier (Test)"}),l.jsx(ye,{variant:"success",children:"Active"})]}),l.jsxs("div",{className:"p-6 space-y-5 bg-slate-50/30 flex-1",children:[a.map(c=>l.jsx(Vy,{label:c.key,value:c.value},c.key)),l.jsx(Ly,{baseUrl:"https://test-api.kashier.io",docUrl:"https://developers.kashier.io/"})]})]}),l.jsxs("div",{className:"rounded-xl border border-slate-200 overflow-hidden flex flex-col",children:[l.jsxs("div",{className:"bg-slate-50 px-4 py-3 border-b border-slate-200 flex justify-between items-center",children:[l.jsx("h3",{className:"font-bold text-slate-800",children:"Paymob (Test)"}),l.jsx(ye,{variant:"warning",children:"Pending"})]}),l.jsxs("div",{className:"p-6 space-y-5 bg-slate-50/30 flex-1",children:[i.map(c=>l.jsx(Vy,{label:c.key,value:c.value},c.key)),l.jsx(Ly,{baseUrl:"https://accept.paymob.com/api",docUrl:"https://docs.paymob.com/"})]})]})]}),l.jsxs("div",{className:"mt-8 pt-8 border-t border-slate-100",children:[l.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-6 flex items-center gap-2",children:[l.jsx(N1,{size:18})," Example Requests (Reference)"]}),l.jsx(Me,{language:"bash",code:`curl --location 'https://test-api.kashier.io/v3/payment/sessions' \\
--header 'Authorization: 51f6e600163bb8936dae3fb34b2f6958$72b2b62ce603db9dfa232d28ecaecbfb29629871c8d9cfd8f64ca70ae4eadc89e8b9d266653468907f7c2bddbab99efe' \\
--header 'api-key: e485f3a8-175a-481a-b139-29a4d4b62290' \\
--header 'Content-Type: application/json' \\
--data-raw '{
  "amount": "1.00",
  "currency": "EGP",
  "order": "8f64saf6sa4",
  "merchantId": "MID-42480-642"
}'`})]})]}),l.jsxs("div",{className:"bg-slate-900 rounded-xl p-6 text-slate-300 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-3 text-white font-semibold",children:[l.jsx(wu,{size:16})," Centralized .env Strategy"]}),l.jsxs("p",{className:"mb-2",children:["Update your local ",l.jsx("code",{children:".env"})," with these keys. The ",l.jsx("code",{children:"GatewayFactory"})," resolves them dynamically based on ",l.jsx("code",{children:"NODE_ENV"}),"."]}),l.jsxs("code",{className:"block bg-slate-800 p-3 rounded border border-slate-700 font-mono text-[10px] mt-3 leading-relaxed",children:["# --- KASHIER ---",l.jsx("br",{}),"KASHIER_TEST_API_URL=https://test-api.kashier.io",l.jsx("br",{}),"KASHIER_TEST_CHECKOUT_URL=https://test-payments.kashier.io",l.jsx("br",{}),"KASHIER_TEST_API_KEY=e485f3a8...",l.jsx("br",{}),"KASHIER_TEST_SECRET_KEY=51f6e600...",l.jsx("br",{}),l.jsx("br",{}),"# --- PAYMOB ---",l.jsx("br",{}),"PAYMOB_TEST_BASE_URL=https://accept.paymob.com",l.jsx("br",{}),"PAYMOB_TEST_SECRET_KEY=egy_sk_test_...",l.jsx("br",{}),"PAYMOB_TEST_HMAC_SECRET=24A86C32..."]})]})]})},Py=({enabled:a,setEnabled:i,label:o})=>l.jsxs("div",{className:"flex items-center justify-between",children:[o&&l.jsx("span",{className:"text-sm font-medium text-slate-700",children:o}),l.jsx("button",{onClick:()=>i(!a),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${a?"bg-primary-600":"bg-slate-200"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a?"translate-x-6":"translate-x-1"}`})})]}),IN=[{id:"TXN-8842",date:"2024-05-15",service:"Haircut & Styling",practitioner:"Ahmed Ali",amount:"250.00 EGP",status:"Completed"},{id:"TXN-8843",date:"2024-05-16",service:"Full Beard Trim",practitioner:"Ahmed Ali",amount:"120.00 EGP",status:"Completed"},{id:"TXN-8844",date:"2024-05-16",service:"Spa Massage",practitioner:"Sara Kamal",amount:"800.00 EGP",status:"Refunded"},{id:"TXN-8845",date:"2024-05-17",service:"Manicure",practitioner:"Layla Nour",amount:"150.00 EGP",status:"Completed"}],XN=()=>{const[a,i]=F.useState("settings"),[o,c]=F.useState(!0),[d,m]=F.useState(!0),[h,p]=F.useState(50),[x,y]=F.useState(null);return l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-slate-200 flex justify-between items-center bg-slate-50/50",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900",children:"B2B Integration: Merchant Portal"}),l.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Configure how your business accepts online payments."})]}),l.jsxs("div",{className:"flex rounded-lg overflow-hidden border border-slate-200",children:[l.jsx("button",{onClick:()=>i("settings"),className:`px-4 py-2 text-sm font-medium transition-colors ${a==="settings"?"bg-primary-600 text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,children:"Accepting Payments"}),l.jsx("button",{onClick:()=>i("services"),className:`px-4 py-2 text-sm font-medium transition-colors ${a==="services"?"bg-primary-600 text-white":"bg-white text-slate-600 hover:bg-slate-50"}`,children:"Services (Offerings)"})]})]}),a==="settings"?l.jsx("div",{className:"p-8",children:l.jsxs("div",{className:"max-w-3xl space-y-10",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-50 rounded-xl border border-slate-200 shadow-sm",children:[l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-full bg-primary-100 flex items-center justify-center text-primary-600",children:l.jsx(su,{size:24})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Accept Online Payments"}),l.jsx("p",{className:"text-sm text-slate-600",children:"Enable customers to pay via card or wallet at booking time."})]})]}),l.jsx(Py,{enabled:o,setEnabled:c})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-bold text-slate-700 flex items-center gap-1.5 uppercase tracking-wide",children:["Merchant ID ",l.jsx(ye,{variant:"neutral",children:"READ-ONLY"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",readOnly:!0,value:"MID-BK-9932-EGY",className:"w-full bg-slate-50 border border-slate-200 rounded-lg px-4 py-3 font-mono text-sm text-slate-500 focus:outline-none"}),l.jsx("div",{className:"absolute right-3 top-3.5",children:l.jsx(bp,{size:16,className:"text-slate-400"})})]}),l.jsx("p",{className:"text-xs text-slate-500 italic",children:"This ID is assigned by bookit admins after verifying your business credentials."})]}),l.jsxs("div",{className:"pt-6 border-t border-slate-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Online Payment Transactions"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx(u1,{size:14,className:"absolute left-3 top-2.5 text-slate-400"}),l.jsx("input",{type:"text",placeholder:"Search transactions...",className:"pl-9 pr-4 py-2 text-xs border border-slate-200 rounded-lg focus:ring-1 focus:ring-primary-500 focus:outline-none"})]}),l.jsx("button",{className:"p-2 border border-slate-200 rounded-lg text-slate-600 hover:bg-slate-50 transition-colors",children:l.jsx(Xv,{size:14})})]})]}),l.jsxs("div",{className:"flex gap-3 mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-full text-xs text-slate-600",children:[l.jsx(Gy,{size:12})," Date: Last 30 Days"]}),l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-full text-xs text-slate-600",children:[l.jsx(vp,{size:12})," Service: All"]}),l.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-50 border border-slate-200 rounded-full text-xs text-slate-600",children:[l.jsx(D1,{size:12})," Practitioner: Ahmed Ali"]})]}),l.jsx("div",{className:"overflow-hidden border border-slate-200 rounded-xl",children:l.jsxs("table",{className:"w-full text-sm text-left",children:[l.jsx("thead",{className:"bg-slate-50 text-slate-500 font-medium",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 border-b border-slate-100",children:"Txn Reference"}),l.jsx("th",{className:"px-4 py-3 border-b border-slate-100",children:"Service"}),l.jsx("th",{className:"px-4 py-3 border-b border-slate-100",children:"Amount"}),l.jsx("th",{className:"px-4 py-3 border-b border-slate-100",children:"Status"})]})}),l.jsx("tbody",{className:"divide-y divide-slate-100",children:IN.map(b=>l.jsxs("tr",{onClick:()=>y(b.id),className:`cursor-pointer transition-colors ${x===b.id?"bg-primary-50":"hover:bg-slate-50"}`,children:[l.jsxs("td",{className:"px-4 py-4",children:[l.jsx("div",{className:"font-mono text-xs font-bold text-slate-700",children:b.id}),l.jsx("div",{className:"text-[10px] text-slate-400 mt-0.5",children:b.date})]}),l.jsxs("td",{className:"px-4 py-4",children:[l.jsx("div",{className:"font-medium text-slate-800",children:b.service}),l.jsxs("div",{className:"text-[10px] text-slate-400 mt-0.5",children:["By ",b.practitioner]})]}),l.jsx("td",{className:"px-4 py-4 font-bold text-slate-700",children:b.amount}),l.jsx("td",{className:"px-4 py-4",children:l.jsx(ye,{variant:b.status==="Completed"?"success":"neutral",children:b.status})})]},b.id))})]})}),x&&l.jsxs("div",{className:"mt-4 p-4 bg-primary-50 border border-primary-200 rounded-lg flex items-center justify-between animate-in fade-in slide-in-from-top-2",children:[l.jsxs("div",{className:"text-sm font-medium text-primary-900",children:["Selected: ",l.jsx("span",{className:"font-mono font-bold",children:x})]}),l.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-white border border-primary-200 rounded-lg text-xs font-bold text-primary-700 hover:bg-primary-100 transition-colors",children:[l.jsx(r1,{size:14})," Request Refund"]})]})]})]})}):l.jsx("div",{className:"p-8",children:l.jsxs("div",{className:"max-w-2xl bg-white border border-slate-200 rounded-xl overflow-hidden shadow-sm",children:[l.jsxs("div",{className:"p-4 bg-slate-50 border-b border-slate-200 flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary-600 flex items-center justify-center text-white",children:l.jsx(vp,{size:20})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-slate-900",children:"Edit Service: Haircut & Styling"}),l.jsx("p",{className:"text-xs text-slate-500",children:"Service Category: Grooming"})]})]}),l.jsxs("div",{className:"p-6 space-y-8",children:[l.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-slate-100",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-900",children:"Require Payment to book"}),l.jsx("p",{className:"text-sm text-slate-500",children:"Customers must pay a percentage of the service cost to secure their slot."})]}),l.jsx(Py,{enabled:d,setEnabled:m})]}),l.jsxs("div",{className:`space-y-4 transition-opacity ${d?"opacity-100":"opacity-40 pointer-events-none"}`,children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("label",{className:"text-sm font-bold text-slate-700 uppercase tracking-wide",children:"Percentage of Amount to pay to secure booking:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"number",value:h,onChange:b=>p(Number(b.target.value)),className:"w-20 px-3 py-2 border border-slate-300 rounded-lg text-right font-mono text-sm focus:ring-2 focus:ring-primary-500 focus:outline-none",min:"1",max:"100"}),l.jsx("span",{className:"text-slate-500 font-bold",children:"%"})]})]}),l.jsxs("div",{className:"bg-amber-50 border border-amber-100 p-4 rounded-lg flex gap-3",children:[l.jsx(bp,{size:18,className:"text-amber-600 shrink-0 mt-0.5"}),l.jsxs("div",{className:"text-xs text-amber-800 leading-relaxed",children:[l.jsx("strong",{children:"Example:"})," For a 250 EGP service at 50% deposit, the client will pay ",l.jsx("strong",{children:"125.00 EGP"})," now. The remaining 125.00 EGP will be paid at the business."]})]})]}),l.jsxs("div",{className:"pt-4 flex gap-3",children:[l.jsx("button",{className:"flex-1 px-4 py-3 bg-primary-600 text-white font-bold rounded-lg shadow-md hover:bg-primary-700 transition-colors",children:"Save Changes"}),l.jsx("button",{className:"px-6 py-3 border border-slate-200 text-slate-600 font-bold rounded-lg hover:bg-slate-50 transition-colors",children:"Cancel"})]})]})]})})]})})},QN=()=>l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200 max-w-4xl",children:[l.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"B2C Integration: Client Checkout"}),l.jsx("p",{className:"text-slate-600 mb-8",children:"Preview of the last step of the booking flow on the Business's public page."}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[l.jsx(Nv,{className:"text-green-500"})," Confirm Booking Details"]}),l.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-xl p-6 space-y-4",children:[l.jsxs("div",{className:"flex justify-between items-start border-b border-slate-200 pb-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-slate-900 text-lg",children:"Haircut & Styling"}),l.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:"Ahmed Ali  Tuesday, May 20, 2024"}),l.jsx("p",{className:"text-sm text-slate-500",children:"10:00 AM - 11:00 AM"})]}),l.jsx("div",{className:"text-right",children:l.jsx("span",{className:"font-bold text-slate-900",children:"250.00 EGP"})})]}),l.jsxs("div",{className:"space-y-3 py-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-600",children:"Subtotal"}),l.jsx("span",{className:"text-slate-800 font-medium",children:"250.00 EGP"})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-600",children:"Booking Fee"}),l.jsx("span",{className:"text-slate-800 font-medium",children:"0.00 EGP"})]}),l.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-slate-200",children:[l.jsx("span",{className:"text-lg font-bold text-slate-900",children:"Total Price"}),l.jsx("span",{className:"text-lg font-bold text-slate-900",children:"250.00 EGP"})]})]}),l.jsxs("div",{className:"bg-primary-600 rounded-xl p-5 text-white shadow-lg relative overflow-hidden",children:[l.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-bold text-primary-100 uppercase tracking-widest mb-1",children:"Pay Now to Secure"}),l.jsx("div",{className:"text-3xl font-black",children:"125.00 EGP"}),l.jsx("div",{className:"text-[10px] text-primary-200 mt-1 font-medium italic",children:"50% Deposit Required"})]}),l.jsx(ye,{variant:"success",className:"bg-white/20 text-white border-white/30 text-[10px]",children:"DOWNPAYMENT"})]}),l.jsx("div",{className:"absolute top-0 right-0 h-full w-24 bg-white/5 skew-x-[-20deg] translate-x-12"})]}),l.jsx("div",{className:"text-[11px] text-slate-500 text-center leading-relaxed",children:'By clicking "Pay & Book", you will be redirected to our secure payment partner to complete the transaction.'}),l.jsxs("button",{className:"w-full py-4 bg-slate-900 text-white font-black rounded-xl hover:bg-black transition-all flex items-center justify-center gap-2 group shadow-xl",children:["Pay & Book ",l.jsx(Ev,{size:18,className:"group-hover:translate-x-1 transition-transform"})]})]}),l.jsxs("div",{className:"flex items-center justify-center gap-6 opacity-40 grayscale hover:opacity-100 hover:grayscale-0 transition-all",children:[l.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/5e/Visa_Inc._logo.svg",className:"h-4",alt:"Visa"}),l.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/2/2a/Mastercard-logo.svg",className:"h-6",alt:"Mastercard"}),l.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/b/b5/PayPal.svg",className:"h-4",alt:"Paypal"})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-lg font-bold text-slate-400",children:"Example 2: Full Payment Required"}),l.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl p-6 opacity-60",children:[l.jsxs("div",{className:"flex justify-between items-center pt-2 mb-6",children:[l.jsx("span",{className:"text-lg font-bold text-slate-900",children:"Total Price"}),l.jsx("span",{className:"text-lg font-bold text-slate-900",children:"250.00 EGP"})]}),l.jsx("div",{className:"bg-slate-800 rounded-xl p-5 text-white shadow-lg relative overflow-hidden mb-6",children:l.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mb-1",children:"Pay Now to Secure"}),l.jsx("div",{className:"text-3xl font-black",children:"250.00 EGP"}),l.jsx("div",{className:"text-[10px] text-slate-400 mt-1 font-medium italic",children:"Full Payment Required"})]}),l.jsx(ye,{variant:"neutral",className:"bg-white/20 text-white border-white/30 text-[10px]",children:"FULL PAYMENT"})]})}),l.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 border border-blue-100 rounded-lg",children:[l.jsx(Cu,{size:18,className:"text-blue-600 shrink-0 mt-0.5"}),l.jsxs("div",{className:"text-xs text-blue-800 font-medium",children:["Secure checkout powered by ",l.jsx("strong",{children:"bookit Pay"}),". Your transaction is encrypted and 3DS verified."]})]})]}),l.jsxs("div",{className:"p-6 bg-slate-50 rounded-xl border border-slate-200",children:[l.jsxs("h4",{className:"font-bold text-slate-800 flex items-center gap-2 mb-2",children:[l.jsx(wu,{size:16,className:"text-primary-600"})," Technical Context"]}),l.jsxs("p",{className:"text-xs text-slate-600 leading-relaxed",children:['The B2C frontend calculates the "Pay Now" amount based on the ',l.jsx("code",{children:"ServicePaymentConfig"}),'. If the ratio is 1.0 (100%), the system labels it as "FULL PAYMENT". Otherwise, it highlights the percentage as a "DOWNPAYMENT" to reserve the booking.']})]})]})]})]})}),ZN=()=>{const[a,i]=F.useState("executive-summary"),o=()=>{switch(a){case"executive-summary":return l.jsx(zy,{});case"data-flow":return l.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-sm border border-slate-200",children:[l.jsx("h2",{className:"text-2xl font-bold mb-6 text-slate-900",children:"Data Flow Diagram"}),l.jsx(HN,{}),l.jsxs("div",{className:"mt-6 text-sm text-slate-600 bg-slate-50 p-4 rounded border border-slate-200",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"Provider Agnostic Flow:"})," The steps remain identical regardless of whether Kashier or Paymob is selected."]}),l.jsxs("p",{className:"mt-2",children:["The ",l.jsx("strong",{children:"GatewayFactory"})," (Step 2) abstracts the differences. The ",l.jsx("strong",{children:"Webhook"})," (Step 8) is the source of truth for payment completion."]})]})]});case"domain-analysis":return l.jsx(DN,{});case"tech-architecture":return l.jsx(MN,{});case"credentials":return l.jsx(YN,{});case"b2b-integration":return l.jsx(XN,{});case"b2c-integration":return l.jsx(QN,{});case"database-schema":return l.jsx(RN,{});case"code-specs":return l.jsx(ON,{});case"security-review":return l.jsx(UN,{});case"api-design":return l.jsx(LN,{});case"test-strategy":return l.jsx(PN,{});case"implementation":return l.jsx(BN,{});default:return l.jsx(zy,{})}};return l.jsxs("div",{className:"flex min-h-screen bg-slate-50 font-sans text-slate-900",children:[l.jsx(U1,{activeSection:a,onNavigate:i}),l.jsx("main",{className:"flex-1 ml-64 p-8 transition-all",children:l.jsx("div",{className:"max-w-6xl mx-auto",children:o()})})]})},Mg=document.getElementById("root");if(!Mg)throw new Error("Could not find root element to mount to");const FN=fv.createRoot(Mg);FN.render(l.jsx(sv.StrictMode,{children:l.jsx(ZN,{})}));
